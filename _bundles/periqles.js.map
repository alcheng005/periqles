{"version":3,"sources":["webpack://periqles/webpack/universalModuleDefinition","webpack://periqles/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://periqles/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://periqles/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://periqles/./node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js","webpack://periqles/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://periqles/./node_modules/@babel/runtime/helpers/extends.js","webpack://periqles/./node_modules/@babel/runtime/helpers/inheritsLoose.js","webpack://periqles/./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack://periqles/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://periqles/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://periqles/./node_modules/@babel/runtime/helpers/objectSpread2.js","webpack://periqles/./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://periqles/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://periqles/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://periqles/./node_modules/@babel/runtime/helpers/typeof.js","webpack://periqles/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://periqles/./periqles.css","webpack://periqles/./node_modules/css-loader/dist/runtime/api.js","webpack://periqles/./node_modules/css-loader/dist/runtime/cssWithMappingToString.js","webpack://periqles/./node_modules/fbjs/lib/ErrorUtils.js","webpack://periqles/./node_modules/fbjs/lib/areEqual.js","webpack://periqles/./node_modules/fbjs/lib/emptyFunction.js","webpack://periqles/./node_modules/fbjs/lib/invariant.js","webpack://periqles/./node_modules/fbjs/lib/mapObject.js","webpack://periqles/./node_modules/fbjs/lib/warning.js","webpack://periqles/./node_modules/react-relay/index.js","webpack://periqles/./node_modules/react-relay/lib/ReactRelayContainerUtils.js","webpack://periqles/./node_modules/react-relay/lib/ReactRelayContext.js","webpack://periqles/./node_modules/react-relay/lib/ReactRelayFragmentContainer.js","webpack://periqles/./node_modules/react-relay/lib/ReactRelayLocalQueryRenderer.js","webpack://periqles/./node_modules/react-relay/lib/ReactRelayPaginationContainer.js","webpack://periqles/./node_modules/react-relay/lib/ReactRelayQueryFetcher.js","webpack://periqles/./node_modules/react-relay/lib/ReactRelayQueryRenderer.js","webpack://periqles/./node_modules/react-relay/lib/ReactRelayRefetchContainer.js","webpack://periqles/./node_modules/react-relay/lib/RelayContext.js","webpack://periqles/./node_modules/react-relay/lib/assertFragmentMap.js","webpack://periqles/./node_modules/react-relay/lib/buildReactRelayContainer.js","webpack://periqles/./node_modules/react-relay/lib/getRootVariablesForFragments.js","webpack://periqles/./node_modules/react-relay/lib/index.js","webpack://periqles/./node_modules/react-relay/lib/isRelayEnvironment.js","webpack://periqles/./node_modules/react-relay/lib/readContext.js","webpack://periqles/./node_modules/relay-runtime/index.js","webpack://periqles/./node_modules/relay-runtime/lib/handlers/RelayDefaultHandlerProvider.js","webpack://periqles/./node_modules/relay-runtime/lib/handlers/connection/ConnectionHandler.js","webpack://periqles/./node_modules/relay-runtime/lib/handlers/connection/ConnectionInterface.js","webpack://periqles/./node_modules/relay-runtime/lib/handlers/connection/MutationHandlers.js","webpack://periqles/./node_modules/relay-runtime/lib/index.js","webpack://periqles/./node_modules/relay-runtime/lib/mutations/RelayDeclarativeMutationConfig.js","webpack://periqles/./node_modules/relay-runtime/lib/mutations/RelayRecordProxy.js","webpack://periqles/./node_modules/relay-runtime/lib/mutations/RelayRecordSourceMutator.js","webpack://periqles/./node_modules/relay-runtime/lib/mutations/RelayRecordSourceProxy.js","webpack://periqles/./node_modules/relay-runtime/lib/mutations/RelayRecordSourceSelectorProxy.js","webpack://periqles/./node_modules/relay-runtime/lib/mutations/applyOptimisticMutation.js","webpack://periqles/./node_modules/relay-runtime/lib/mutations/commitLocalUpdate.js","webpack://periqles/./node_modules/relay-runtime/lib/mutations/commitMutation.js","webpack://periqles/./node_modules/relay-runtime/lib/mutations/validateMutation.js","webpack://periqles/./node_modules/relay-runtime/lib/network/ConvertToExecuteFunction.js","webpack://periqles/./node_modules/relay-runtime/lib/network/RelayNetwork.js","webpack://periqles/./node_modules/relay-runtime/lib/network/RelayObservable.js","webpack://periqles/./node_modules/relay-runtime/lib/network/RelayQueryResponseCache.js","webpack://periqles/./node_modules/relay-runtime/lib/query/GraphQLTag.js","webpack://periqles/./node_modules/relay-runtime/lib/query/PreloadableQueryRegistry.js","webpack://periqles/./node_modules/relay-runtime/lib/query/fetchQuery.js","webpack://periqles/./node_modules/relay-runtime/lib/query/fetchQueryInternal.js","webpack://periqles/./node_modules/relay-runtime/lib/store/ClientID.js","webpack://periqles/./node_modules/relay-runtime/lib/store/DataChecker.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayConcreteVariables.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayModernEnvironment.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayModernFragmentSpecResolver.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayModernOperationDescriptor.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayModernQueryExecutor.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayModernRecord.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayModernSelector.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayModernStore.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayOperationTracker.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayOptimisticRecordSource.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayPublishQueue.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayReader.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayRecordSource.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayRecordSourceMapImpl.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayRecordState.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayReferenceMarker.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayResponseNormalizer.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayStoreReactFlightUtils.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayStoreSubscriptions.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayStoreSubscriptionsUsingMapByID.js","webpack://periqles/./node_modules/relay-runtime/lib/store/RelayStoreUtils.js","webpack://periqles/./node_modules/relay-runtime/lib/store/TypeID.js","webpack://periqles/./node_modules/relay-runtime/lib/store/ViewerPattern.js","webpack://periqles/./node_modules/relay-runtime/lib/store/cloneRelayHandleSourceField.js","webpack://periqles/./node_modules/relay-runtime/lib/store/cloneRelayScalarHandleSourceField.js","webpack://periqles/./node_modules/relay-runtime/lib/store/createFragmentSpecResolver.js","webpack://periqles/./node_modules/relay-runtime/lib/store/createRelayContext.js","webpack://periqles/./node_modules/relay-runtime/lib/store/defaultGetDataID.js","webpack://periqles/./node_modules/relay-runtime/lib/store/defaultRequiredFieldLogger.js","webpack://periqles/./node_modules/relay-runtime/lib/store/hasOverlappingIDs.js","webpack://periqles/./node_modules/relay-runtime/lib/store/isRelayModernEnvironment.js","webpack://periqles/./node_modules/relay-runtime/lib/store/readInlineData.js","webpack://periqles/./node_modules/relay-runtime/lib/subscription/requestSubscription.js","webpack://periqles/./node_modules/relay-runtime/lib/util/RelayConcreteNode.js","webpack://periqles/./node_modules/relay-runtime/lib/util/RelayDefaultHandleKey.js","webpack://periqles/./node_modules/relay-runtime/lib/util/RelayError.js","webpack://periqles/./node_modules/relay-runtime/lib/util/RelayFeatureFlags.js","webpack://periqles/./node_modules/relay-runtime/lib/util/RelayProfiler.js","webpack://periqles/./node_modules/relay-runtime/lib/util/RelayReplaySubject.js","webpack://periqles/./node_modules/relay-runtime/lib/util/createPayloadFor3DField.js","webpack://periqles/./node_modules/relay-runtime/lib/util/deepFreeze.js","webpack://periqles/./node_modules/relay-runtime/lib/util/generateID.js","webpack://periqles/./node_modules/relay-runtime/lib/util/getFragmentIdentifier.js","webpack://periqles/./node_modules/relay-runtime/lib/util/getOperation.js","webpack://periqles/./node_modules/relay-runtime/lib/util/getRelayHandleKey.js","webpack://periqles/./node_modules/relay-runtime/lib/util/getRequestIdentifier.js","webpack://periqles/./node_modules/relay-runtime/lib/util/isEmptyObject.js","webpack://periqles/./node_modules/relay-runtime/lib/util/isPromise.js","webpack://periqles/./node_modules/relay-runtime/lib/util/isScalarAndEqual.js","webpack://periqles/./node_modules/relay-runtime/lib/util/recycleNodesInto.js","webpack://periqles/./node_modules/relay-runtime/lib/util/reportMissingRequiredFields.js","webpack://periqles/./node_modules/relay-runtime/lib/util/resolveImmediate.js","webpack://periqles/./node_modules/relay-runtime/lib/util/stableCopy.js","webpack://periqles/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://periqles/external \"react\"","webpack://periqles/webpack/bootstrap","webpack://periqles/webpack/runtime/compat get default export","webpack://periqles/webpack/runtime/define property getters","webpack://periqles/webpack/runtime/global","webpack://periqles/webpack/runtime/hasOwnProperty shorthand","webpack://periqles/webpack/runtime/make namespace object","webpack://periqles/./src/PeriqlesField.tsx","webpack://periqles/./src/functions.tsx","webpack://periqles/./periqles.css?2e43","webpack://periqles/./src/PeriqlesForm.tsx","webpack://periqles/./src/index.tsx"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__9297__","arr","len","length","i","arr2","Array","arrayLikeToArray","isArray","ReferenceError","unsupportedIterableToArray","o","allowArrayLike","it","Symbol","iterator","F","s","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","obj","key","Object","defineProperty","enumerable","configurable","writable","_extends","assign","target","arguments","source","prototype","hasOwnProperty","call","apply","this","setPrototypeOf","subClass","superClass","create","constructor","__esModule","iter","from","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","forEach","getOwnPropertyDescriptors","defineProperties","excluded","sourceKeys","indexOf","_setPrototypeOf","p","__proto__","arrayWithoutHoles","iterableToArray","nonIterableSpread","_typeof","minLen","toString","slice","name","test","___CSS_LOADER_EXPORT___","id","cssWithMappingToString","list","map","item","content","concat","join","modules","mediaQuery","dedupe","alreadyImportedModules","_i","_arrayLikeToArray","_item","_arrayWithHoles","_arr","_n","_d","undefined","_s","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","sourceURLs","sources","sourceRoot","g","ErrorUtils","applyWithGuard","callback","context","args","onError","guard","aStackPool","bStackPool","eq","a","b","aStack","bStack","objToStr","className","String","isNaN","Number","global","multiline","ignoreCase","size","valueOf","pop","result","makeEmptyFunction","arg","emptyFunction","thatReturns","thatReturnsFalse","thatReturnsTrue","thatReturnsNull","thatReturnsThis","thatReturnsArgument","condition","format","_len","_key","error","Error","argIndex","replace","framesToPop","warning","getComponentName","component","displayName","getContainerName","Component","React","createRelayContext","__internal","_interopRequireDefault","_objectSpread2","_objectWithoutPropertiesLoose2","_assertThisInitialized2","_inheritsLoose2","_defineProperty2","areEqual","buildReactRelayContainer","assertRelayContext","_require3","createFragmentSpecResolver","getDataIDsFromObject","isScalarAndEqual","createContainerWithFragments","fragments","_class","_temp","containerName","_React$Component","props","_this","resolverFromThisUpdate","state","resolver","setState","updatedState","resolve","relayProp","getRelayProp","environment","relayContext","__relayContext","prevProps","prevPropsContext","getDerivedStateFromProps","nextProps","prevState","prevIDs","nextIDs","setProps","_proto","componentDidMount","_subscribeToNewResolver","_rerenderIfStoreHasChanged","componentDidUpdate","dispose","componentWillUnmount","shouldComponentUpdate","nextState","ii","_this$state","maybeNewData","setCallback","_handleFragmentDataUpdate","render","_this$props","componentRef","createElement","ref","relay","createContainer","fragmentSpec","ReactRelayContext","useLayoutEffect","useState","useRef","useMemo","_require","createOperationDescriptor","getRequest","deepFreeze","latestValue","query","variables","latestVariables","current","operation","request","dataRef","forceUpdate","cleanupFnRef","snapshot","check","res","lookup","fragment","retainDisposable","retain","subscribeDisposable","subscribe","newSnapshot","disposed","cleanupFn","Provider","_extends2","_objectSpread3","ReactRelayQueryFetcher","getRootVariablesForFragments","invariant","ConnectionInterface","Observable","getVariablesFromObject","getSelector","FORWARD","toObserver","observerOrCallback","complete","unsubscribe","subscription","connectionConfig","ComponentClass","metadata","foundConnectionMetadata","isRelayModern","fragmentName","connectionMetadata","connection","findConnectionMetadata","getConnectionFromProps","path","createGetConnectionFromProps","direction","getFragmentVariables","countVariable","count","prevVars","totalCount","createGetFragmentVariables","_resolver","connectionData","_getConnectionData","hasMore","cursor","_refetchSubscription","refetchVariables","_canFetchPage","_refetchVariables","paginatingVariables","_fetchPage","force","pageSize","options","observer","sink","edgeCount","_refetchConnection","_ConnectionInterface$","get","END_CURSOR","START_CURSOR","_isARequestInFlight","prevContext","contextForChildren","_buildRelayProp","_isUnmounted","_hasFetched","UNSAFE_componentWillReceiveProps","prevRootVariables","nextRootVariables","_cleanup","_hasMore","isLoading","_isLoading","loadMore","_loadMore","refetchConnection","restProps","_ConnectionInterface$2","EDGES","PAGE_INFO","HAS_NEXT_PAGE","HAS_PREV_PAGE","edges","pageInfo","_getQueryFetcher","_queryFetcher","method","fragmentVariables","_this2","_this$props2","rootVariables","fetchVariables","getVariables","cacheConfig","refetchSubscription","cleanup","execute","preservePreviousReferences","mergeMap","payload","prevData","setVariables","node","nextData","onNext","_this$props3","isRelayModernEnvironment","fetchQuery","_cacheSelectionReference","cacheSelectionReference","_selectionReferences","selectionReferences","getSelectionReferences","lookupInStore","fetchPolicy","status","_retainCachedOperation","_ref","_ref$preservePrevious","reference","disposeSelectionReferences","setOnDataChange","onDataChange","_fetchOptions","onDataChangeCallbacks","_callOnDataChangeWhenSet","_error","_snapshot","fetch","fetchOptions","cacheConfigOverride","fetchHasReturned","disposeRequest","oldOnDataChangeCallbacks","operationOverride","_pendingRequest","_onQueryDataAvailable","notifyFirstResult","retry","_rootSubscription","_disposeCacheSelectionReference","r","_ref2","_this3","_this$_fetchOptions","maybeNewOnDataChangeCallbacks","requestCache","ReactRelayQueryRenderer","queryFetcher","requestCacheKey","retryCallbacks","handleDataChange","handleRetryAfterError","getRequestCacheKey","params","prevPropsEnvironment","prevPropsVariables","prevQuery","fetchQueryAndComputeStateFromProps","prevSelectionReferences","prevRequestCacheKey","renderProps","getRenderProps","_this$state2","syncSnapshot","cacheID","genericEnvironment","storeSnapshot","refetch","taggedNode","renderVariables","_getFragmentVariables","localVariables","latestState","response","start","_refetch","isRelayEnvironment","isRelayContext","componentName","assertFragmentMap","mapObject","readContext","getFragment","Container","forwardRef","_selector$selectors$","_selector$selectors$2","_selector$owner$varia","fragmentNode","fragmentRef","selector","fragmentOwnerVariables","kind","selectors","owner","ReactRelayFragmentContainer","ReactRelayLocalQueryRenderer","ReactRelayPaginationContainer","ReactRelayRefetchContainer","RelayRuntime","ConnectionHandler","QueryRenderer","LocalQueryRenderer","MutationTypes","RangeOperations","applyOptimisticMutation","commitLocalUpdate","commitMutation","createFragmentContainer","createPaginationContainer","createRefetchContainer","graphql","readInlineData","requestSubscription","_React$__SECRET_INTER","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentDispatcher","ReactCurrentOwner","Context","currentDispatcher","MutationHandlers","handle","DeleteRecordHandler","DeleteEdgeHandler","AppendEdgeHandler","PrependEdgeHandler","AppendNodeHandler","PrependNodeHandler","getRelayHandleKey","generateClientID","NEXT_EDGE_INDEX","buildConnectionEdge","store","edge","edgeIndex","getValue","edgeID","getDataID","connectionEdge","getType","copyFieldsFrom","setValue","mergeEdges","sourceEdges","targetEdges","nodeIDs","NODE","getLinkedRecord","nodeID","has","add","createEdge","record","edgeType","setLinkedRecord","deleteNode","_ConnectionInterface$5","getLinkedRecords","nextEdges","setLinkedRecords","getConnection","filters","handleKey","insertEdgeAfter","newEdge","CURSOR","foundCursor","insertEdgeBefore","_ConnectionInterface$4","unshift","update","dataID","PAGE_INFO_TYPE","serverConnection","fieldKey","serverPageInfo","clientConnectionID","clientConnectionField","clientConnection","clientPageInfo","_connection","_serverEdges","prevEdges","prevPageInfo","after","Set","before","_nodeIDs","last","startCursor","first","endCursor","serverEdges","CONNECTION_CALLS","find","surrounds","config","CLIENT_MUTATION_ID","inject","newConfig","isConnectionCall","_createForOfIteratorHelper2","idOrIds","connections","handleArgs","_step","_iterator","connectionID","edgeUpdater","nodeUpdater","insertFn","singleServerEdge","_unused","_unused2","_step2","serverEdgeList","_iterator2","serverEdge","_step3","_iterator3","clientEdge","_serverNodes","singleServerNode","serverNodes","_payload$handleArgs","edgeTypeName","_unused3","_unused4","_step4","serverNodeList","_iterator4","serverNode","_step5","_iterator5","GraphQLTag","PreloadableQueryRegistry","RelayConcreteNode","RelayConcreteVariables","RelayDeclarativeMutationConfig","RelayDefaultHandleKey","RelayDefaultHandlerProvider","RelayError","RelayFeatureFlags","RelayModernEnvironment","RelayModernOperationDescriptor","RelayModernRecord","RelayModernSelector","RelayModernStore","RelayNetwork","RelayObservable","RelayOperationTracker","RelayProfiler","RelayQueryResponseCache","RelayRecordSource","RelayReplaySubject","RelayStoreUtils","ViewerPattern","createPayloadFor3DField","fetchQueryInternal","getFragmentIdentifier","getRequestIdentifier","isPromise","recycleNodesInto","reportMissingRequiredFields","stableCopy","generateUniqueClientID","isClientID","Environment","Network","QueryResponseCache","RecordSource","Record","ReplaySubject","Store","areEqualSelectors","createNormalizationSelector","createReaderSelector","createRequestDescriptor","getDataIDsFromFragment","getNode","getInlineDataFragment","getModuleComponentKey","getModuleOperationKey","getPaginationFragment","getPluralSelector","getRefetchableFragment","getSelectorsFromObject","getSingularSelector","getStorageKey","getVariablesFromFragment","getVariablesFromPluralFragment","getVariablesFromSingularFragment","isFragment","isInlineDataFragment","isRequest","DefaultHandlerProvider","VIEWER_ID","VIEWER_TYPE","DEFAULT_HANDLE_KEY","FRAGMENTS_KEY","FRAGMENT_OWNER_KEY","ID_KEY","REF_KEY","REFS_KEY","ROOT_ID","ROOT_TYPE","TYPENAME_KEY","OperationTracker","getOperationVariables","fetchQueryDeduped","getPromiseForActiveRequest","getObservableForActiveRequest","freeze","RANGE_ADD","RANGE_DELETE","NODE_DELETE","APPEND","PREPEND","getRootField","selections","convert","configs","optimisticUpdater","updater","configOptimisticUpdates","configUpdates","type","nodeDeleteResult","deletedIDFieldName","rootField","deleteID","nodeDelete","rangeAddResult","parentID","connectionInfo","edgeName","parent","info","rangeBehavior","rangeAdd","rangeDeleteResult","connectionKeys","pathToConnection","deleteIDs","deletedIDField","eachField","idObject","recordProxy","_loop","rangeDelete","eachOptimisticUpdater","eachUpdater","getStableStorageKey","RelayRecordProxy","mutator","_dataID","_mutator","_source","copyFields","storageKey","isValidLeafValue","linkedID","getLinkedRecordID","setLinkedRecordID","getOrCreateLinkedRecord","typeName","linkedRecord","_this$_source$get","clientID","linkedIDs","getLinkedRecordIDs","records","setLinkedRecordIDs","invalidateRecord","markIDForInvalidation","every","EXISTENT","RelayRecordSourceMutator","base","__sources","_base","_sink","unstable_getRawRecordWithChanges","baseRecord","sinkRecord","clone","_getSinkRecord","set","sourceID","sinkID","sinkSource","baseSource","copyFieldsFromRecord","getStatus","NONEXISTENT","_require2","RelayRecordSourceProxy","handlerProvider","__mutator","_handlerProvider","_proxies","_getDataID","_invalidatedStore","_idsMarkedForInvalidation","publishSource","fieldPayloads","getRecordIDs","sourceRecord","fieldPayload","handler","getRoot","invalidateStore","isStoreMarkedForInvalidation","getIDsMarkedForInvalidation","RelayRecordSourceSelectorProxy","recordSource","readSelector","__recordSource","_readSelector","getOperationRoot","_getRootField","fieldName","plural","field","selection","getPluralRootField","mutation","operationKind","optimisticResponse","applyMutation","commitUpdate","_toConsumableArray2","onUnsubscribe","uploadables","_RelayDeclarativeMuta","errors","executeMutation","onCompleted","convertFetch","fn","logRequestInfo","fetchFn","observeFetch","pollInterval","poll","hostReportError","_isUncaughtThrownError","onUnhandledError","isObservable","fromObservable","fromPromise","fromValue","sub","_error2","error2","both","action","_this4","ifEmpty","alternate","_this5","hasValue","closed","withClosed","doCleanup","_error3","isUncaughtThrownError","_subscribe","_this6","mapValue","_this7","subscriptions","_sub","splice","_this8","timeout","setTimeout","clearTimeout","toPromise","_this9","Promise","reject","resolved","val","promise","then","ttl","_responses","Map","_size","_ttl","clear","queryID","cacheKey","getCacheKey","fetchTime","Date","now","extensions","cacheTimestamp","firstKey","FRAGMENT","REQUEST","INLINE_DATA_FRAGMENT","_fragment$metadata","_fragment$metadata2","strings","preloadableQueryRegistry","_preloadableQueries","_callbacks","callbacks","cb","onLoad","_this$_callbacks$get","requestCachesByEnvironment","WeakMap","identifier","getRequestCache","cachedRequest","subject","subjectForInFlightStatus","cachedReq","getCachedRequest","cachedRequestInstance","getObserverCount","getObservableForCachedRequest","getActiveStatusObservableForCachedRequest","isRequestActive","cached","resolveOnNext","PREFIX","localID","index","RelayStoreReactFlightUtils","cloneRelayHandleSourceField","cloneRelayScalarHandleSourceField","getOperation","UNKNOWN","generateTypeID","CONDITION","CLIENT_EXTENSION","DEFER","FLIGHT_FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT","LINKED_FIELD","LINKED_HANDLE","MODULE_IMPORT","SCALAR_FIELD","SCALAR_HANDLE","STREAM","TYPE_DISCRIMINATOR","getArgumentValues","DataChecker","handlers","operationLoader","_mostRecentlyInvalidatedAt","_handlers","_operationLoader","_recordSourceProxy","_recordWasMissing","_variables","_traverse","mostRecentlyInvalidatedAt","_getVariableValue","_handleMissing","_getDataForHandlers","_handleMissingScalarField","alias","_this$_getDataForHand","newValue","_handleMissingLinkField","_this$_getDataForHand2","_handleMissingPluralLinkField","_this$_getDataForHand3","invalidatedAt","getInvalidationEpoch","Math","max","_traverseSelections","_checkScalar","_checkPluralLink","_checkLink","passingValue","abstractKey","ENABLE_PRECISE_TYPE_REFINEMENT","recordType","typeID","implementsInterface","handleField","_handleField","_checkModuleImport","recordWasMissing","_abstractKey","_recordType","_typeID","ENABLE_REACT_FLIGHT_COMPONENT_FIELD","_checkFlightField","moduleImport","operationKey","documentName","operationReference","normalizationRootNode","fieldValue","tree","REACT_FLIGHT_TREE_STORAGE_KEY","reachableQueries","REACT_FLIGHT_QUERIES_STORAGE_KEY","prevVariables","argumentVariables","argumentDefinitions","definition","defaultValue","operationVariables","def","RelayModernQueryExecutor","RelayPublishQueue","defaultGetDataID","defaultRequiredFieldLogger","generateID","_config$log","_config$requiredField","_config$UNSTABLE_defa","_config$UNSTABLE_DO_N","_config$scheduler","_config$isServer","_config$operationTrac","configName","_treatMissingFieldsAsNull","treatMissingFieldsAsNull","reactFlightPayloadDeserializer","__log","log","requiredFieldLogger","_defaultRenderPolicy","UNSTABLE_defaultRenderPolicy","ENABLE_PARTIAL_RENDERING_DEFAULT","_operationExecutions","_network","__wrapNetworkWithLogObserver","network","UNSTABLE_DO_NOT_USE_getDataID","_publishQueue","_scheduler","scheduler","_store","_isServer","isServer","__setNet","newNet","_global","window","devToolsHook","__RELAY_DEVTOOLS_HOOK__","registerEnvironment","_missingFieldHandlers","missingFieldHandlers","_operationTracker","operationTracker","_reactFlightPayloadDeserializer","getStore","getNetwork","getOperationTracker","requestIdentifier","UNSTABLE_getDefaultRenderPolicy","applyUpdate","optimisticUpdate","_scheduleUpdates","run","revertUpdate","replaceUpdate","newUpdate","optimisticConfig","executor","operationExecutions","publishQueue","cancel","_checkSelectorAndHandleMissingFields","commitPayload","isClientPayload","commitSource","task","schedule","_this10","executeWithSource","_ref3","_this11","toJSON","_this$configName","that","transactionID","logObserver","RelayModernFragmentSpecResolver","_stale","_callback","_context","_data","_fragments","_props","_resolvers","disposeCallback","_key2","prevItem","nextItem","prop","_nextItem","ownedSelectors","_key3","ownedSelector","SelectorListResolver","_onChange","setSelector","SelectorResolver","_key4","_isMissingData","isMissingData","_missingRequiredFields","missingRequiredFields","_environment","_selector","_subscription","_proto2","ENABLE_RELAY_CONTAINERS_SUSPENSE","_getPromiseForActiveR","getPromiseForPendingOperationsAffectingOwner","requestDescriptor","_proto3","disposable","operationDescriptor","RelayResponseNormalizer","Executor","_incrementalPayloadsPending","_incrementalResults","_nextSubscriptionId","_operation","_operationUpdateEpochs","_optimisticUpdates","_pendingModulePayloadsCount","_state","_subscriptions","_updater","_isClientPayload","_complete","_next","_start","_processOptimisticResponse","optimisticUpdates","_completeOperationTracker","_retainDisposable","_updateActiveState","activeState","_schedule","_id2","cancellationToken","_id","_handleNext","_maybeCompleteSubscriptionOperationTracking","_handleErrorResponse","responses","results","messages","message","stack","responseWithData","_handleOptimisticResponses","_response$extensions","some","responsePart","_responsePart$extensi","isOptimistic","responsesWithData","x","_x$extensions","is_final","_partitionGraphQLResp","nonIncrementalResponses","incrementalResponses","label","partitionGraphQLResponses","payloadFollowups","_processResponses","updatedOwners","_updateOperationTracker","_processPayloadFollowups","_payloadFollowups","_processIncrementalResponses","_updatedOwners","normalizeResponse","validateOptimisticResponsePayload","_processOptimisticFollowups","incrementalPlaceholders","moduleImportPayloads","isFinal","moduleImportPayload","_processAsyncOptimisticModuleImport","moduleImportOptimisticUpdates","_processOptimisticModuleImport","_normalizeModuleImport","modulePayload","load","_this$_optimisticUpda","payloadPart","relayPayload","payloads","_processModuleImportPayload","incrementalPlaceholder","_processIncrementalPlaceholder","relayPayloads","placeholder","_processDeferResponse","_handleModuleImportPayload","_id3","decrementPendingCount","_error4","_relayPayload$fieldPa","pathKey","resultForLabel","resultForPath","pendingResponses","nextParentRecord","nextParentPayloads","parentRecord","parentPayloads","fieldID","previousParentEntry","handlePayloads","dedupePayload","_JSON$stringify","values","incrementalResponse","_pathKey","_resultForPath","_placeholder","_processStreamResponse","parentEntry","_response$extensions2","handleFieldsRelayPayload","_this$_normalizeStrea","_normalizeStreamItem","itemID","itemIndex","currentParentRecord","currentItems","currentItem","nextItems","normalizationPath","_field$alias","_field$concreteType","_this$_getDataID","responseKey","finalPathEntry","parseInt","concreteType","_response$extensions3","normalize","INVALIDATED_AT_KEY","link","links","merge","record1","record2","prevRecord","nextRecord","updated","IS_WITHIN_UNMATCHED_TYPE_REFINEMENT","mixedOwner","isWithinUnmatchedTypeRefinement","items","ids","itemVariables","thisSelector","thatSelector","RelayOptimisticRecordSource","RelayReader","RelayReferenceMarker","RelayStoreSubscriptions","RelayStoreSubscriptionsUsingMapByID","resolveImmediate","_options$gcReleaseBuf","_options$gcScheduler","_options$UNSTABLE_DO_","_options$log","_options$operationLoa","_gcRun","_gcScheduler","_gcStep","_currentWriteEpoch","_gcHoldCounter","_gcReleaseBufferSize","gcReleaseBufferSize","gcScheduler","_globalInvalidationEpoch","_invalidationSubscriptions","_invalidatedRecordIDs","_queryCacheExpirationTime","queryCacheExpirationTime","_optimisticSource","_recordSource","_releaseBuffer","_roots","_shouldScheduleGC","_storeSubscriptions","ENABLE_STORE_SUBSCRIPTIONS_REFACTOR","_updatedRecordIDs","rootRecord","initializeRecordSource","getSource","_this$_optimisticSour","_this$_optimisticSour2","_options$target","_options$handlers","globalInvalidationEpoch","rootEntry","operationLastWrittenAt","epoch","operationAvailability","operationFetchTime","getAvailabilityStatus","refCount","scheduleGC","shift","read","notify","sourceOperation","updateSubscriptions","_updateInvalidationSubscription","updatedRecordIDs","invalidatedRecordIDs","temporaryRootEntry","publish","idsMarkedForInvalidation","_this$_optimisticSour3","currentWriteEpoch","targetRecord","dataIDs","REACT_FLIGHT_TYPE_NAME","updateTargetFromSource","optimistic","holdGC","__getUpdatedRecordIDs","lookupInvalidationState","invalidations","_RelayModernRecord$ge","checkInvalidationState","prevInvalidationState","currentInvalidations","prevInvalidations","subscribeToInvalidationState","invalidationState","invalidatedStore","snapshotSubscriptions","restore","restoreSubscriptions","_collect","__gc","gcRun","top","startEpoch","references","mark","storeIDs","remove","instrumentMethods","_ownersToPendingOperations","_pendingOperationsToOwners","_ownersToPromise","pendingOperation","affectedOwners","newlyAffectedOwners","pendingOperationsAffectingOwner","ownersAffectedByOperation","_owner","_resolveOwnerResolvers","completedOwners","_owner2","_owner3","promiseEntry","cachedPromiseEntry","UNPUBLISH_RECORD_SENTINEL","__UNPUBLISH_RECORD_SENTINEL","merged","_hasStoreSnapshot","_pendingBackupRebase","_pendingData","_pendingOptimisticUpdates","_appliedOptimisticUpdates","_gcHold","revertAll","_commitData","_applyUpdates","_publishSourceFromPayload","pendingPayload","recordSourceProxy","lookupSelector","payloadInvalidatedStore","processUpdate","storeUpdater","selectorData","recordSourceSelectorProxy","INLINE_DATA_FRAGMENT_SPREAD","REQUIRED_FIELD","getReactFlightClientResponse","FRAGMENT_PROP_NAME_KEY","MODULE_COMPONENT_KEY","_isWithinUnmatchedTypeRefinement","_seenRecords","_this$_selector","isDataExpectedToBePresent","typeRecord","seenRecords","_maybeReportUnexpectedNull","fieldPath","_this$_missingRequire","fields","ENABLE_REQUIRED_DIRECTIVES","_readRequiredField","_readScalar","_readPluralLink","_readLink","parentIsMissingData","parentIsWithinUnmatchedTypeRefinement","_typeName","_createFragmentPointer","_readModuleImport","_createInlineDataFragmentPointer","_hasExpectedData2","_readFlightField","applicationName","reactFlightClientResponseRecordID","reactFlightClientResponseRecord","clientResponse","_field$alias2","_field$alias3","_field$alias4","linkedArray","nextIndex","componentKey","fragmentPropName","fragmentSpread","fragmentPointers","inlineDataFragmentSpread","inlineData","RelayRecordSourceMapImpl","RelayRecordState","RelayMapRecordSourceMapImpl","_records","_step$value","_operationName","_references","_traversePluralLink","_traverseLink","_typeName2","_traverseModuleImport","_traverseFlightField","_require4","refineToReactFlightPayloadData","_require5","getHandleStorageKey","_require6","TYPE_SCHEMA_TYPE","_getDataId","_handleFieldPayloads","_incrementalPlaceholders","_isClientExtension","_isUnmatchedAbstractType","_moduleImportPayloads","_path","_getRecordType","_normalizeField","_implementsInterface","parentIsUnmatchedAbstractType","_implementsInterface2","_typeName3","_typeRecord","_normalizeDefer","_normalizeStream","isClientExtension","_normalizeFlightField","defer","stream","componentReference","_normalizePluralLink","_normalizeLink","reactFlightPayload","reactFlightClientResponse","reactFlightID","queries","nextID","_typeName4","_field$concreteType2","_typeName5","_validateRecordType","_field$concreteType3","_validateConflictingFieldsWithIdenticalId","_validateConflictingLinkedFieldsWithIdenticalId","prevID","instrumentedNormalize","instrument","hasOverlappingIDs","isEmptyObject","backup","stale","hasUpdatedRecords","_updateSubscription","hasOverlappingUpdates","nextSnapshot","_notifiedRevision","_snapshotRevision","_subscriptionsByDataId","_staleSubscriptions","notifiedRevision","snapshotRevision","dataId","subscriptionsForDataId","prevSeenRecords","_updateSubscriptionsMap","updatedRecordId","subcriptionsForDataId","_dataId","_subscriptionsForDataId","VARIABLE","LITERAL","OBJECT_VALUE","LIST_VALUE","getArgumentValue","getStableVariableValue","variableName","_value","formatStorageKey","argValues","argName","dynamicKey","handleName","filterArgs","isTypeID","sourceField","firstReact","react","createContext","event","Boolean","_fragmentRef$FRAGMENT","inlineDataFragment","CONNECTION","LOCAL_ARGUMENT","OPERATION","ROOT_ARGUMENT","SPLIT_OPERATION","createError","messageFormat","messageParams","taalOpcodes","_len2","createWarning","_len3","ENABLE_VARIABLE_CONNECTION_KEY","ENABLE_GETFRAGMENTIDENTIFIER_OPTIMIZATION","ENABLE_FRIENDLY_QUERY_NAME_GQL_URL","ENABLE_LOAD_QUERY_REQUEST_DEDUPING","aggregateHandlersByName","profileHandlersByName","NOT_INVOKED","defaultProfiler","stop","shouldInstrument","charAt","names","originalFunction","attachHandler","detachHandler","catchallHandlers","aggregateHandlers","contexts","invokeHandlers","instrumentedCallback","returnValue","removeFromArray","attachAggregateHandler","detachAggregateHandler","profile","hasCatchAllHandlers","hasNamedHandlers","stopHandlers","profileHandlers","stopHandler","profileHandler","attachProfileHandler","detachProfileHandler","array","element","_observable","_sinks","events","_events","getOwnPropertyNames","property","isFrozen","fragmentOwnerIdentifier","sel","parameters","requestID","valueA","valueB","hasWeakSetDefined","WeakSet","hasWeakMapDefined","canRecycle","prevArray","nextArray","reduce","wasEqual","nextValue","prevObject","nextObject","prevKeys","nextKeys","_missingRequiredField","resolvedPromise","throwNext","sort","stable","memo","getTarget","styleTarget","document","querySelector","HTMLIFrameElement","contentDocument","head","stylesInDom","getIndexByIdentifier","modulesToDom","idCountMap","identifiers","css","media","sourceMap","addStyle","insertStyleElement","style","attributes","nonce","setAttribute","insert","appendChild","textStore","replaceText","replacement","applyToSingletonTag","styleSheet","cssText","cssNode","createTextNode","childNodes","removeChild","insertBefore","applyToTag","removeAttribute","firstChild","singleton","singletonCounter","styleIndex","bind","parentNode","removeStyleElement","newObj","all","atob","lastIdentifiers","newList","newLastIdentifiers","_index","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","getter","d","globalThis","Function","toStringTag","specs","formState","setFormState","handleChange","toUpperCase","min","Infinity","onChange","src","alt","spec","option","newOption","defaultChecked","elementType","generateSpecifiedElement","pass","password","color","colour","url","date","time","file","datetime","timestamp","telephone","phone","mobile","phonenumber","cell","toLowerCase","generateDefaultElement","useEffect","mutationName","mutationGQL","specifications","setFields","inputTypeName","headers","body","inputType","console","__type","fieldsArr","inputFields","fieldsArray","fieldObj","required","ofType","optionsArr","enumValues","warn","fieldsArrayGenerator","introspect","handleSubmit","preventDefault","fieldNames","alert","input","onSuccess","onFailure","useValue","headerText","onSubmit","renderFields","onClick"],"mappings":"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","file":"periqles.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"periqles\", [\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"periqles\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"periqles\"] = factory(root[\"react\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__9297__) {\nreturn ","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nmodule.exports = _createForOfIteratorHelper;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inheritsLoose;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","var defineProperty = require(\"./defineProperty\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread2;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"./node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"./node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".PeriqlesForm {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  padding: 4%;\\n  text-align: left;\\n}\\n\\n.PeriqlesForm, .PeriqlesForm * {\\n  box-sizing: border-box;\\n}\\n\\n.PeriqlesForm label, .periqles-radio {\\n  font-weight: bold;\\n  font-family: inherit;\\n  display: flex;\\n  flex-direction: column;\\n  width: 100%;\\n  margin: 10px 0;\\n}\\n\\n.PeriqlesForm input, .periqles-select, .periqles-textarea, .periqles-submit {\\n  margin: 10px 0;\\n  padding: .5em 1em .5em 1em;\\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\\n  border: none;\\n}\\n\\n.PeriqlesForm input:hover, .periqles-select:hover, .periqles-textarea:hover, .periqles-submit:hover {\\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 8px;\\n}\\n\\n.periqles-textarea {\\n  height: 100px;\\n  font-family: inherit;\\n  font-size: inherit;\\n  color: inherit;\\n}\\n\\n.periqles-select {\\n  font-family: inherit;\\n  display: inline-block;\\n  width: 100%;\\n}\\n\\n.periqles-select-option, .periqles-radio-option {\\n  /* TODO: research ways to style options (if desired) */\\n}\\n\\n\\n.periqles-radio:hover, .periqles-select:hover {\\n  cursor: pointer;\\n}\\n\\n.periqles-radio-option {\\n  margin: 0 5px 0 0 !important;\\n  box-shadow: none !important;\\n  cursor: pointer;\\n}\\n\\n.periqles-radio-option-label {\\n  display: inline-block !important;\\n  margin: 5px 0 5px 2% !important;\\n}\\n\\n.periqles-radio-div-label {\\n  margin: 0px 0 5px 0 !important;\\n}\\n\\n.periqles-checkbox {\\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\\n}\\n\\n.periqles-date {\\n  font-family: inherit;\\n}\\n\\n.periqles-submit {\\n  display:inline-block;\\n  width: 30%;\\n  \\n  box-sizing: border-box;\\n  text-decoration:none;\\n  font-family: inherit;\\n  font-weight: bold;\\n  \\n  text-align:center;\\n  cursor: pointer;\\n  align-self:flex-end;\\n}\\n\\n.periqles-submit:hover {\\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 8px;\\n}\\n\\n.periqles-file::-webkit-file-upload-button {\\n  visibility: hidden;\\n}\\n.periqles-file::before {\\n  content: \\\"Upload file\\\";\\n  display: inline-block;\\n  background: linear-gradient(top, #f9f9f9, #e3e3e3);\\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\\n  /* border-radius: 1em;\\n  border: 1px solid black; */\\n  padding: 5px 8px;\\n  outline: none;\\n  white-space: nowrap;\\n  -webkit-user-select: none;\\n  font-family: inherit;\\n  cursor: pointer;\\n  text-shadow: 1px 1px #fff;\\n  font-weight: 700;\\n  font-size: 10pt;\\n}\\n\\n.periqles-file:hover::before {\\n  border-color: black;\\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\\n}\\n\\n.periqles-file:active::before {\\n  background: whitesmoke;\\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\\n}\\n\\n.periqles-color {\\n  background-color: transparent;\\n}\\n\\n.periqles-color::before {\\n  content: \\\"Pick a color\\\";\\n  display: inline-block;\\n  background: linear-gradient(top, #f9f9f9, #e3e3e3);\\n  border: 1px solid #999;\\n  padding: 5px 8px;\\n  outline: none;\\n  white-space: nowrap;\\n  -webkit-user-select: none;\\n  cursor: pointer;\\n  text-shadow: 1px 1px #fff;\\n  font-weight: 700;\\n  font-size: 10pt;\\n  font-family: inherit;\\n}\\n\\n.periqles-datetime-local{\\n  border: .5px solid black;\\n  font-family: inherit;\\n  font-weight: bold;\\n  padding: .12em;\\n  overflow: visible;\\n}\\n\\n.periqles-range {\\n  color: gray;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./periqles.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAa;EACb,sBAAsB;EACtB,8BAA8B;EAC9B,WAAW;EACX,gBAAgB;AAClB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,iBAAiB;EACjB,oBAAoB;EACpB,aAAa;EACb,sBAAsB;EACtB,WAAW;EACX,cAAc;AAChB;;AAEA;EACE,cAAc;EACd,0BAA0B;EAC1B,2CAA2C;EAC3C,YAAY;AACd;;AAEA;EACE,2CAA2C;AAC7C;;AAEA;EACE,aAAa;EACb,oBAAoB;EACpB,kBAAkB;EAClB,cAAc;AAChB;;AAEA;EACE,oBAAoB;EACpB,qBAAqB;EACrB,WAAW;AACb;;AAEA;EACE,sDAAsD;AACxD;;;AAGA;EACE,eAAe;AACjB;;AAEA;EACE,4BAA4B;EAC5B,2BAA2B;EAC3B,eAAe;AACjB;;AAEA;EACE,gCAAgC;EAChC,+BAA+B;AACjC;;AAEA;EACE,8BAA8B;AAChC;;AAEA;EACE,2CAA2C;AAC7C;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE,oBAAoB;EACpB,UAAU;;EAEV,sBAAsB;EACtB,oBAAoB;EACpB,oBAAoB;EACpB,iBAAiB;;EAEjB,iBAAiB;EACjB,eAAe;EACf,mBAAmB;AACrB;;AAEA;EACE,2CAA2C;AAC7C;;AAEA;EACE,kBAAkB;AACpB;AACA;EACE,sBAAsB;EACtB,qBAAqB;EACrB,kDAAkD;EAClD,2CAA2C;EAC3C;4BAC0B;EAC1B,gBAAgB;EAChB,aAAa;EACb,mBAAmB;EACnB,yBAAyB;EACzB,oBAAoB;EACpB,eAAe;EACf,yBAAyB;EACzB,gBAAgB;EAChB,eAAe;AACjB;;AAEA;EACE,mBAAmB;EACnB,2CAA2C;AAC7C;;AAEA;EACE,sBAAsB;EACtB,2CAA2C;AAC7C;;AAEA;EACE,6BAA6B;AAC/B;;AAEA;EACE,uBAAuB;EACvB,qBAAqB;EACrB,kDAAkD;EAClD,sBAAsB;EACtB,gBAAgB;EAChB,aAAa;EACb,mBAAmB;EACnB,yBAAyB;EACzB,eAAe;EACf,yBAAyB;EACzB,gBAAgB;EAChB,eAAe;EACf,oBAAoB;AACtB;;AAEA;EACE,wBAAwB;EACxB,oBAAoB;EACpB,iBAAiB;EACjB,cAAc;EACd,iBAAiB;AACnB;;AAEA;EACE,WAAW;AACb\",\"sourcesContent\":[\".PeriqlesForm {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  padding: 4%;\\n  text-align: left;\\n}\\n\\n.PeriqlesForm, .PeriqlesForm * {\\n  box-sizing: border-box;\\n}\\n\\n.PeriqlesForm label, .periqles-radio {\\n  font-weight: bold;\\n  font-family: inherit;\\n  display: flex;\\n  flex-direction: column;\\n  width: 100%;\\n  margin: 10px 0;\\n}\\n\\n.PeriqlesForm input, .periqles-select, .periqles-textarea, .periqles-submit {\\n  margin: 10px 0;\\n  padding: .5em 1em .5em 1em;\\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\\n  border: none;\\n}\\n\\n.PeriqlesForm input:hover, .periqles-select:hover, .periqles-textarea:hover, .periqles-submit:hover {\\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 8px;\\n}\\n\\n.periqles-textarea {\\n  height: 100px;\\n  font-family: inherit;\\n  font-size: inherit;\\n  color: inherit;\\n}\\n\\n.periqles-select {\\n  font-family: inherit;\\n  display: inline-block;\\n  width: 100%;\\n}\\n\\n.periqles-select-option, .periqles-radio-option {\\n  /* TODO: research ways to style options (if desired) */\\n}\\n\\n\\n.periqles-radio:hover, .periqles-select:hover {\\n  cursor: pointer;\\n}\\n\\n.periqles-radio-option {\\n  margin: 0 5px 0 0 !important;\\n  box-shadow: none !important;\\n  cursor: pointer;\\n}\\n\\n.periqles-radio-option-label {\\n  display: inline-block !important;\\n  margin: 5px 0 5px 2% !important;\\n}\\n\\n.periqles-radio-div-label {\\n  margin: 0px 0 5px 0 !important;\\n}\\n\\n.periqles-checkbox {\\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\\n}\\n\\n.periqles-date {\\n  font-family: inherit;\\n}\\n\\n.periqles-submit {\\n  display:inline-block;\\n  width: 30%;\\n  \\n  box-sizing: border-box;\\n  text-decoration:none;\\n  font-family: inherit;\\n  font-weight: bold;\\n  \\n  text-align:center;\\n  cursor: pointer;\\n  align-self:flex-end;\\n}\\n\\n.periqles-submit:hover {\\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 8px;\\n}\\n\\n.periqles-file::-webkit-file-upload-button {\\n  visibility: hidden;\\n}\\n.periqles-file::before {\\n  content: \\\"Upload file\\\";\\n  display: inline-block;\\n  background: linear-gradient(top, #f9f9f9, #e3e3e3);\\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\\n  /* border-radius: 1em;\\n  border: 1px solid black; */\\n  padding: 5px 8px;\\n  outline: none;\\n  white-space: nowrap;\\n  -webkit-user-select: none;\\n  font-family: inherit;\\n  cursor: pointer;\\n  text-shadow: 1px 1px #fff;\\n  font-weight: 700;\\n  font-size: 10pt;\\n}\\n\\n.periqles-file:hover::before {\\n  border-color: black;\\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\\n}\\n\\n.periqles-file:active::before {\\n  background: whitesmoke;\\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\\n}\\n\\n.periqles-color {\\n  background-color: transparent;\\n}\\n\\n.periqles-color::before {\\n  content: \\\"Pick a color\\\";\\n  display: inline-block;\\n  background: linear-gradient(top, #f9f9f9, #e3e3e3);\\n  border: 1px solid #999;\\n  padding: 5px 8px;\\n  outline: none;\\n  white-space: nowrap;\\n  -webkit-user-select: none;\\n  cursor: pointer;\\n  text-shadow: 1px 1px #fff;\\n  font-weight: 700;\\n  font-size: 10pt;\\n  font-family: inherit;\\n}\\n\\n.periqles-datetime-local{\\n  border: .5px solid black;\\n  font-family: inherit;\\n  font-weight: bold;\\n  padding: .12em;\\n  overflow: visible;\\n}\\n\\n.periqles-range {\\n  color: gray;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === \"string\") {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \"\"]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nmodule.exports = function cssWithMappingToString(item) {\n  var _item = _slicedToArray(item, 4),\n      content = _item[1],\n      cssMapping = _item[3];\n\n  if (typeof btoa === \"function\") {\n    // eslint-disable-next-line no-undef\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n/* jslint unused:false */\nif (global.ErrorUtils) {\n  module.exports = global.ErrorUtils;\n} else {\n  var ErrorUtils = {\n    applyWithGuard: function applyWithGuard(callback, context, args, onError, name) {\n      return callback.apply(context, args);\n    },\n    guard: function guard(callback, name) {\n      return callback;\n    }\n  };\n  module.exports = ErrorUtils;\n}","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nvar aStackPool = [];\nvar bStackPool = [];\n/**\n * Checks if two values are equal. Values may be primitives, arrays, or objects.\n * Returns true if both arguments have the same keys and values.\n *\n * @see http://underscorejs.org\n * @copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.\n * @license MIT\n */\n\nfunction areEqual(a, b) {\n  var aStack = aStackPool.length ? aStackPool.pop() : [];\n  var bStack = bStackPool.length ? bStackPool.pop() : [];\n  var result = eq(a, b, aStack, bStack);\n  aStack.length = 0;\n  bStack.length = 0;\n  aStackPool.push(aStack);\n  bStackPool.push(bStack);\n  return result;\n}\n\nfunction eq(a, b, aStack, bStack) {\n  if (a === b) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    return a !== 0 || 1 / a == 1 / b;\n  }\n\n  if (a == null || b == null) {\n    // a or b can be `null` or `undefined`\n    return false;\n  }\n\n  if (typeof a != 'object' || typeof b != 'object') {\n    return false;\n  }\n\n  var objToStr = Object.prototype.toString;\n  var className = objToStr.call(a);\n\n  if (className != objToStr.call(b)) {\n    return false;\n  }\n\n  switch (className) {\n    case '[object String]':\n      return a == String(b);\n\n    case '[object Number]':\n      return isNaN(a) || isNaN(b) ? false : a == Number(b);\n\n    case '[object Date]':\n    case '[object Boolean]':\n      return +a == +b;\n\n    case '[object RegExp]':\n      return a.source == b.source && a.global == b.global && a.multiline == b.multiline && a.ignoreCase == b.ignoreCase;\n  } // Assume equality for cyclic structures.\n\n\n  var length = aStack.length;\n\n  while (length--) {\n    if (aStack[length] == a) {\n      return bStack[length] == b;\n    }\n  }\n\n  aStack.push(a);\n  bStack.push(b);\n  var size = 0; // Recursively compare objects and arrays.\n\n  if (className === '[object Array]') {\n    size = a.length;\n\n    if (size !== b.length) {\n      return false;\n    } // Deep compare the contents, ignoring non-numeric properties.\n\n\n    while (size--) {\n      if (!eq(a[size], b[size], aStack, bStack)) {\n        return false;\n      }\n    }\n  } else {\n    if (a.constructor !== b.constructor) {\n      return false;\n    }\n\n    if (a.hasOwnProperty('valueOf') && b.hasOwnProperty('valueOf')) {\n      return a.valueOf() == b.valueOf();\n    }\n\n    var keys = Object.keys(a);\n\n    if (keys.length != Object.keys(b).length) {\n      return false;\n    }\n\n    for (var i = 0; i < keys.length; i++) {\n      if (!eq(a[keys[i]], b[keys[i]], aStack, bStack)) {\n        return false;\n      }\n    }\n  }\n\n  aStack.pop();\n  bStack.pop();\n  return true;\n}\n\nmodule.exports = areEqual;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\n\n\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\n\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\n\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n'use strict';\n\nvar validateFormat = process.env.NODE_ENV !== \"production\" ? function (format) {\n  if (format === undefined) {\n    throw new Error('invariant(...): Second argument must be a string.');\n  }\n} : function (format) {};\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments to provide\n * information about what broke and what you were expecting.\n *\n * The invariant message will be stripped in production, but the invariant will\n * remain to ensure logic does not differ in production.\n */\n\nfunction invariant(condition, format) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return String(args[argIndex++]);\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // Skip invariant's own stack frame.\n\n    throw error;\n  }\n}\n\nmodule.exports = invariant;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n'use strict';\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n/**\n * Executes the provided `callback` once for each enumerable own property in the\n * object and constructs a new object from the results. The `callback` is\n * invoked with three arguments:\n *\n *  - the property value\n *  - the property name\n *  - the object being traversed\n *\n * Properties that are added after the call to `mapObject` will not be visited\n * by `callback`. If the values of existing properties are changed, the value\n * passed to `callback` will be the value at the time `mapObject` visits them.\n * Properties that are deleted before being visited are not visited.\n *\n * @grep function objectMap()\n * @grep function objMap()\n *\n * @param {?object} object\n * @param {function} callback\n * @param {*} context\n * @return {?object}\n */\n\nfunction mapObject(object, callback, context) {\n  if (!object) {\n    return null;\n  }\n\n  var result = {};\n\n  for (var name in object) {\n    if (hasOwnProperty.call(object, name)) {\n      result[name] = callback.call(context, object[name], name, object);\n    }\n  }\n\n  return result;\n}\n\nmodule.exports = mapObject;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n'use strict';\n\nvar emptyFunction = require(\"./emptyFunction\");\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\n\nfunction printWarning(format) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  var argIndex = 0;\n  var message = 'Warning: ' + format.replace(/%s/g, function () {\n    return args[argIndex++];\n  });\n\n  if (typeof console !== 'undefined') {\n    console.error(message);\n  }\n\n  try {\n    // --- Welcome to debugging React ---\n    // This error was thrown as a convenience so that you can use this stack\n    // to find the callsite that caused this warning to fire.\n    throw new Error(message);\n  } catch (x) {}\n}\n\nvar warning = process.env.NODE_ENV !== \"production\" ? function (condition, format) {\n  if (format === undefined) {\n    throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n  }\n\n  if (!condition) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n      args[_key2 - 2] = arguments[_key2];\n    }\n\n    printWarning.apply(void 0, [format].concat(args));\n  }\n} : emptyFunction;\nmodule.exports = warning;","/**\n * Relay v10.1.3\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nmodule.exports = require('./lib/index.js');\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nfunction getComponentName(component) {\n  return component.displayName || component.name || 'Component';\n}\n\nfunction getContainerName(Component) {\n  return 'Relay(' + getComponentName(Component) + ')';\n}\n\nmodule.exports = {\n  getComponentName: getComponentName,\n  getContainerName: getContainerName\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar React = require('react');\n\nvar _require = require('relay-runtime'),\n    createRelayContext = _require.__internal.createRelayContext;\n\nmodule.exports = createRelayContext(React);","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar React = require('react');\n\nvar areEqual = require(\"fbjs/lib/areEqual\");\n\nvar buildReactRelayContainer = require('./buildReactRelayContainer');\n\nvar getRootVariablesForFragments = require('./getRootVariablesForFragments');\n\nvar _require = require('./ReactRelayContainerUtils'),\n    getContainerName = _require.getContainerName;\n\nvar _require2 = require('./RelayContext'),\n    assertRelayContext = _require2.assertRelayContext;\n\nvar _require3 = require('relay-runtime'),\n    createFragmentSpecResolver = _require3.createFragmentSpecResolver,\n    getDataIDsFromObject = _require3.getDataIDsFromObject,\n    isScalarAndEqual = _require3.isScalarAndEqual;\n\n/**\n * Composes a React component class, returning a new class that intercepts\n * props, resolving them with the provided fragments and subscribing for\n * updates.\n */\nfunction createContainerWithFragments(Component, fragments) {\n  var _class, _temp;\n\n  var containerName = getContainerName(Component);\n  return _temp = _class = /*#__PURE__*/function (_React$Component) {\n    (0, _inheritsLoose2[\"default\"])(_class, _React$Component);\n\n    function _class(props) {\n      var _this;\n\n      _this = _React$Component.call(this, props) || this;\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_handleFragmentDataUpdate\", function () {\n        var resolverFromThisUpdate = _this.state.resolver;\n\n        _this.setState(function (updatedState) {\n          return (// If this event belongs to the current data source, update.\n            // Otherwise we should ignore it.\n            resolverFromThisUpdate === updatedState.resolver ? {\n              data: updatedState.resolver.resolve(),\n              relayProp: getRelayProp(updatedState.relayProp.environment)\n            } : null\n          );\n        });\n      });\n      var relayContext = assertRelayContext(props.__relayContext); // Do not provide a subscription/callback here.\n      // It is possible for this render to be interrupted or aborted,\n      // In which case the subscription would cause a leak.\n      // We will add the subscription in componentDidMount().\n\n      var resolver = createFragmentSpecResolver(relayContext, containerName, fragments, props);\n      _this.state = {\n        data: resolver.resolve(),\n        prevProps: props,\n        prevPropsContext: relayContext,\n        relayProp: getRelayProp(relayContext.environment),\n        resolver: resolver\n      };\n      return _this;\n    }\n    /**\n     * When new props are received, read data for the new props and subscribe\n     * for updates. Props may be the same in which case previous data and\n     * subscriptions can be reused.\n     */\n\n\n    _class.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      // Any props change could impact the query, so we mirror props in state.\n      // This is an unusual pattern, but necessary for this container usecase.\n      var prevProps = prevState.prevProps;\n      var relayContext = assertRelayContext(nextProps.__relayContext);\n      var prevIDs = getDataIDsFromObject(fragments, prevProps);\n      var nextIDs = getDataIDsFromObject(fragments, nextProps);\n      var resolver = prevState.resolver; // If the environment has changed or props point to new records then\n      // previously fetched data and any pending fetches no longer apply:\n      // - Existing references are on the old environment.\n      // - Existing references are based on old variables.\n      // - Pending fetches are for the previous records.\n\n      if (prevState.prevPropsContext.environment !== relayContext.environment || !areEqual(prevIDs, nextIDs)) {\n        // Do not provide a subscription/callback here.\n        // It is possible for this render to be interrupted or aborted,\n        // In which case the subscription would cause a leak.\n        // We will add the subscription in componentDidUpdate().\n        resolver = createFragmentSpecResolver(relayContext, containerName, fragments, nextProps);\n        return {\n          data: resolver.resolve(),\n          prevPropsContext: relayContext,\n          prevProps: nextProps,\n          relayProp: getRelayProp(relayContext.environment),\n          resolver: resolver\n        };\n      } else {\n        resolver.setProps(nextProps);\n        var data = resolver.resolve();\n\n        if (data !== prevState.data) {\n          return {\n            data: data,\n            prevProps: nextProps,\n            prevPropsContext: relayContext,\n            relayProp: getRelayProp(relayContext.environment)\n          };\n        }\n      }\n\n      return null;\n    };\n\n    var _proto = _class.prototype;\n\n    _proto.componentDidMount = function componentDidMount() {\n      this._subscribeToNewResolver();\n\n      this._rerenderIfStoreHasChanged();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n      if (this.state.resolver !== prevState.resolver) {\n        prevState.resolver.dispose();\n\n        this._subscribeToNewResolver();\n      }\n\n      this._rerenderIfStoreHasChanged();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this.state.resolver.dispose();\n    };\n\n    _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n      // Short-circuit if any Relay-related data has changed\n      if (nextState.data !== this.state.data) {\n        return true;\n      } // Otherwise, for convenience short-circuit if all non-Relay props\n      // are scalar and equal\n\n\n      var keys = Object.keys(nextProps);\n\n      for (var ii = 0; ii < keys.length; ii++) {\n        var _key = keys[ii];\n\n        if (_key === '__relayContext') {\n          if (nextState.prevPropsContext.environment !== this.state.prevPropsContext.environment) {\n            return true;\n          }\n        } else {\n          if (!fragments.hasOwnProperty(_key) && !isScalarAndEqual(nextProps[_key], this.props[_key])) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    }\n    /**\n     * Render new data for the existing props/context.\n     */\n    ;\n\n    _proto._rerenderIfStoreHasChanged = function _rerenderIfStoreHasChanged() {\n      var _this$state = this.state,\n          data = _this$state.data,\n          resolver = _this$state.resolver; // External values could change between render and commit.\n      // Check for this case, even though it requires an extra store read.\n\n      var maybeNewData = resolver.resolve();\n\n      if (data !== maybeNewData) {\n        this.setState({\n          data: maybeNewData\n        });\n      }\n    };\n\n    _proto._subscribeToNewResolver = function _subscribeToNewResolver() {\n      var resolver = this.state.resolver; // Event listeners are only safe to add during the commit phase,\n      // So they won't leak if render is interrupted or errors.\n\n      resolver.setCallback(this._handleFragmentDataUpdate);\n    };\n\n    _proto.render = function render() {\n      var _this$props = this.props,\n          componentRef = _this$props.componentRef,\n          _ = _this$props.__relayContext,\n          props = (0, _objectWithoutPropertiesLoose2[\"default\"])(_this$props, [\"componentRef\", \"__relayContext\"]);\n      return React.createElement(Component, (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, props), this.state.data), {}, {\n        ref: componentRef,\n        relay: this.state.relayProp\n      }));\n    };\n\n    return _class;\n  }(React.Component), (0, _defineProperty2[\"default\"])(_class, \"displayName\", containerName), _temp;\n}\n\nfunction getRelayProp(environment) {\n  return {\n    environment: environment\n  };\n}\n/**\n * Wrap the basic `createContainer()` function with logic to adapt to the\n * `context.relay.environment` in which it is rendered. Specifically, the\n * extraction of the environment-specific version of fragments in the\n * `fragmentSpec` is memoized once per environment, rather than once per\n * instance of the container constructed/rendered.\n */\n\n\nfunction createContainer(Component, fragmentSpec) {\n  // $FlowFixMe[incompatible-return]\n  return buildReactRelayContainer(Component, fragmentSpec, createContainerWithFragments);\n}\n\nmodule.exports = {\n  createContainer: createContainer\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar React = require('react');\n\nvar ReactRelayContext = require('./ReactRelayContext');\n\nvar useLayoutEffect = React.useLayoutEffect,\n    useState = React.useState,\n    useRef = React.useRef,\n    useMemo = React.useMemo;\n\nvar _require = require('relay-runtime'),\n    createOperationDescriptor = _require.createOperationDescriptor,\n    deepFreeze = _require.deepFreeze,\n    getRequest = _require.getRequest;\n\nvar areEqual = require(\"fbjs/lib/areEqual\");\n\nfunction useDeepCompare(value) {\n  var latestValue = React.useRef(value);\n\n  if (!areEqual(latestValue.current, value)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      deepFreeze(value);\n    }\n\n    latestValue.current = value;\n  }\n\n  return latestValue.current;\n}\n\nfunction ReactRelayLocalQueryRenderer(props) {\n  var environment = props.environment,\n      query = props.query,\n      variables = props.variables,\n      render = props.render;\n  var latestVariables = useDeepCompare(variables);\n  var operation = useMemo(function () {\n    var request = getRequest(query);\n    return createOperationDescriptor(request, latestVariables);\n  }, [query, latestVariables]);\n  var relayContext = useMemo(function () {\n    return {\n      environment: environment\n    };\n  }, [environment]); // Use a ref to prevent rendering twice when data changes\n  // because of props change\n\n  var dataRef = useRef(null);\n\n  var _useState = useState(null),\n      forceUpdate = _useState[1];\n\n  var cleanupFnRef = useRef(null);\n  var snapshot = useMemo(function () {\n    environment.check(operation);\n    var res = environment.lookup(operation.fragment);\n    dataRef.current = res.data; // Run effects here so that the data can be retained\n    // and subscribed before the component commits\n\n    var retainDisposable = environment.retain(operation);\n    var subscribeDisposable = environment.subscribe(res, function (newSnapshot) {\n      dataRef.current = newSnapshot.data;\n      forceUpdate(dataRef.current);\n    });\n    var disposed = false;\n\n    function nextCleanupFn() {\n      if (!disposed) {\n        disposed = true;\n        cleanupFnRef.current = null;\n        retainDisposable.dispose();\n        subscribeDisposable.dispose();\n      }\n    }\n\n    if (cleanupFnRef.current) {\n      cleanupFnRef.current();\n    }\n\n    cleanupFnRef.current = nextCleanupFn;\n    return res;\n  }, [environment, operation]);\n  useLayoutEffect(function () {\n    var cleanupFn = cleanupFnRef.current;\n    return function () {\n      cleanupFn && cleanupFn();\n    };\n  }, [snapshot]);\n  return /*#__PURE__*/React.createElement(ReactRelayContext.Provider, {\n    value: relayContext\n  }, render({\n    props: dataRef.current\n  }));\n}\n\nmodule.exports = ReactRelayLocalQueryRenderer;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _objectSpread3 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar React = require('react');\n\nvar ReactRelayContext = require('./ReactRelayContext');\n\nvar ReactRelayQueryFetcher = require('./ReactRelayQueryFetcher');\n\nvar areEqual = require(\"fbjs/lib/areEqual\");\n\nvar buildReactRelayContainer = require('./buildReactRelayContainer');\n\nvar getRootVariablesForFragments = require('./getRootVariablesForFragments');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar warning = require(\"fbjs/lib/warning\");\n\nvar _require = require('./ReactRelayContainerUtils'),\n    getComponentName = _require.getComponentName,\n    getContainerName = _require.getContainerName;\n\nvar _require2 = require('./RelayContext'),\n    assertRelayContext = _require2.assertRelayContext;\n\nvar _require3 = require('relay-runtime'),\n    ConnectionInterface = _require3.ConnectionInterface,\n    Observable = _require3.Observable,\n    createFragmentSpecResolver = _require3.createFragmentSpecResolver,\n    createOperationDescriptor = _require3.createOperationDescriptor,\n    getDataIDsFromObject = _require3.getDataIDsFromObject,\n    getRequest = _require3.getRequest,\n    getSelector = _require3.getSelector,\n    getVariablesFromObject = _require3.getVariablesFromObject,\n    isScalarAndEqual = _require3.isScalarAndEqual;\n\nvar FORWARD = 'forward';\n\n/**\n * Extends the functionality of RelayFragmentContainer by providing a mechanism\n * to load more data from a connection.\n *\n * # Configuring a PaginationContainer\n *\n * PaginationContainer accepts the standard FragmentContainer arguments and an\n * additional `connectionConfig` argument:\n *\n * - `Component`: the component to be wrapped/rendered.\n * - `fragments`: an object whose values are `graphql` fragments. The object\n *   keys determine the prop names by which fragment data is available.\n * - `connectionConfig`: an object that determines how to load more connection\n *   data. Details below.\n *\n * # Loading More Data\n *\n * Use `props.relay.hasMore()` to determine if there are more items to load.\n *\n * ```\n * hasMore(): boolean\n * ```\n *\n * Use `props.relay.isLoading()` to determine if a previous call to `loadMore()`\n * is still pending. This is convenient for avoiding duplicate load calls.\n *\n * ```\n * isLoading(): boolean\n * ```\n *\n * Use `props.relay.loadMore()` to load more items. This will return null if\n * there are no more items to fetch, otherwise it will fetch more items and\n * return a Disposable that can be used to cancel the fetch.\n *\n * `pageSize` should be the number of *additional* items to fetch (not the\n * total).\n *\n * ```\n * loadMore(pageSize: number, callback: ?(error: ?Error) => void): ?Disposable\n * ```\n *\n * A complete example:\n *\n * ```\n * class Foo extends React.Component {\n *   ...\n *   _onEndReached() {\n *     if (!this.props.relay.hasMore() || this.props.relay.isLoading()) {\n *       return;\n *     }\n *     this.props.relay.loadMore(10);\n *   }\n *   ...\n * }\n * ```\n *\n * # Connection Config\n *\n * Here's an example, followed by details of each config property:\n *\n * ```\n * ReactRelayPaginationContainer.createContainer(\n *   Component,\n *   {\n *     user: graphql`fragment FriendsFragment on User {\n *       friends(after: $afterCursor first: $count) @connection {\n *         edges { ... }\n *         pageInfo {\n *           startCursor\n *           endCursor\n *           hasNextPage\n *           hasPreviousPage\n *         }\n *       }\n *     }`,\n *   },\n *   {\n *     direction: 'forward',\n *     getConnectionFromProps(props) {\n *       return props.user && props.user.friends;\n *     },\n *     getFragmentVariables(vars, totalCount) {\n *       // The component presumably wants *all* edges, not just those after\n *       // the cursor, so notice that we don't set $afterCursor here.\n *       return {\n *         ...vars,\n *         count: totalCount,\n *       };\n *     },\n *     getVariables(props, {count, cursor}, fragmentVariables) {\n *       return {\n *         id: props.user.id,\n *         afterCursor: cursor,\n *         count,\n *       },\n *     },\n *     query: graphql`\n *       query FriendsQuery($id: ID!, $afterCursor: ID, $count: Int!) {\n *         node(id: $id) {\n *           ...FriendsFragment\n *         }\n *       }\n *     `,\n *   }\n * );\n * ```\n *\n * ## Config Properties\n *\n * - `direction`: Either \"forward\" to indicate forward pagination using\n *   after/first, or \"backward\" to indicate backward pagination using\n *   before/last.\n * - `getConnectionFromProps(props)`: PaginationContainer doesn't magically know\n *   which connection data you mean to fetch more of (a container might fetch\n *   multiple connections, but can only paginate one of them). This function is\n *   given the fragment props only (not full props), and should return the\n *   connection data. See the above example that returns the friends data via\n *   `props.user.friends`.\n * - `getFragmentVariables(previousVars, totalCount)`: Given the previous variables\n *   and the new total number of items, get the variables to use when reading\n *   your fragments. Typically this means setting whatever your local \"count\"\n *   variable is to the value of `totalCount`. See the example.\n * - `getVariables(props, {count, cursor})`: Get the variables to use when\n *   fetching the pagination `query`. You may determine the root object id from\n *   props (see the example that uses `props.user.id`) and may also set whatever\n *   variables you use for the after/first/before/last calls based on the count\n *   and cursor.\n * - `query`: A query to use when fetching more connection data. This should\n *   typically reference one of the container's fragment (as in the example)\n *   to ensure that all the necessary fields for sub-components are fetched.\n */\nfunction createGetConnectionFromProps(metadata) {\n  var path = metadata.path;\n  !path ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayPaginationContainer: Unable to synthesize a ' + 'getConnectionFromProps function.') : invariant(false) : void 0;\n  return function (props) {\n    var data = props[metadata.fragmentName];\n\n    for (var i = 0; i < path.length; i++) {\n      if (!data || typeof data !== 'object') {\n        return null;\n      }\n\n      data = data[path[i]];\n    }\n\n    return data;\n  };\n}\n\nfunction createGetFragmentVariables(metadata) {\n  var countVariable = metadata.count;\n  !countVariable ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayPaginationContainer: Unable to synthesize a ' + 'getFragmentVariables function.') : invariant(false) : void 0;\n  return function (prevVars, totalCount) {\n    return (0, _objectSpread3[\"default\"])((0, _objectSpread3[\"default\"])({}, prevVars), {}, (0, _defineProperty2[\"default\"])({}, countVariable, totalCount));\n  };\n}\n\nfunction findConnectionMetadata(fragments) {\n  var foundConnectionMetadata = null;\n  var isRelayModern = false;\n\n  for (var fragmentName in fragments) {\n    var fragment = fragments[fragmentName];\n    var connectionMetadata = fragment.metadata && fragment.metadata.connection; // HACK: metadata is always set to `undefined` in classic. In modern, even\n    // if empty, it is set to null (never undefined). We use that knowlege to\n    // check if we're dealing with classic or modern\n\n    if (fragment.metadata !== undefined) {\n      isRelayModern = true;\n    }\n\n    if (connectionMetadata) {\n      !(connectionMetadata.length === 1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayPaginationContainer: Only a single @connection is ' + 'supported, `%s` has %s.', fragmentName, connectionMetadata.length) : invariant(false) : void 0;\n      !!foundConnectionMetadata ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayPaginationContainer: Only a single fragment with ' + '@connection is supported.') : invariant(false) : void 0;\n      foundConnectionMetadata = (0, _objectSpread3[\"default\"])((0, _objectSpread3[\"default\"])({}, connectionMetadata[0]), {}, {\n        fragmentName: fragmentName\n      });\n    }\n  }\n\n  !(!isRelayModern || foundConnectionMetadata !== null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayPaginationContainer: A @connection directive must be present.') : invariant(false) : void 0;\n  return foundConnectionMetadata || {};\n}\n\nfunction toObserver(observerOrCallback) {\n  return typeof observerOrCallback === 'function' ? {\n    error: observerOrCallback,\n    complete: observerOrCallback,\n    unsubscribe: function unsubscribe(subscription) {\n      typeof observerOrCallback === 'function' && observerOrCallback();\n    }\n  } : observerOrCallback || {};\n}\n\nfunction createContainerWithFragments(Component, fragments, connectionConfig) {\n  var _class, _temp;\n\n  var componentName = getComponentName(Component);\n  var containerName = getContainerName(Component);\n  var metadata = findConnectionMetadata(fragments);\n  var getConnectionFromProps = connectionConfig.getConnectionFromProps || createGetConnectionFromProps(metadata);\n  var direction = connectionConfig.direction || metadata.direction;\n  !direction ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayPaginationContainer: Unable to infer direction of the ' + 'connection, possibly because both first and last are provided.') : invariant(false) : void 0;\n  var getFragmentVariables = connectionConfig.getFragmentVariables || createGetFragmentVariables(metadata);\n  return _temp = _class = /*#__PURE__*/function (_React$Component) {\n    (0, _inheritsLoose2[\"default\"])(_class, _React$Component);\n\n    function _class(props) {\n      var _this;\n\n      _this = _React$Component.call(this, props) || this;\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_handleFragmentDataUpdate\", function () {\n        _this.setState({\n          data: _this._resolver.resolve()\n        });\n      });\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_hasMore\", function () {\n        var connectionData = _this._getConnectionData();\n\n        return !!(connectionData && connectionData.hasMore && connectionData.cursor);\n      });\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_isLoading\", function () {\n        return !!_this._refetchSubscription;\n      });\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_refetchConnection\", function (totalCount, observerOrCallback, refetchVariables) {\n        if (!_this._canFetchPage('refetchConnection')) {\n          return {\n            dispose: function dispose() {}\n          };\n        }\n\n        _this._refetchVariables = refetchVariables;\n        var paginatingVariables = {\n          count: totalCount,\n          cursor: null,\n          totalCount: totalCount\n        };\n\n        var fetch = _this._fetchPage(paginatingVariables, toObserver(observerOrCallback), {\n          force: true\n        });\n\n        return {\n          dispose: fetch.unsubscribe\n        };\n      });\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_loadMore\", function (pageSize, observerOrCallback, options) {\n        if (!_this._canFetchPage('loadMore')) {\n          return {\n            dispose: function dispose() {}\n          };\n        }\n\n        var observer = toObserver(observerOrCallback);\n\n        var connectionData = _this._getConnectionData();\n\n        if (!connectionData) {\n          Observable.create(function (sink) {\n            return sink.complete();\n          }).subscribe(observer);\n          return null;\n        }\n\n        var totalCount = connectionData.edgeCount + pageSize;\n\n        if (options && options.force) {\n          return _this._refetchConnection(totalCount, observerOrCallback);\n        }\n\n        var _ConnectionInterface$ = ConnectionInterface.get(),\n            END_CURSOR = _ConnectionInterface$.END_CURSOR,\n            START_CURSOR = _ConnectionInterface$.START_CURSOR;\n\n        var cursor = connectionData.cursor;\n        process.env.NODE_ENV !== \"production\" ? warning(cursor != null && cursor !== '', 'ReactRelayPaginationContainer: Cannot `loadMore` without valid `%s` (got `%s`)', direction === FORWARD ? END_CURSOR : START_CURSOR, cursor) : void 0;\n        var paginatingVariables = {\n          count: pageSize,\n          cursor: cursor,\n          totalCount: totalCount\n        };\n\n        var fetch = _this._fetchPage(paginatingVariables, observer, options);\n\n        return {\n          dispose: fetch.unsubscribe\n        };\n      });\n      var relayContext = assertRelayContext(props.__relayContext);\n      _this._isARequestInFlight = false;\n      _this._refetchSubscription = null;\n      _this._refetchVariables = null;\n      _this._resolver = createFragmentSpecResolver(relayContext, containerName, fragments, props, _this._handleFragmentDataUpdate);\n      _this.state = {\n        data: _this._resolver.resolve(),\n        prevContext: relayContext,\n        contextForChildren: relayContext,\n        relayProp: _this._buildRelayProp(relayContext)\n      };\n      _this._isUnmounted = false;\n      _this._hasFetched = false;\n      return _this;\n    }\n    /**\n     * When new props are received, read data for the new props and subscribe\n     * for updates. Props may be the same in which case previous data and\n     * subscriptions can be reused.\n     */\n\n\n    var _proto = _class.prototype;\n\n    _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n      var relayContext = assertRelayContext(nextProps.__relayContext);\n      var prevIDs = getDataIDsFromObject(fragments, this.props);\n      var nextIDs = getDataIDsFromObject(fragments, nextProps);\n      var prevRootVariables = getRootVariablesForFragments(fragments, this.props);\n      var nextRootVariables = getRootVariablesForFragments(fragments, nextProps); // If the environment has changed or props point to new records then\n      // previously fetched data and any pending fetches no longer apply:\n      // - Existing references are on the old environment.\n      // - Existing references are based on old variables.\n      // - Pending fetches are for the previous records.\n\n      if (relayContext.environment !== this.state.prevContext.environment || !areEqual(prevRootVariables, nextRootVariables) || !areEqual(prevIDs, nextIDs)) {\n        this._cleanup(); // Child containers rely on context.relay being mutated (for gDSFP).\n\n\n        this._resolver = createFragmentSpecResolver(relayContext, containerName, fragments, nextProps, this._handleFragmentDataUpdate);\n        this.setState({\n          prevContext: relayContext,\n          contextForChildren: relayContext,\n          relayProp: this._buildRelayProp(relayContext)\n        });\n      } else if (!this._hasFetched) {\n        this._resolver.setProps(nextProps);\n      }\n\n      var data = this._resolver.resolve();\n\n      if (data !== this.state.data) {\n        this.setState({\n          data: data\n        });\n      }\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this._isUnmounted = true;\n\n      this._cleanup();\n    };\n\n    _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n      // Short-circuit if any Relay-related data has changed\n      if (nextState.data !== this.state.data || nextState.relayProp !== this.state.relayProp) {\n        return true;\n      } // Otherwise, for convenience short-circuit if all non-Relay props\n      // are scalar and equal\n\n\n      var keys = Object.keys(nextProps);\n\n      for (var ii = 0; ii < keys.length; ii++) {\n        var _key = keys[ii];\n\n        if (_key === '__relayContext') {\n          if (nextState.prevContext.environment !== this.state.prevContext.environment) {\n            return true;\n          }\n        } else {\n          if (!fragments.hasOwnProperty(_key) && !isScalarAndEqual(nextProps[_key], this.props[_key])) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    };\n\n    _proto._buildRelayProp = function _buildRelayProp(relayContext) {\n      return {\n        hasMore: this._hasMore,\n        isLoading: this._isLoading,\n        loadMore: this._loadMore,\n        refetchConnection: this._refetchConnection,\n        environment: relayContext.environment\n      };\n    }\n    /**\n     * Render new data for the existing props/context.\n     */\n    ;\n\n    _proto._getConnectionData = function _getConnectionData() {\n      // Extract connection data and verify there are more edges to fetch\n      var _this$props = this.props,\n          _ = _this$props.componentRef,\n          restProps = (0, _objectWithoutPropertiesLoose2[\"default\"])(_this$props, [\"componentRef\"]);\n      var props = (0, _objectSpread3[\"default\"])((0, _objectSpread3[\"default\"])({}, restProps), this.state.data);\n      var connectionData = getConnectionFromProps(props);\n\n      if (connectionData == null) {\n        return null;\n      }\n\n      var _ConnectionInterface$2 = ConnectionInterface.get(),\n          EDGES = _ConnectionInterface$2.EDGES,\n          PAGE_INFO = _ConnectionInterface$2.PAGE_INFO,\n          HAS_NEXT_PAGE = _ConnectionInterface$2.HAS_NEXT_PAGE,\n          HAS_PREV_PAGE = _ConnectionInterface$2.HAS_PREV_PAGE,\n          END_CURSOR = _ConnectionInterface$2.END_CURSOR,\n          START_CURSOR = _ConnectionInterface$2.START_CURSOR;\n\n      !(typeof connectionData === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayPaginationContainer: Expected `getConnectionFromProps()` in `%s`' + 'to return `null` or a plain object with %s and %s properties, got `%s`.', componentName, EDGES, PAGE_INFO, connectionData) : invariant(false) : void 0;\n      var edges = connectionData[EDGES];\n      var pageInfo = connectionData[PAGE_INFO];\n\n      if (edges == null || pageInfo == null) {\n        return null;\n      }\n\n      !Array.isArray(edges) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayPaginationContainer: Expected `getConnectionFromProps()` in `%s`' + 'to return an object with %s: Array, got `%s`.', componentName, EDGES, edges) : invariant(false) : void 0;\n      !(typeof pageInfo === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayPaginationContainer: Expected `getConnectionFromProps()` in `%s`' + 'to return an object with %s: Object, got `%s`.', componentName, PAGE_INFO, pageInfo) : invariant(false) : void 0;\n      var hasMore = direction === FORWARD ? pageInfo[HAS_NEXT_PAGE] : pageInfo[HAS_PREV_PAGE];\n      var cursor = direction === FORWARD ? pageInfo[END_CURSOR] : pageInfo[START_CURSOR];\n\n      if (typeof hasMore !== 'boolean' || edges.length !== 0 && typeof cursor === 'undefined') {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'ReactRelayPaginationContainer: Cannot paginate without %s fields in `%s`. ' + 'Be sure to fetch %s (got `%s`) and %s (got `%s`).', PAGE_INFO, componentName, direction === FORWARD ? HAS_NEXT_PAGE : HAS_PREV_PAGE, hasMore, direction === FORWARD ? END_CURSOR : START_CURSOR, cursor) : void 0;\n        return null;\n      }\n\n      return {\n        cursor: cursor,\n        edgeCount: edges.length,\n        hasMore: hasMore\n      };\n    };\n\n    _proto._getQueryFetcher = function _getQueryFetcher() {\n      if (!this._queryFetcher) {\n        this._queryFetcher = new ReactRelayQueryFetcher();\n      }\n\n      return this._queryFetcher;\n    };\n\n    _proto._canFetchPage = function _canFetchPage(method) {\n      if (this._isUnmounted) {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'ReactRelayPaginationContainer: Unexpected call of `%s` ' + 'on unmounted container `%s`. It looks like some instances ' + 'of your container still trying to fetch data but they already ' + 'unmounted. Please make sure you clear all timers, intervals, async ' + 'calls, etc that may trigger `%s` call.', method, containerName, method) : void 0;\n        return false;\n      }\n\n      return true;\n    };\n\n    _proto._fetchPage = function _fetchPage(paginatingVariables, observer, options) {\n      var _this2 = this;\n\n      var _assertRelayContext = assertRelayContext(this.props.__relayContext),\n          environment = _assertRelayContext.environment;\n\n      var _this$props2 = this.props,\n          _ = _this$props2.componentRef,\n          __relayContext = _this$props2.__relayContext,\n          restProps = (0, _objectWithoutPropertiesLoose2[\"default\"])(_this$props2, [\"componentRef\", \"__relayContext\"]);\n      var props = (0, _objectSpread3[\"default\"])((0, _objectSpread3[\"default\"])({}, restProps), this.state.data);\n      var fragmentVariables;\n      var rootVariables = getRootVariablesForFragments(fragments, restProps);\n      fragmentVariables = getVariablesFromObject(fragments, restProps);\n      fragmentVariables = (0, _objectSpread3[\"default\"])((0, _objectSpread3[\"default\"])((0, _objectSpread3[\"default\"])({}, rootVariables), fragmentVariables), this._refetchVariables);\n      var fetchVariables = connectionConfig.getVariables(props, {\n        count: paginatingVariables.count,\n        cursor: paginatingVariables.cursor\n      }, fragmentVariables);\n      !(typeof fetchVariables === 'object' && fetchVariables !== null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayPaginationContainer: Expected `getVariables()` to ' + 'return an object, got `%s` in `%s`.', fetchVariables, componentName) : invariant(false) : void 0;\n      fetchVariables = (0, _objectSpread3[\"default\"])((0, _objectSpread3[\"default\"])({}, fetchVariables), this._refetchVariables);\n      fragmentVariables = (0, _objectSpread3[\"default\"])((0, _objectSpread3[\"default\"])({}, fetchVariables), fragmentVariables);\n      var cacheConfig = options ? {\n        force: !!options.force\n      } : undefined;\n\n      if (cacheConfig != null && (options === null || options === void 0 ? void 0 : options.metadata) != null) {\n        cacheConfig.metadata = options === null || options === void 0 ? void 0 : options.metadata;\n      }\n\n      var request = getRequest(connectionConfig.query);\n      var operation = createOperationDescriptor(request, fetchVariables, cacheConfig);\n      var refetchSubscription = null;\n\n      if (this._refetchSubscription) {\n        this._refetchSubscription.unsubscribe();\n      }\n\n      this._hasFetched = true;\n\n      var onNext = function onNext(payload, complete) {\n        var prevData = _this2._resolver.resolve();\n\n        _this2._resolver.setVariables(getFragmentVariables(fragmentVariables, paginatingVariables.totalCount), operation.request.node);\n\n        var nextData = _this2._resolver.resolve(); // Workaround slightly different handling for connection in different\n        // core implementations:\n        // - Classic core requires the count to be explicitly incremented\n        // - Modern core automatically appends new items, updating the count\n        //   isn't required to see new data.\n        //\n        // `setState` is only required if changing the variables would change the\n        // resolved data.\n        // TODO #14894725: remove PaginationContainer equal check\n\n\n        if (!areEqual(prevData, nextData)) {\n          _this2.setState({\n            data: nextData,\n            contextForChildren: {\n              environment: _this2.props.__relayContext.environment\n            }\n          }, complete);\n        } else {\n          complete();\n        }\n      };\n\n      var cleanup = function cleanup() {\n        if (_this2._refetchSubscription === refetchSubscription) {\n          _this2._refetchSubscription = null;\n          _this2._isARequestInFlight = false;\n        }\n      };\n\n      this._isARequestInFlight = true;\n      refetchSubscription = this._getQueryFetcher().execute({\n        environment: environment,\n        operation: operation,\n        preservePreviousReferences: true\n      }).mergeMap(function (payload) {\n        return Observable.create(function (sink) {\n          onNext(payload, function () {\n            sink.next(); // pass void to public observer's `next`\n\n            sink.complete();\n          });\n        });\n      }) // use do instead of finally so that observer's `complete` fires after cleanup\n      [\"do\"]({\n        error: cleanup,\n        complete: cleanup,\n        unsubscribe: cleanup\n      }).subscribe(observer || {});\n      this._refetchSubscription = this._isARequestInFlight ? refetchSubscription : null;\n      return refetchSubscription;\n    };\n\n    _proto._cleanup = function _cleanup() {\n      this._resolver.dispose();\n\n      this._refetchVariables = null;\n      this._hasFetched = false;\n\n      if (this._refetchSubscription) {\n        this._refetchSubscription.unsubscribe();\n\n        this._refetchSubscription = null;\n        this._isARequestInFlight = false;\n      }\n\n      if (this._queryFetcher) {\n        this._queryFetcher.dispose();\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props3 = this.props,\n          componentRef = _this$props3.componentRef,\n          __relayContext = _this$props3.__relayContext,\n          props = (0, _objectWithoutPropertiesLoose2[\"default\"])(_this$props3, [\"componentRef\", \"__relayContext\"]);\n      return /*#__PURE__*/React.createElement(ReactRelayContext.Provider, {\n        value: this.state.contextForChildren\n      }, /*#__PURE__*/React.createElement(Component, (0, _extends2[\"default\"])({}, props, this.state.data, {\n        ref: componentRef,\n        relay: this.state.relayProp\n      })));\n    };\n\n    return _class;\n  }(React.Component), (0, _defineProperty2[\"default\"])(_class, \"displayName\", containerName), _temp;\n}\n/**\n * Wrap the basic `createContainer()` function with logic to adapt to the\n * `context.relay.environment` in which it is rendered. Specifically, the\n * extraction of the environment-specific version of fragments in the\n * `fragmentSpec` is memoized once per environment, rather than once per\n * instance of the container constructed/rendered.\n */\n\n\nfunction createContainer(Component, fragmentSpec, connectionConfig) {\n  // $FlowFixMe[incompatible-return]\n  return buildReactRelayContainer(Component, fragmentSpec, function (ComponentClass, fragments) {\n    return createContainerWithFragments(ComponentClass, fragments, connectionConfig);\n  });\n}\n\nmodule.exports = {\n  createContainer: createContainer\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar _require = require('relay-runtime'),\n    createOperationDescriptor = _require.createOperationDescriptor,\n    isRelayModernEnvironment = _require.isRelayModernEnvironment,\n    fetchQuery = _require.__internal.fetchQuery;\n\nvar ReactRelayQueryFetcher = /*#__PURE__*/function () {\n  function ReactRelayQueryFetcher(args) {\n    (0, _defineProperty2[\"default\"])(this, \"_selectionReferences\", []);\n    (0, _defineProperty2[\"default\"])(this, \"_callOnDataChangeWhenSet\", false);\n\n    if (args != null) {\n      this._cacheSelectionReference = args.cacheSelectionReference;\n      this._selectionReferences = args.selectionReferences;\n    }\n  }\n\n  var _proto = ReactRelayQueryFetcher.prototype;\n\n  _proto.getSelectionReferences = function getSelectionReferences() {\n    return {\n      cacheSelectionReference: this._cacheSelectionReference,\n      selectionReferences: this._selectionReferences\n    };\n  };\n\n  _proto.lookupInStore = function lookupInStore(environment, operation, fetchPolicy) {\n    if (fetchPolicy === 'store-and-network' || fetchPolicy === 'store-or-network') {\n      if (environment.check(operation).status === 'available') {\n        this._retainCachedOperation(environment, operation);\n\n        return environment.lookup(operation.fragment);\n      }\n    }\n\n    return null;\n  };\n\n  _proto.execute = function execute(_ref) {\n    var _this = this;\n\n    var environment = _ref.environment,\n        operation = _ref.operation,\n        _ref$preservePrevious = _ref.preservePreviousReferences,\n        preservePreviousReferences = _ref$preservePrevious === void 0 ? false : _ref$preservePrevious;\n    var reference = environment.retain(operation);\n\n    var error = function error() {\n      // We may have partially fulfilled the request, so let the next request\n      // or the unmount dispose of the references.\n      _this._selectionReferences = _this._selectionReferences.concat(reference);\n    };\n\n    var complete = function complete() {\n      if (!preservePreviousReferences) {\n        _this.disposeSelectionReferences();\n      }\n\n      _this._selectionReferences = _this._selectionReferences.concat(reference);\n    };\n\n    var unsubscribe = function unsubscribe() {\n      // Let the next request or the unmount code dispose of the references.\n      // We may have partially fulfilled the request.\n      _this._selectionReferences = _this._selectionReferences.concat(reference);\n    };\n\n    if (!isRelayModernEnvironment(environment)) {\n      return environment.execute({\n        operation: operation\n      })[\"do\"]({\n        error: error,\n        complete: complete,\n        unsubscribe: unsubscribe\n      });\n    }\n\n    return fetchQuery(environment, operation)[\"do\"]({\n      error: error,\n      complete: complete,\n      unsubscribe: unsubscribe\n    });\n  };\n\n  _proto.setOnDataChange = function setOnDataChange(onDataChange) {\n    !this._fetchOptions ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayQueryFetcher: `setOnDataChange` should have been called after having called `fetch`') : invariant(false) : void 0;\n\n    if (typeof onDataChange === 'function') {\n      // Mutate the most recent fetchOptions in place,\n      // So that in-progress requests can access the updated callback.\n      this._fetchOptions.onDataChangeCallbacks = this._fetchOptions.onDataChangeCallbacks || [];\n\n      this._fetchOptions.onDataChangeCallbacks.push(onDataChange);\n\n      if (this._callOnDataChangeWhenSet) {\n        // We don't reset '_callOnDataChangeWhenSet' because another callback may be set\n        if (this._error != null) {\n          onDataChange({\n            error: this._error\n          });\n        } else if (this._snapshot != null) {\n          onDataChange({\n            snapshot: this._snapshot\n          });\n        }\n      }\n    }\n  }\n  /**\n   * `fetch` fetches the data for the given operation.\n   * If a result is immediately available synchronously, it will be synchronously\n   * returned by this function.\n   *\n   * Otherwise, the fetched result will be communicated via the `onDataChange` callback.\n   * `onDataChange` will be called with the first result (**if it wasn't returned synchronously**),\n   * and then subsequently whenever the data changes.\n   */\n  ;\n\n  _proto.fetch = function fetch(fetchOptions, cacheConfigOverride) {\n    var _this2 = this;\n\n    var environment = fetchOptions.environment,\n        operation = fetchOptions.operation,\n        onDataChange = fetchOptions.onDataChange;\n    var fetchHasReturned = false;\n\n    var _error;\n\n    this.disposeRequest();\n    var oldOnDataChangeCallbacks = this._fetchOptions && this._fetchOptions.onDataChangeCallbacks;\n    this._fetchOptions = {\n      environment: environment,\n      onDataChangeCallbacks: oldOnDataChangeCallbacks || [],\n      operation: operation\n    };\n\n    if (onDataChange && this._fetchOptions.onDataChangeCallbacks.indexOf(onDataChange) === -1) {\n      this._fetchOptions.onDataChangeCallbacks.push(onDataChange);\n    }\n\n    var operationOverride = cacheConfigOverride ? createOperationDescriptor(operation.request.node, operation.request.variables, cacheConfigOverride) : operation;\n    var request = this.execute({\n      environment: environment,\n      operation: operationOverride\n    })[\"finally\"](function () {\n      _this2._pendingRequest = null;\n    }).subscribe({\n      next: function next() {\n        // If we received a response,\n        // Make a note that to notify the callback when it's later added.\n        _this2._callOnDataChangeWhenSet = true;\n        _this2._error = null; // Only notify of the first result if `next` is being called **asynchronously**\n        // (i.e. after `fetch` has returned).\n\n        _this2._onQueryDataAvailable({\n          notifyFirstResult: fetchHasReturned\n        });\n      },\n      error: function error(err) {\n        // If we received a response when we didn't have a change callback,\n        // Make a note that to notify the callback when it's later added.\n        _this2._callOnDataChangeWhenSet = true;\n        _this2._error = err;\n        _this2._snapshot = null;\n        var onDataChangeCallbacks = _this2._fetchOptions && _this2._fetchOptions.onDataChangeCallbacks; // Only notify of error if `error` is being called **asynchronously**\n        // (i.e. after `fetch` has returned).\n\n        if (fetchHasReturned) {\n          if (onDataChangeCallbacks) {\n            onDataChangeCallbacks.forEach(function (onDataChange) {\n              onDataChange({\n                error: err\n              });\n            });\n          }\n        } else {\n          _error = err;\n        }\n      }\n    });\n    this._pendingRequest = {\n      dispose: function dispose() {\n        request.unsubscribe();\n      }\n    };\n    fetchHasReturned = true;\n\n    if (_error) {\n      throw _error;\n    }\n\n    return this._snapshot;\n  };\n\n  _proto.retry = function retry(cacheConfigOverride) {\n    !this._fetchOptions ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayQueryFetcher: `retry` should be called after having called `fetch`') : invariant(false) : void 0;\n    return this.fetch({\n      environment: this._fetchOptions.environment,\n      operation: this._fetchOptions.operation,\n      onDataChange: null // If there are onDataChangeCallbacks they will be reused\n\n    }, cacheConfigOverride);\n  };\n\n  _proto.dispose = function dispose() {\n    this.disposeRequest();\n    this.disposeSelectionReferences();\n  };\n\n  _proto.disposeRequest = function disposeRequest() {\n    this._error = null;\n    this._snapshot = null; // order is important, dispose of pendingFetch before selectionReferences\n\n    if (this._pendingRequest) {\n      this._pendingRequest.dispose();\n    }\n\n    if (this._rootSubscription) {\n      this._rootSubscription.dispose();\n\n      this._rootSubscription = null;\n    }\n  };\n\n  _proto._retainCachedOperation = function _retainCachedOperation(environment, operation) {\n    this._disposeCacheSelectionReference();\n\n    this._cacheSelectionReference = environment.retain(operation);\n  };\n\n  _proto._disposeCacheSelectionReference = function _disposeCacheSelectionReference() {\n    this._cacheSelectionReference && this._cacheSelectionReference.dispose();\n    this._cacheSelectionReference = null;\n  };\n\n  _proto.disposeSelectionReferences = function disposeSelectionReferences() {\n    this._disposeCacheSelectionReference();\n\n    this._selectionReferences.forEach(function (r) {\n      return r.dispose();\n    });\n\n    this._selectionReferences = [];\n  };\n\n  _proto._onQueryDataAvailable = function _onQueryDataAvailable(_ref2) {\n    var _this3 = this;\n\n    var notifyFirstResult = _ref2.notifyFirstResult;\n    !this._fetchOptions ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayQueryFetcher: `_onQueryDataAvailable` should have been called after having called `fetch`') : invariant(false) : void 0;\n    var _this$_fetchOptions = this._fetchOptions,\n        environment = _this$_fetchOptions.environment,\n        onDataChangeCallbacks = _this$_fetchOptions.onDataChangeCallbacks,\n        operation = _this$_fetchOptions.operation; // `_onQueryDataAvailable` can be called synchronously the first time and can be called\n    // multiple times by network layers that support data subscriptions.\n    // Wait until the first payload to call `onDataChange` and subscribe for data updates.\n\n    if (this._snapshot) {\n      return;\n    }\n\n    this._snapshot = environment.lookup(operation.fragment); // Subscribe to changes in the data of the root fragment\n\n    this._rootSubscription = environment.subscribe(this._snapshot, function (snapshot) {\n      // Read from this._fetchOptions in case onDataChange() was lazily added.\n      if (_this3._fetchOptions != null) {\n        var maybeNewOnDataChangeCallbacks = _this3._fetchOptions.onDataChangeCallbacks;\n\n        if (Array.isArray(maybeNewOnDataChangeCallbacks)) {\n          maybeNewOnDataChangeCallbacks.forEach(function (onDataChange) {\n            return onDataChange({\n              snapshot: snapshot\n            });\n          });\n        }\n      }\n    });\n\n    if (this._snapshot && notifyFirstResult && Array.isArray(onDataChangeCallbacks)) {\n      var snapshot = this._snapshot;\n      onDataChangeCallbacks.forEach(function (onDataChange) {\n        return onDataChange({\n          snapshot: snapshot\n        });\n      });\n    }\n  };\n\n  return ReactRelayQueryFetcher;\n}();\n\nmodule.exports = ReactRelayQueryFetcher;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar React = require('react');\n\nvar ReactRelayContext = require('./ReactRelayContext');\n\nvar ReactRelayQueryFetcher = require('./ReactRelayQueryFetcher');\n\nvar areEqual = require(\"fbjs/lib/areEqual\");\n\nvar _require = require('relay-runtime'),\n    createOperationDescriptor = _require.createOperationDescriptor,\n    deepFreeze = _require.deepFreeze,\n    getRequest = _require.getRequest;\n\n/**\n * React may double-fire the constructor, and we call 'fetch' in the\n * constructor. If a request is already in flight from a previous call to the\n * constructor, just reuse the query fetcher and wait for the response.\n */\nvar requestCache = {};\n\n/**\n * @public\n *\n * Orchestrates fetching and rendering data for a single view or view hierarchy:\n * - Fetches the query/variables using the given network implementation.\n * - Normalizes the response(s) to that query, publishing them to the given\n *   store.\n * - Renders the pending/fail/success states with the provided render function.\n * - Subscribes for updates to the root data and re-renders with any changes.\n */\nvar ReactRelayQueryRenderer = /*#__PURE__*/function (_React$Component) {\n  (0, _inheritsLoose2[\"default\"])(ReactRelayQueryRenderer, _React$Component);\n\n  function ReactRelayQueryRenderer(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this; // Callbacks are attached to the current instance and shared with static\n    // lifecyles by bundling with state. This is okay to do because the\n    // callbacks don't change in reaction to props. However we should not\n    // \"leak\" them before mounting (since we would be unable to clean up). For\n    // that reason, we define them as null initially and fill them in after\n    // mounting to avoid leaking memory.\n\n    var retryCallbacks = {\n      handleDataChange: null,\n      handleRetryAfterError: null\n    };\n    var queryFetcher;\n    var requestCacheKey;\n\n    if (props.query) {\n      var query = props.query;\n      var request = getRequest(query);\n      requestCacheKey = getRequestCacheKey(request.params, props.variables);\n      queryFetcher = requestCache[requestCacheKey] ? requestCache[requestCacheKey].queryFetcher : new ReactRelayQueryFetcher();\n    } else {\n      queryFetcher = new ReactRelayQueryFetcher();\n    }\n\n    _this.state = (0, _objectSpread2[\"default\"])({\n      prevPropsEnvironment: props.environment,\n      prevPropsVariables: props.variables,\n      prevQuery: props.query,\n      queryFetcher: queryFetcher,\n      retryCallbacks: retryCallbacks\n    }, fetchQueryAndComputeStateFromProps(props, queryFetcher, retryCallbacks, requestCacheKey));\n    return _this;\n  }\n\n  ReactRelayQueryRenderer.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    if (prevState.prevQuery !== nextProps.query || prevState.prevPropsEnvironment !== nextProps.environment || !areEqual(prevState.prevPropsVariables, nextProps.variables)) {\n      var query = nextProps.query;\n      var prevSelectionReferences = prevState.queryFetcher.getSelectionReferences();\n      prevState.queryFetcher.disposeRequest();\n      var queryFetcher;\n\n      if (query) {\n        var request = getRequest(query);\n        var requestCacheKey = getRequestCacheKey(request.params, nextProps.variables);\n        queryFetcher = requestCache[requestCacheKey] ? requestCache[requestCacheKey].queryFetcher : new ReactRelayQueryFetcher(prevSelectionReferences);\n      } else {\n        queryFetcher = new ReactRelayQueryFetcher(prevSelectionReferences);\n      }\n\n      return (0, _objectSpread2[\"default\"])({\n        prevQuery: nextProps.query,\n        prevPropsEnvironment: nextProps.environment,\n        prevPropsVariables: nextProps.variables,\n        queryFetcher: queryFetcher\n      }, fetchQueryAndComputeStateFromProps(nextProps, queryFetcher, prevState.retryCallbacks // passing no requestCacheKey will cause it to be recalculated internally\n      // and we want the updated requestCacheKey, since variables may have changed\n      ));\n    }\n\n    return null;\n  };\n\n  var _proto = ReactRelayQueryRenderer.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    var _this$state = this.state,\n        retryCallbacks = _this$state.retryCallbacks,\n        queryFetcher = _this$state.queryFetcher,\n        requestCacheKey = _this$state.requestCacheKey;\n\n    if (requestCacheKey) {\n      delete requestCache[requestCacheKey];\n    }\n\n    retryCallbacks.handleDataChange = function (params) {\n      var error = params.error == null ? null : params.error;\n      var snapshot = params.snapshot == null ? null : params.snapshot;\n\n      _this2.setState(function (prevState) {\n        var prevRequestCacheKey = prevState.requestCacheKey;\n\n        if (prevRequestCacheKey) {\n          delete requestCache[prevRequestCacheKey];\n        } // Don't update state if nothing has changed.\n\n\n        if (snapshot === prevState.snapshot && error === prevState.error) {\n          return null;\n        }\n\n        return {\n          renderProps: getRenderProps(error, snapshot, prevState.queryFetcher, prevState.retryCallbacks),\n          snapshot: snapshot,\n          requestCacheKey: null\n        };\n      });\n    };\n\n    retryCallbacks.handleRetryAfterError = function (error) {\n      return _this2.setState(function (prevState) {\n        var prevRequestCacheKey = prevState.requestCacheKey;\n\n        if (prevRequestCacheKey) {\n          delete requestCache[prevRequestCacheKey];\n        }\n\n        return {\n          renderProps: getLoadingRenderProps(),\n          requestCacheKey: null\n        };\n      });\n    }; // Re-initialize the ReactRelayQueryFetcher with callbacks.\n    // If data has changed since constructions, this will re-render.\n\n\n    if (this.props.query) {\n      queryFetcher.setOnDataChange(retryCallbacks.handleDataChange);\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    // We don't need to cache the request after the component commits\n    var requestCacheKey = this.state.requestCacheKey;\n\n    if (requestCacheKey) {\n      delete requestCache[requestCacheKey]; // HACK\n\n      delete this.state.requestCacheKey;\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.state.queryFetcher.dispose();\n  };\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    return nextProps.render !== this.props.render || nextState.renderProps !== this.state.renderProps;\n  };\n\n  _proto.render = function render() {\n    var _this$state2 = this.state,\n        renderProps = _this$state2.renderProps,\n        relayContext = _this$state2.relayContext; // Note that the root fragment results in `renderProps.props` is already\n    // frozen by the store; this call is to freeze the renderProps object and\n    // error property if set.\n\n    if (process.env.NODE_ENV !== \"production\") {\n      deepFreeze(renderProps);\n    }\n\n    return /*#__PURE__*/React.createElement(ReactRelayContext.Provider, {\n      value: relayContext\n    }, this.props.render(renderProps));\n  };\n\n  return ReactRelayQueryRenderer;\n}(React.Component);\n\nfunction getLoadingRenderProps() {\n  return {\n    error: null,\n    props: null,\n    // `props: null` indicates that the data is being fetched (i.e. loading)\n    retry: null\n  };\n}\n\nfunction getEmptyRenderProps() {\n  return {\n    error: null,\n    props: {},\n    // `props: {}` indicates no data available\n    retry: null\n  };\n}\n\nfunction getRenderProps(error, snapshot, queryFetcher, retryCallbacks) {\n  return {\n    error: error ? error : null,\n    props: snapshot ? snapshot.data : null,\n    retry: function retry(cacheConfigOverride) {\n      var syncSnapshot = queryFetcher.retry(cacheConfigOverride);\n\n      if (syncSnapshot && typeof retryCallbacks.handleDataChange === 'function') {\n        retryCallbacks.handleDataChange({\n          snapshot: syncSnapshot\n        });\n      } else if (error && typeof retryCallbacks.handleRetryAfterError === 'function') {\n        // If retrying after an error and no synchronous result available,\n        // reset the render props\n        retryCallbacks.handleRetryAfterError(error);\n      }\n    }\n  };\n}\n\nfunction getRequestCacheKey(request, variables) {\n  return JSON.stringify({\n    id: request.cacheID ? request.cacheID : request.id,\n    variables: variables\n  });\n}\n\nfunction fetchQueryAndComputeStateFromProps(props, queryFetcher, retryCallbacks, requestCacheKey) {\n  var environment = props.environment,\n      query = props.query,\n      variables = props.variables,\n      cacheConfig = props.cacheConfig;\n  var genericEnvironment = environment;\n\n  if (query) {\n    var request = getRequest(query);\n    var operation = createOperationDescriptor(request, variables, cacheConfig);\n    var relayContext = {\n      environment: genericEnvironment\n    };\n\n    if (typeof requestCacheKey === 'string' && requestCache[requestCacheKey]) {\n      // This same request is already in flight.\n      var snapshot = requestCache[requestCacheKey].snapshot;\n\n      if (snapshot) {\n        // Use the cached response\n        return {\n          error: null,\n          relayContext: relayContext,\n          renderProps: getRenderProps(null, snapshot, queryFetcher, retryCallbacks),\n          snapshot: snapshot,\n          requestCacheKey: requestCacheKey\n        };\n      } else {\n        // Render loading state\n        return {\n          error: null,\n          relayContext: relayContext,\n          renderProps: getLoadingRenderProps(),\n          snapshot: null,\n          requestCacheKey: requestCacheKey\n        };\n      }\n    }\n\n    try {\n      var storeSnapshot = queryFetcher.lookupInStore(genericEnvironment, operation, props.fetchPolicy);\n      var querySnapshot = queryFetcher.fetch({\n        environment: genericEnvironment,\n        onDataChange: retryCallbacks.handleDataChange,\n        operation: operation\n      }); // Use network data first, since it may be fresher\n\n      var _snapshot = querySnapshot || storeSnapshot; // cache the request to avoid duplicate requests\n\n\n      requestCacheKey = requestCacheKey || getRequestCacheKey(request.params, props.variables);\n      requestCache[requestCacheKey] = {\n        queryFetcher: queryFetcher,\n        snapshot: _snapshot\n      };\n\n      if (!_snapshot) {\n        return {\n          error: null,\n          relayContext: relayContext,\n          renderProps: getLoadingRenderProps(),\n          snapshot: null,\n          requestCacheKey: requestCacheKey\n        };\n      }\n\n      return {\n        error: null,\n        relayContext: relayContext,\n        renderProps: getRenderProps(null, _snapshot, queryFetcher, retryCallbacks),\n        snapshot: _snapshot,\n        requestCacheKey: requestCacheKey\n      };\n    } catch (error) {\n      return {\n        error: error,\n        relayContext: relayContext,\n        renderProps: getRenderProps(error, null, queryFetcher, retryCallbacks),\n        snapshot: null,\n        requestCacheKey: requestCacheKey\n      };\n    }\n  } else {\n    queryFetcher.dispose();\n    var _relayContext = {\n      environment: genericEnvironment\n    };\n    return {\n      error: null,\n      relayContext: _relayContext,\n      renderProps: getEmptyRenderProps(),\n      requestCacheKey: null // if there is an error, don't cache request\n\n    };\n  }\n}\n\nmodule.exports = ReactRelayQueryRenderer;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar React = require('react');\n\nvar ReactRelayContext = require('./ReactRelayContext');\n\nvar ReactRelayQueryFetcher = require('./ReactRelayQueryFetcher');\n\nvar areEqual = require(\"fbjs/lib/areEqual\");\n\nvar buildReactRelayContainer = require('./buildReactRelayContainer');\n\nvar getRootVariablesForFragments = require('./getRootVariablesForFragments');\n\nvar warning = require(\"fbjs/lib/warning\");\n\nvar _require = require('./ReactRelayContainerUtils'),\n    getContainerName = _require.getContainerName;\n\nvar _require2 = require('./RelayContext'),\n    assertRelayContext = _require2.assertRelayContext;\n\nvar _require3 = require('relay-runtime'),\n    Observable = _require3.Observable,\n    createFragmentSpecResolver = _require3.createFragmentSpecResolver,\n    createOperationDescriptor = _require3.createOperationDescriptor,\n    getDataIDsFromObject = _require3.getDataIDsFromObject,\n    getRequest = _require3.getRequest,\n    getSelector = _require3.getSelector,\n    getVariablesFromObject = _require3.getVariablesFromObject,\n    isScalarAndEqual = _require3.isScalarAndEqual;\n\n/**\n * Composes a React component class, returning a new class that intercepts\n * props, resolving them with the provided fragments and subscribing for\n * updates.\n */\nfunction createContainerWithFragments(Component, fragments, taggedNode) {\n  var _class, _temp;\n\n  var containerName = getContainerName(Component);\n  return _temp = _class = /*#__PURE__*/function (_React$Component) {\n    (0, _inheritsLoose2[\"default\"])(_class, _React$Component);\n\n    function _class(props) {\n      var _this;\n\n      _this = _React$Component.call(this, props) || this;\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_handleFragmentDataUpdate\", function () {\n        var resolverFromThisUpdate = _this.state.resolver;\n\n        _this.setState(function (updatedState) {\n          return (// If this event belongs to the current data source, update.\n            // Otherwise we should ignore it.\n            resolverFromThisUpdate === updatedState.resolver ? {\n              data: updatedState.resolver.resolve()\n            } : null\n          );\n        });\n      });\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_refetch\", function (refetchVariables, renderVariables, observerOrCallback, options) {\n        if (_this._isUnmounted) {\n          process.env.NODE_ENV !== \"production\" ? warning(false, 'ReactRelayRefetchContainer: Unexpected call of `refetch` ' + 'on unmounted container `%s`. It looks like some instances ' + 'of your container still trying to refetch the data but they already ' + 'unmounted. Please make sure you clear all timers, intervals, async ' + 'calls, etc that may trigger `refetch`.', containerName) : void 0;\n          return {\n            dispose: function dispose() {}\n          };\n        }\n\n        var _assertRelayContext = assertRelayContext(_this.props.__relayContext),\n            environment = _assertRelayContext.environment;\n\n        var rootVariables = getRootVariablesForFragments(fragments, _this.props);\n        var fetchVariables = typeof refetchVariables === 'function' ? refetchVariables(_this._getFragmentVariables()) : refetchVariables;\n        fetchVariables = (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, rootVariables), fetchVariables);\n        var fragmentVariables = renderVariables ? (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, fetchVariables), renderVariables) : fetchVariables;\n        var cacheConfig = options ? {\n          force: !!options.force\n        } : undefined;\n\n        if (cacheConfig != null && (options === null || options === void 0 ? void 0 : options.metadata) != null) {\n          cacheConfig.metadata = options === null || options === void 0 ? void 0 : options.metadata;\n        }\n\n        var observer = typeof observerOrCallback === 'function' ? {\n          // callback is not exectued on complete or unsubscribe\n          // for backward compatibility\n          next: observerOrCallback,\n          error: observerOrCallback\n        } : observerOrCallback || {};\n        var query = getRequest(taggedNode);\n        var operation = createOperationDescriptor(query, fetchVariables, cacheConfig); // TODO: T26288752 find a better way\n\n        /* eslint-disable lint/react-state-props-mutation */\n\n        _this.state.localVariables = fetchVariables;\n        /* eslint-enable lint/react-state-props-mutation */\n        // Cancel any previously running refetch.\n\n        _this._refetchSubscription && _this._refetchSubscription.unsubscribe(); // Declare refetchSubscription before assigning it in .start(), since\n        // synchronous completion may call callbacks .subscribe() returns.\n\n        var refetchSubscription;\n\n        var storeSnapshot = _this._getQueryFetcher().lookupInStore(environment, operation, options === null || options === void 0 ? void 0 : options.fetchPolicy);\n\n        if (storeSnapshot != null) {\n          _this.state.resolver.setVariables(fragmentVariables, operation.request.node);\n\n          _this.setState(function (latestState) {\n            return {\n              data: latestState.resolver.resolve(),\n              contextForChildren: {\n                environment: _this.props.__relayContext.environment\n              }\n            };\n          }, function () {\n            observer.next && observer.next();\n            observer.complete && observer.complete();\n          });\n\n          return {\n            dispose: function dispose() {}\n          };\n        }\n\n        _this._getQueryFetcher().execute({\n          environment: environment,\n          operation: operation,\n          // TODO (T26430099): Cleanup old references\n          preservePreviousReferences: true\n        }).mergeMap(function (response) {\n          _this.state.resolver.setVariables(fragmentVariables, operation.request.node);\n\n          return Observable.create(function (sink) {\n            return _this.setState(function (latestState) {\n              return {\n                data: latestState.resolver.resolve(),\n                contextForChildren: {\n                  environment: _this.props.__relayContext.environment\n                }\n              };\n            }, function () {\n              sink.next();\n              sink.complete();\n            });\n          });\n        })[\"finally\"](function () {\n          // Finalizing a refetch should only clear this._refetchSubscription\n          // if the finizing subscription is the most recent call.\n          if (_this._refetchSubscription === refetchSubscription) {\n            _this._refetchSubscription = null;\n          }\n        }).subscribe((0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, observer), {}, {\n          start: function start(subscription) {\n            _this._refetchSubscription = refetchSubscription = subscription;\n            observer.start && observer.start(subscription);\n          }\n        }));\n\n        return {\n          dispose: function dispose() {\n            refetchSubscription && refetchSubscription.unsubscribe();\n          }\n        };\n      });\n      var relayContext = assertRelayContext(props.__relayContext);\n      _this._refetchSubscription = null; // Do not provide a subscription/callback here.\n      // It is possible for this render to be interrupted or aborted,\n      // In which case the subscription would cause a leak.\n      // We will add the subscription in componentDidMount().\n\n      var resolver = createFragmentSpecResolver(relayContext, containerName, fragments, props);\n      _this.state = {\n        data: resolver.resolve(),\n        localVariables: null,\n        prevProps: props,\n        prevPropsContext: relayContext,\n        contextForChildren: relayContext,\n        relayProp: getRelayProp(relayContext.environment, _this._refetch),\n        resolver: resolver\n      };\n      _this._isUnmounted = false;\n      return _this;\n    }\n\n    var _proto = _class.prototype;\n\n    _proto.componentDidMount = function componentDidMount() {\n      this._subscribeToNewResolver();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n      // If the environment has changed or props point to new records then\n      // previously fetched data and any pending fetches no longer apply:\n      // - Existing references are on the old environment.\n      // - Existing references are based on old variables.\n      // - Pending fetches are for the previous records.\n      if (this.state.resolver !== prevState.resolver) {\n        prevState.resolver.dispose();\n        this._queryFetcher && this._queryFetcher.dispose();\n        this._refetchSubscription && this._refetchSubscription.unsubscribe();\n\n        this._subscribeToNewResolver();\n      }\n    }\n    /**\n     * When new props are received, read data for the new props and add it to\n     * state. Props may be the same in which case previous data can be reused.\n     */\n    ;\n\n    _class.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      // Any props change could impact the query, so we mirror props in state.\n      // This is an unusual pattern, but necessary for this container usecase.\n      var prevProps = prevState.prevProps;\n      var relayContext = assertRelayContext(nextProps.__relayContext);\n      var prevIDs = getDataIDsFromObject(fragments, prevProps);\n      var nextIDs = getDataIDsFromObject(fragments, nextProps);\n      var prevRootVariables = getRootVariablesForFragments(fragments, prevProps);\n      var nextRootVariables = getRootVariablesForFragments(fragments, nextProps);\n      var resolver = prevState.resolver; // If the environment has changed or props point to new records then\n      // previously fetched data and any pending fetches no longer apply:\n      // - Existing references are on the old environment.\n      // - Existing references are based on old variables.\n      // - Pending fetches are for the previous records.\n\n      if (prevState.prevPropsContext.environment !== relayContext.environment || !areEqual(prevRootVariables, nextRootVariables) || !areEqual(prevIDs, nextIDs)) {\n        // Do not provide a subscription/callback here.\n        // It is possible for this render to be interrupted or aborted,\n        // In which case the subscription would cause a leak.\n        // We will add the subscription in componentDidUpdate().\n        resolver = createFragmentSpecResolver(relayContext, containerName, fragments, nextProps);\n        return {\n          data: resolver.resolve(),\n          localVariables: null,\n          prevProps: nextProps,\n          prevPropsContext: relayContext,\n          contextForChildren: relayContext,\n          relayProp: getRelayProp(relayContext.environment, prevState.relayProp.refetch),\n          resolver: resolver\n        };\n      } else if (!prevState.localVariables) {\n        resolver.setProps(nextProps);\n      }\n\n      var data = resolver.resolve();\n\n      if (data !== prevState.data) {\n        return {\n          data: data,\n          prevProps: nextProps\n        };\n      }\n\n      return null;\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this._isUnmounted = true;\n      this.state.resolver.dispose();\n      this._queryFetcher && this._queryFetcher.dispose();\n      this._refetchSubscription && this._refetchSubscription.unsubscribe();\n    };\n\n    _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n      // Short-circuit if any Relay-related data has changed\n      if (nextState.data !== this.state.data || nextState.relayProp !== this.state.relayProp) {\n        return true;\n      } // Otherwise, for convenience short-circuit if all non-Relay props\n      // are scalar and equal\n\n\n      var keys = Object.keys(nextProps);\n\n      for (var ii = 0; ii < keys.length; ii++) {\n        var _key = keys[ii];\n\n        if (_key === '__relayContext') {\n          if (this.state.prevPropsContext.environment !== nextState.prevPropsContext.environment) {\n            return true;\n          }\n        } else {\n          if (!fragments.hasOwnProperty(_key) && !isScalarAndEqual(nextProps[_key], this.props[_key])) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    };\n\n    _proto._subscribeToNewResolver = function _subscribeToNewResolver() {\n      var _this$state = this.state,\n          data = _this$state.data,\n          resolver = _this$state.resolver; // Event listeners are only safe to add during the commit phase,\n      // So they won't leak if render is interrupted or errors.\n\n      resolver.setCallback(this._handleFragmentDataUpdate); // External values could change between render and commit.\n      // Check for this case, even though it requires an extra store read.\n\n      var maybeNewData = resolver.resolve();\n\n      if (data !== maybeNewData) {\n        this.setState({\n          data: maybeNewData\n        });\n      }\n    }\n    /**\n     * Render new data for the existing props/context.\n     */\n    ;\n\n    _proto._getFragmentVariables = function _getFragmentVariables() {\n      return getVariablesFromObject(fragments, this.props);\n    };\n\n    _proto._getQueryFetcher = function _getQueryFetcher() {\n      if (!this._queryFetcher) {\n        this._queryFetcher = new ReactRelayQueryFetcher();\n      }\n\n      return this._queryFetcher;\n    };\n\n    _proto.render = function render() {\n      var _this$props = this.props,\n          componentRef = _this$props.componentRef,\n          __relayContext = _this$props.__relayContext,\n          props = (0, _objectWithoutPropertiesLoose2[\"default\"])(_this$props, [\"componentRef\", \"__relayContext\"]);\n      var _this$state2 = this.state,\n          relayProp = _this$state2.relayProp,\n          contextForChildren = _this$state2.contextForChildren;\n      return /*#__PURE__*/React.createElement(ReactRelayContext.Provider, {\n        value: contextForChildren\n      }, /*#__PURE__*/React.createElement(Component, (0, _extends2[\"default\"])({}, props, this.state.data, {\n        ref: componentRef,\n        relay: relayProp\n      })));\n    };\n\n    return _class;\n  }(React.Component), (0, _defineProperty2[\"default\"])(_class, \"displayName\", containerName), _temp;\n}\n\nfunction getRelayProp(environment, refetch) {\n  return {\n    environment: environment,\n    refetch: refetch\n  };\n}\n/**\n * Wrap the basic `createContainer()` function with logic to adapt to the\n * `context.relay.environment` in which it is rendered. Specifically, the\n * extraction of the environment-specific version of fragments in the\n * `fragmentSpec` is memoized once per environment, rather than once per\n * instance of the container constructed/rendered.\n */\n\n\nfunction createContainer(Component, fragmentSpec, taggedNode) {\n  // $FlowFixMe[incompatible-return]\n  return buildReactRelayContainer(Component, fragmentSpec, function (ComponentClass, fragments) {\n    return createContainerWithFragments(ComponentClass, fragments, taggedNode);\n  });\n}\n\nmodule.exports = {\n  createContainer: createContainer\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isRelayEnvironment = require('./isRelayEnvironment');\n\n/**\n * Asserts that the input is a matches the `RelayContext` type defined in\n * `RelayEnvironmentTypes` and returns it as that type.\n */\nfunction assertRelayContext(relay) {\n  !isRelayContext(relay) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayContext: Expected `context.relay` to be an object conforming to ' + 'the `RelayContext` interface, got `%s`.', relay) : invariant(false) : void 0;\n  return relay;\n}\n/**\n * Determine if the input is a plain object that matches the `RelayContext`\n * type defined in `RelayEnvironmentTypes`.\n */\n\n\nfunction isRelayContext(context) {\n  return typeof context === 'object' && context !== null && !Array.isArray(context) && isRelayEnvironment(context.environment);\n}\n\nmodule.exports = {\n  assertRelayContext: assertRelayContext,\n  isRelayContext: isRelayContext\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\n/**\n * Fail fast if the user supplies invalid fragments as input.\n */\nfunction assertFragmentMap(componentName, fragmentSpec) {\n  !(fragmentSpec && typeof fragmentSpec === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not create Relay Container for `%s`. ' + 'Expected a set of GraphQL fragments, got `%s` instead.', componentName, fragmentSpec) : invariant(false) : void 0;\n\n  for (var key in fragmentSpec) {\n    if (fragmentSpec.hasOwnProperty(key)) {\n      var fragment = fragmentSpec[key];\n      !(fragment && (typeof fragment === 'object' || typeof fragment === 'function')) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not create Relay Container for `%s`. ' + 'The value of fragment `%s` was expected to be a fragment, got `%s` instead.', componentName, key, fragment) : invariant(false) : void 0;\n    }\n  }\n}\n\nmodule.exports = assertFragmentMap;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar React = require('react');\n\nvar ReactRelayContext = require('./ReactRelayContext');\n\nvar assertFragmentMap = require('./assertFragmentMap');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar mapObject = require(\"fbjs/lib/mapObject\");\n\nvar readContext = require('./readContext');\n\nvar _require = require('./ReactRelayContainerUtils'),\n    getComponentName = _require.getComponentName,\n    getContainerName = _require.getContainerName;\n\nvar _require2 = require('relay-runtime'),\n    getFragment = _require2.getFragment;\n\n/**\n * Helper to create the Relay HOCs with ref forwarding, setting the displayName\n * and reading the React context.\n */\nfunction buildReactRelayContainer(ComponentClass, fragmentSpec, createContainerWithFragments) {\n  // Sanity-check user-defined fragment input\n  var containerName = getContainerName(ComponentClass);\n  assertFragmentMap(getComponentName(ComponentClass), fragmentSpec);\n  var fragments = mapObject(fragmentSpec, getFragment);\n  var Container = createContainerWithFragments(ComponentClass, fragments);\n  Container.displayName = containerName;\n\n  function forwardRef(props, ref) {\n    var context = readContext(ReactRelayContext);\n    !(context != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '`%s` tried to render a context that was not valid this means that ' + '`%s` was rendered outside of a query renderer.', containerName, containerName) : invariant(false) : void 0;\n    return /*#__PURE__*/React.createElement(Container, (0, _extends2[\"default\"])({}, props, {\n      __relayContext: context,\n      componentRef: props.componentRef || ref\n    }));\n  }\n\n  forwardRef.displayName = containerName;\n  var ForwardContainer = React.forwardRef(forwardRef);\n\n  if (process.env.NODE_ENV !== \"production\") {\n    // Used by RelayModernTestUtils\n    ForwardContainer.__ComponentClass = ComponentClass;\n    ForwardContainer.displayName = containerName;\n  } // $FlowFixMe[incompatible-return]\n\n\n  return ForwardContainer;\n}\n\nmodule.exports = buildReactRelayContainer;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _require = require('relay-runtime'),\n    getSelector = _require.getSelector;\n\nfunction getRootVariablesForFragments(fragments, props) {\n  var rootVariables = {}; // NOTE: For extra safety, we make sure the rootVariables include the\n  // variables from all owners in this fragmentSpec, even though they\n  // should all point to the same owner\n\n  Object.keys(fragments).forEach(function (key) {\n    var _selector$selectors$, _selector$selectors$2, _selector$owner$varia;\n\n    var fragmentNode = fragments[key];\n    var fragmentRef = props[key];\n    var selector = getSelector(fragmentNode, fragmentRef);\n    var fragmentOwnerVariables = selector != null && selector.kind === 'PluralReaderSelector' ? (_selector$selectors$ = (_selector$selectors$2 = selector.selectors[0]) === null || _selector$selectors$2 === void 0 ? void 0 : _selector$selectors$2.owner.variables) !== null && _selector$selectors$ !== void 0 ? _selector$selectors$ : {} : (_selector$owner$varia = selector === null || selector === void 0 ? void 0 : selector.owner.variables) !== null && _selector$owner$varia !== void 0 ? _selector$owner$varia : {};\n    rootVariables = (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, rootVariables), fragmentOwnerVariables);\n  });\n  return rootVariables;\n}\n\nmodule.exports = getRootVariablesForFragments;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar ReactRelayContext = require('./ReactRelayContext');\n\nvar ReactRelayFragmentContainer = require('./ReactRelayFragmentContainer');\n\nvar ReactRelayLocalQueryRenderer = require('./ReactRelayLocalQueryRenderer');\n\nvar ReactRelayPaginationContainer = require('./ReactRelayPaginationContainer');\n\nvar ReactRelayQueryRenderer = require('./ReactRelayQueryRenderer');\n\nvar ReactRelayRefetchContainer = require('./ReactRelayRefetchContainer');\n\nvar RelayRuntime = require('relay-runtime');\n\n/**\n * The public interface to React Relay.\n */\nmodule.exports = {\n  ConnectionHandler: RelayRuntime.ConnectionHandler,\n  QueryRenderer: ReactRelayQueryRenderer,\n  LocalQueryRenderer: ReactRelayLocalQueryRenderer,\n  MutationTypes: RelayRuntime.MutationTypes,\n  RangeOperations: RelayRuntime.RangeOperations,\n  ReactRelayContext: ReactRelayContext,\n  applyOptimisticMutation: RelayRuntime.applyOptimisticMutation,\n  commitLocalUpdate: RelayRuntime.commitLocalUpdate,\n  commitMutation: RelayRuntime.commitMutation,\n  createFragmentContainer: ReactRelayFragmentContainer.createContainer,\n  createPaginationContainer: ReactRelayPaginationContainer.createContainer,\n  createRefetchContainer: ReactRelayRefetchContainer.createContainer,\n  fetchQuery: RelayRuntime.fetchQuery,\n  graphql: RelayRuntime.graphql,\n  readInlineData: RelayRuntime.readInlineData,\n  requestSubscription: RelayRuntime.requestSubscription\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n/**\n * Determine if a given value is an object that implements the `Environment`\n * interface defined in `RelayEnvironmentTypes`.\n */\n\nfunction isRelayEnvironment(environment) {\n  return typeof environment === 'object' && environment !== null && // TODO: add applyMutation/sendMutation once ready in both cores\n  typeof environment.check === 'function' && typeof environment.lookup === 'function' && typeof environment.retain === 'function' && typeof environment.execute === 'function' && typeof environment.subscribe === 'function';\n}\n\nmodule.exports = isRelayEnvironment;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar React = require('react');\n\nvar _React$__SECRET_INTER =\n/* $FlowFixMe[prop-missing] Flow doesn't know about React's internals for\n * good reason, but for now, Relay needs the dispatcher to read context. */\nReact.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,\n    ReactCurrentDispatcher = _React$__SECRET_INTER.ReactCurrentDispatcher,\n    ReactCurrentOwner = _React$__SECRET_INTER.ReactCurrentOwner;\n\nfunction readContext(Context) {\n  var dispatcher = ReactCurrentDispatcher != null ? ReactCurrentDispatcher.current : ReactCurrentOwner.currentDispatcher;\n  return dispatcher.readContext(Context);\n}\n\nmodule.exports = readContext;","/**\n * Relay v10.1.3\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nmodule.exports = require('./lib/index.js');\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar ConnectionHandler = require('./connection/ConnectionHandler');\n\nvar MutationHandlers = require('./connection/MutationHandlers');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nfunction RelayDefaultHandlerProvider(handle) {\n  switch (handle) {\n    case 'connection':\n      return ConnectionHandler;\n\n    case 'deleteRecord':\n      return MutationHandlers.DeleteRecordHandler;\n\n    case 'deleteEdge':\n      return MutationHandlers.DeleteEdgeHandler;\n\n    case 'appendEdge':\n      return MutationHandlers.AppendEdgeHandler;\n\n    case 'prependEdge':\n      return MutationHandlers.PrependEdgeHandler;\n\n    case 'appendNode':\n      return MutationHandlers.AppendNodeHandler;\n\n    case 'prependNode':\n      return MutationHandlers.PrependNodeHandler;\n  }\n\n  !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayDefaultHandlerProvider: No handler provided for `%s`.', handle) : invariant(false) : void 0;\n}\n\nmodule.exports = RelayDefaultHandlerProvider;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar ConnectionInterface = require('./ConnectionInterface');\n\nvar getRelayHandleKey = require('../../util/getRelayHandleKey');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar warning = require(\"fbjs/lib/warning\");\n\nvar _require = require('../../store/ClientID'),\n    generateClientID = _require.generateClientID;\n\nvar CONNECTION = 'connection'; // Per-instance incrementing index used to generate unique edge IDs\n\nvar NEXT_EDGE_INDEX = '__connection_next_edge_index';\n/**\n * @public\n *\n * A default runtime handler for connection fields that appends newly fetched\n * edges onto the end of a connection, regardless of the arguments used to fetch\n * those edges.\n */\n\nfunction update(store, payload) {\n  var record = store.get(payload.dataID);\n\n  if (!record) {\n    return;\n  }\n\n  var _ConnectionInterface$ = ConnectionInterface.get(),\n      EDGES = _ConnectionInterface$.EDGES,\n      END_CURSOR = _ConnectionInterface$.END_CURSOR,\n      HAS_NEXT_PAGE = _ConnectionInterface$.HAS_NEXT_PAGE,\n      HAS_PREV_PAGE = _ConnectionInterface$.HAS_PREV_PAGE,\n      PAGE_INFO = _ConnectionInterface$.PAGE_INFO,\n      PAGE_INFO_TYPE = _ConnectionInterface$.PAGE_INFO_TYPE,\n      START_CURSOR = _ConnectionInterface$.START_CURSOR;\n\n  var serverConnection = record.getLinkedRecord(payload.fieldKey);\n  var serverPageInfo = serverConnection && serverConnection.getLinkedRecord(PAGE_INFO);\n\n  if (!serverConnection) {\n    record.setValue(null, payload.handleKey);\n    return;\n  } // In rare cases the handleKey field may be unset even though the client\n  // connection record exists, in this case new edges should still be merged\n  // into the existing client connection record (and the field reset to point\n  // to that record).\n\n\n  var clientConnectionID = generateClientID(record.getDataID(), payload.handleKey);\n  var clientConnectionField = record.getLinkedRecord(payload.handleKey);\n  var clientConnection = clientConnectionField !== null && clientConnectionField !== void 0 ? clientConnectionField : store.get(clientConnectionID);\n  var clientPageInfo = clientConnection && clientConnection.getLinkedRecord(PAGE_INFO);\n\n  if (!clientConnection) {\n    // Initial fetch with data: copy fields from the server record\n    var connection = store.create(clientConnectionID, serverConnection.getType());\n    connection.setValue(0, NEXT_EDGE_INDEX);\n    connection.copyFieldsFrom(serverConnection);\n    var serverEdges = serverConnection.getLinkedRecords(EDGES);\n\n    if (serverEdges) {\n      serverEdges = serverEdges.map(function (edge) {\n        return buildConnectionEdge(store, connection, edge);\n      });\n      connection.setLinkedRecords(serverEdges, EDGES);\n    }\n\n    record.setLinkedRecord(connection, payload.handleKey);\n    clientPageInfo = store.create(generateClientID(connection.getDataID(), PAGE_INFO), PAGE_INFO_TYPE);\n    clientPageInfo.setValue(false, HAS_NEXT_PAGE);\n    clientPageInfo.setValue(false, HAS_PREV_PAGE);\n    clientPageInfo.setValue(null, END_CURSOR);\n    clientPageInfo.setValue(null, START_CURSOR);\n\n    if (serverPageInfo) {\n      clientPageInfo.copyFieldsFrom(serverPageInfo);\n    }\n\n    connection.setLinkedRecord(clientPageInfo, PAGE_INFO);\n  } else {\n    if (clientConnectionField == null) {\n      // If the handleKey field was unset but the client connection record\n      // existed, update the field to point to the record\n      record.setLinkedRecord(clientConnection, payload.handleKey);\n    }\n\n    var _connection = clientConnection; // Subsequent fetches:\n    // - updated fields on the connection\n    // - merge prev/next edges, de-duplicating by node id\n    // - synthesize page info fields\n\n    var _serverEdges = serverConnection.getLinkedRecords(EDGES);\n\n    if (_serverEdges) {\n      _serverEdges = _serverEdges.map(function (edge) {\n        return buildConnectionEdge(store, _connection, edge);\n      });\n    }\n\n    var prevEdges = _connection.getLinkedRecords(EDGES);\n\n    var prevPageInfo = _connection.getLinkedRecord(PAGE_INFO);\n\n    _connection.copyFieldsFrom(serverConnection); // Reset EDGES and PAGE_INFO fields\n\n\n    if (prevEdges) {\n      _connection.setLinkedRecords(prevEdges, EDGES);\n    }\n\n    if (prevPageInfo) {\n      _connection.setLinkedRecord(prevPageInfo, PAGE_INFO);\n    }\n\n    var nextEdges = [];\n    var args = payload.args;\n\n    if (prevEdges && _serverEdges) {\n      if (args.after != null) {\n        // Forward pagination from the end of the connection: append edges\n        if (clientPageInfo && args.after === clientPageInfo.getValue(END_CURSOR)) {\n          var nodeIDs = new Set();\n          mergeEdges(prevEdges, nextEdges, nodeIDs);\n          mergeEdges(_serverEdges, nextEdges, nodeIDs);\n        } else {\n          process.env.NODE_ENV !== \"production\" ? warning(false, 'Relay: Unexpected after cursor `%s`, edges must ' + 'be fetched from the end of the list (`%s`).', args.after, clientPageInfo && clientPageInfo.getValue(END_CURSOR)) : void 0;\n          return;\n        }\n      } else if (args.before != null) {\n        // Backward pagination from the start of the connection: prepend edges\n        if (clientPageInfo && args.before === clientPageInfo.getValue(START_CURSOR)) {\n          var _nodeIDs = new Set();\n\n          mergeEdges(_serverEdges, nextEdges, _nodeIDs);\n          mergeEdges(prevEdges, nextEdges, _nodeIDs);\n        } else {\n          process.env.NODE_ENV !== \"production\" ? warning(false, 'Relay: Unexpected before cursor `%s`, edges must ' + 'be fetched from the beginning of the list (`%s`).', args.before, clientPageInfo && clientPageInfo.getValue(START_CURSOR)) : void 0;\n          return;\n        }\n      } else {\n        // The connection was refetched from the beginning/end: replace edges\n        nextEdges = _serverEdges;\n      }\n    } else if (_serverEdges) {\n      nextEdges = _serverEdges;\n    } else {\n      nextEdges = prevEdges;\n    } // Update edges only if they were updated, the null check is\n    // for Flow (prevEdges could be null).\n\n\n    if (nextEdges != null && nextEdges !== prevEdges) {\n      _connection.setLinkedRecords(nextEdges, EDGES);\n    } // Page info should be updated even if no new edge were returned.\n\n\n    if (clientPageInfo && serverPageInfo) {\n      if (args.after == null && args.before == null) {\n        // The connection was refetched from the beginning/end: replace\n        // page_info\n        clientPageInfo.copyFieldsFrom(serverPageInfo);\n      } else if (args.before != null || args.after == null && args.last) {\n        clientPageInfo.setValue(!!serverPageInfo.getValue(HAS_PREV_PAGE), HAS_PREV_PAGE);\n        var startCursor = serverPageInfo.getValue(START_CURSOR);\n\n        if (typeof startCursor === 'string') {\n          clientPageInfo.setValue(startCursor, START_CURSOR);\n        }\n      } else if (args.after != null || args.before == null && args.first) {\n        clientPageInfo.setValue(!!serverPageInfo.getValue(HAS_NEXT_PAGE), HAS_NEXT_PAGE);\n        var endCursor = serverPageInfo.getValue(END_CURSOR);\n\n        if (typeof endCursor === 'string') {\n          clientPageInfo.setValue(endCursor, END_CURSOR);\n        }\n      }\n    }\n  }\n}\n/**\n * @public\n *\n * Given a record and the name of the schema field for which a connection was\n * fetched, returns the linked connection record.\n *\n * Example:\n *\n * Given that data has already been fetched on some user `<id>` on the `friends`\n * field:\n *\n * ```\n * fragment FriendsFragment on User {\n *   friends(first: 10) @connection(key: \"FriendsFragment_friends\") {\n *    edges {\n *      node {\n *        id\n *        }\n *      }\n *   }\n * }\n * ```\n *\n * The `friends` connection record can be accessed with:\n *\n * ```\n * store => {\n *   const user = store.get('<id>');\n *   const friends = ConnectionHandler.getConnection(user, 'FriendsFragment_friends');\n *   // Access fields on the connection:\n *   const edges = friends.getLinkedRecords('edges');\n * }\n * ```\n *\n * TODO: t15733312\n * Currently we haven't run into this case yet, but we need to add a `getConnections`\n * that returns an array of the connections under the same `key` regardless of the variables.\n */\n\n\nfunction getConnection(record, key, filters) {\n  var handleKey = getRelayHandleKey(CONNECTION, key, null);\n  return record.getLinkedRecord(handleKey, filters);\n}\n/**\n * @public\n *\n * Inserts an edge after the given cursor, or at the end of the list if no\n * cursor is provided.\n *\n * Example:\n *\n * Given that data has already been fetched on some user `<id>` on the `friends`\n * field:\n *\n * ```\n * fragment FriendsFragment on User {\n *   friends(first: 10) @connection(key: \"FriendsFragment_friends\") {\n *    edges {\n *      node {\n *        id\n *        }\n *      }\n *   }\n * }\n * ```\n *\n * An edge can be appended with:\n *\n * ```\n * store => {\n *   const user = store.get('<id>');\n *   const friends = ConnectionHandler.getConnection(user, 'FriendsFragment_friends');\n *   const edge = store.create('<edge-id>', 'FriendsEdge');\n *   ConnectionHandler.insertEdgeAfter(friends, edge);\n * }\n * ```\n */\n\n\nfunction insertEdgeAfter(record, newEdge, cursor) {\n  var _ConnectionInterface$2 = ConnectionInterface.get(),\n      CURSOR = _ConnectionInterface$2.CURSOR,\n      EDGES = _ConnectionInterface$2.EDGES;\n\n  var edges = record.getLinkedRecords(EDGES);\n\n  if (!edges) {\n    record.setLinkedRecords([newEdge], EDGES);\n    return;\n  }\n\n  var nextEdges;\n\n  if (cursor == null) {\n    nextEdges = edges.concat(newEdge);\n  } else {\n    nextEdges = [];\n    var foundCursor = false;\n\n    for (var ii = 0; ii < edges.length; ii++) {\n      var edge = edges[ii];\n      nextEdges.push(edge);\n\n      if (edge == null) {\n        continue;\n      }\n\n      var edgeCursor = edge.getValue(CURSOR);\n\n      if (cursor === edgeCursor) {\n        nextEdges.push(newEdge);\n        foundCursor = true;\n      }\n    }\n\n    if (!foundCursor) {\n      nextEdges.push(newEdge);\n    }\n  }\n\n  record.setLinkedRecords(nextEdges, EDGES);\n}\n/**\n * @public\n *\n * Creates an edge for a connection record, given a node and edge type.\n */\n\n\nfunction createEdge(store, record, node, edgeType) {\n  var _ConnectionInterface$3 = ConnectionInterface.get(),\n      NODE = _ConnectionInterface$3.NODE; // An index-based client ID could easily conflict (unless it was\n  // auto-incrementing, but there is nowhere to the store the id)\n  // Instead, construct a client ID based on the connection ID and node ID,\n  // which will only conflict if the same node is added to the same connection\n  // twice. This is acceptable since the `insertEdge*` functions ignore\n  // duplicates.\n\n\n  var edgeID = generateClientID(record.getDataID(), node.getDataID());\n  var edge = store.get(edgeID);\n\n  if (!edge) {\n    edge = store.create(edgeID, edgeType);\n  }\n\n  edge.setLinkedRecord(node, NODE);\n  return edge;\n}\n/**\n * @public\n *\n * Inserts an edge before the given cursor, or at the beginning of the list if\n * no cursor is provided.\n *\n * Example:\n *\n * Given that data has already been fetched on some user `<id>` on the `friends`\n * field:\n *\n * ```\n * fragment FriendsFragment on User {\n *   friends(first: 10) @connection(key: \"FriendsFragment_friends\") {\n *    edges {\n *      node {\n *        id\n *        }\n *      }\n *   }\n * }\n * ```\n *\n * An edge can be prepended with:\n *\n * ```\n * store => {\n *   const user = store.get('<id>');\n *   const friends = ConnectionHandler.getConnection(user, 'FriendsFragment_friends');\n *   const edge = store.create('<edge-id>', 'FriendsEdge');\n *   ConnectionHandler.insertEdgeBefore(friends, edge);\n * }\n * ```\n */\n\n\nfunction insertEdgeBefore(record, newEdge, cursor) {\n  var _ConnectionInterface$4 = ConnectionInterface.get(),\n      CURSOR = _ConnectionInterface$4.CURSOR,\n      EDGES = _ConnectionInterface$4.EDGES;\n\n  var edges = record.getLinkedRecords(EDGES);\n\n  if (!edges) {\n    record.setLinkedRecords([newEdge], EDGES);\n    return;\n  }\n\n  var nextEdges;\n\n  if (cursor == null) {\n    nextEdges = [newEdge].concat(edges);\n  } else {\n    nextEdges = [];\n    var foundCursor = false;\n\n    for (var ii = 0; ii < edges.length; ii++) {\n      var edge = edges[ii];\n\n      if (edge != null) {\n        var edgeCursor = edge.getValue(CURSOR);\n\n        if (cursor === edgeCursor) {\n          nextEdges.push(newEdge);\n          foundCursor = true;\n        }\n      }\n\n      nextEdges.push(edge);\n    }\n\n    if (!foundCursor) {\n      nextEdges.unshift(newEdge);\n    }\n  }\n\n  record.setLinkedRecords(nextEdges, EDGES);\n}\n/**\n * @public\n *\n * Remove any edges whose `node.id` matches the given id.\n */\n\n\nfunction deleteNode(record, nodeID) {\n  var _ConnectionInterface$5 = ConnectionInterface.get(),\n      EDGES = _ConnectionInterface$5.EDGES,\n      NODE = _ConnectionInterface$5.NODE;\n\n  var edges = record.getLinkedRecords(EDGES);\n\n  if (!edges) {\n    return;\n  }\n\n  var nextEdges;\n\n  for (var ii = 0; ii < edges.length; ii++) {\n    var edge = edges[ii];\n    var node = edge && edge.getLinkedRecord(NODE);\n\n    if (node != null && node.getDataID() === nodeID) {\n      if (nextEdges === undefined) {\n        nextEdges = edges.slice(0, ii);\n      }\n    } else if (nextEdges !== undefined) {\n      nextEdges.push(edge);\n    }\n  }\n\n  if (nextEdges !== undefined) {\n    record.setLinkedRecords(nextEdges, EDGES);\n  }\n}\n/**\n * @internal\n *\n * Creates a copy of an edge with a unique ID based on per-connection-instance\n * incrementing edge index. This is necessary to avoid collisions between edges,\n * which can occur because (edge) client IDs are assigned deterministically\n * based on the path from the nearest node with an id.\n *\n * Example: if the first N edges of the same connection are refetched, the edges\n * from the second fetch will be assigned the same IDs as the first fetch, even\n * though the nodes they point to may be different (or the same and in different\n * order).\n */\n\n\nfunction buildConnectionEdge(store, connection, edge) {\n  if (edge == null) {\n    return edge;\n  }\n\n  var _ConnectionInterface$6 = ConnectionInterface.get(),\n      EDGES = _ConnectionInterface$6.EDGES;\n\n  var edgeIndex = connection.getValue(NEXT_EDGE_INDEX);\n  !(typeof edgeIndex === 'number') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ConnectionHandler: Expected %s to be a number, got `%s`.', NEXT_EDGE_INDEX, edgeIndex) : invariant(false) : void 0;\n  var edgeID = generateClientID(connection.getDataID(), EDGES, edgeIndex);\n  var connectionEdge = store.create(edgeID, edge.getType());\n  connectionEdge.copyFieldsFrom(edge);\n  connection.setValue(edgeIndex + 1, NEXT_EDGE_INDEX);\n  return connectionEdge;\n}\n/**\n * @internal\n *\n * Adds the source edges to the target edges, skipping edges with\n * duplicate node ids.\n */\n\n\nfunction mergeEdges(sourceEdges, targetEdges, nodeIDs) {\n  var _ConnectionInterface$7 = ConnectionInterface.get(),\n      NODE = _ConnectionInterface$7.NODE;\n\n  for (var ii = 0; ii < sourceEdges.length; ii++) {\n    var edge = sourceEdges[ii];\n\n    if (!edge) {\n      continue;\n    }\n\n    var node = edge.getLinkedRecord(NODE);\n    var nodeID = node && node.getDataID();\n\n    if (nodeID) {\n      if (nodeIDs.has(nodeID)) {\n        continue;\n      }\n\n      nodeIDs.add(nodeID);\n    }\n\n    targetEdges.push(edge);\n  }\n}\n\nmodule.exports = {\n  buildConnectionEdge: buildConnectionEdge,\n  createEdge: createEdge,\n  deleteNode: deleteNode,\n  getConnection: getConnection,\n  insertEdgeAfter: insertEdgeAfter,\n  insertEdgeBefore: insertEdgeBefore,\n  update: update\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar CONNECTION_CALLS = {\n  after: true,\n  before: true,\n  find: true,\n  first: true,\n  last: true,\n  surrounds: true\n};\nvar config = {\n  CLIENT_MUTATION_ID: 'clientMutationId',\n  CURSOR: 'cursor',\n  EDGES: 'edges',\n  END_CURSOR: 'endCursor',\n  HAS_NEXT_PAGE: 'hasNextPage',\n  HAS_PREV_PAGE: 'hasPreviousPage',\n  NODE: 'node',\n  PAGE_INFO_TYPE: 'PageInfo',\n  PAGE_INFO: 'pageInfo',\n  START_CURSOR: 'startCursor'\n};\n/**\n * @internal\n *\n * Defines logic relevant to the informal \"Connection\" GraphQL interface.\n */\n\nvar ConnectionInterface = {\n  inject: function inject(newConfig) {\n    config = newConfig;\n  },\n  get: function get() {\n    return config;\n  },\n\n  /**\n   * Checks whether a call exists strictly to encode which parts of a connection\n   * to fetch. Fields that only differ by connection call values should have the\n   * same identity.\n   */\n  isConnectionCall: function isConnectionCall(call) {\n    return CONNECTION_CALLS.hasOwnProperty(call.name);\n  }\n};\nmodule.exports = ConnectionInterface;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\n\nvar ConnectionHandler = require('./ConnectionHandler');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar warning = require(\"fbjs/lib/warning\");\n\nvar DeleteRecordHandler = {\n  update: function update(store, payload) {\n    var record = store.get(payload.dataID);\n\n    if (record != null) {\n      var idOrIds = record.getValue(payload.fieldKey);\n\n      if (typeof idOrIds === 'string') {\n        store[\"delete\"](idOrIds);\n      } else if (Array.isArray(idOrIds)) {\n        idOrIds.forEach(function (id) {\n          if (typeof id === 'string') {\n            store[\"delete\"](id);\n          }\n        });\n      }\n    }\n  }\n};\nvar DeleteEdgeHandler = {\n  update: function update(store, payload) {\n    var record = store.get(payload.dataID);\n\n    if (record == null) {\n      return;\n    }\n\n    var connections = payload.handleArgs.connections;\n    !(connections != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'MutationHandlers: Expected connection IDs to be specified.') : invariant(false) : void 0;\n    var idOrIds = record.getValue(payload.fieldKey);\n    var idList = Array.isArray(idOrIds) ? idOrIds : [idOrIds];\n    idList.forEach(function (id) {\n      if (typeof id === 'string') {\n        var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(connections),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var connectionID = _step.value;\n            var connection = store.get(connectionID);\n\n            if (connection == null) {\n              process.env.NODE_ENV !== \"production\" ? warning(false, \"[Relay][Mutation] The connection with id '\".concat(connectionID, \"' doesn't exist.\")) : void 0;\n              continue;\n            }\n\n            ConnectionHandler.deleteNode(connection, id);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n    });\n  }\n};\nvar AppendEdgeHandler = {\n  update: edgeUpdater(ConnectionHandler.insertEdgeAfter)\n};\nvar PrependEdgeHandler = {\n  update: edgeUpdater(ConnectionHandler.insertEdgeBefore)\n};\nvar AppendNodeHandler = {\n  update: nodeUpdater(ConnectionHandler.insertEdgeAfter)\n};\nvar PrependNodeHandler = {\n  update: nodeUpdater(ConnectionHandler.insertEdgeBefore)\n};\n\nfunction edgeUpdater(insertFn) {\n  return function (store, payload) {\n    var _serverEdges;\n\n    var record = store.get(payload.dataID);\n\n    if (record == null) {\n      return;\n    }\n\n    var connections = payload.handleArgs.connections;\n    !(connections != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'MutationHandlers: Expected connection IDs to be specified.') : invariant(false) : void 0;\n    var singleServerEdge, serverEdges;\n\n    try {\n      singleServerEdge = record.getLinkedRecord(payload.fieldKey, payload.args);\n    } catch (_unused) {}\n\n    if (!singleServerEdge) {\n      try {\n        serverEdges = record.getLinkedRecords(payload.fieldKey, payload.args);\n      } catch (_unused2) {}\n    }\n\n    if (singleServerEdge == null && serverEdges == null) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, 'MutationHandlers: Expected the server edge to be non-null.') : void 0;\n      return;\n    }\n\n    var serverEdgeList = (_serverEdges = serverEdges) !== null && _serverEdges !== void 0 ? _serverEdges : [singleServerEdge];\n\n    var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(serverEdgeList),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var serverEdge = _step2.value;\n\n        if (serverEdge == null) {\n          continue;\n        }\n\n        var _iterator3 = (0, _createForOfIteratorHelper2[\"default\"])(connections),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var connectionID = _step3.value;\n            var connection = store.get(connectionID);\n\n            if (connection == null) {\n              process.env.NODE_ENV !== \"production\" ? warning(false, \"[Relay][Mutation] The connection with id '\".concat(connectionID, \"' doesn't exist.\")) : void 0;\n              continue;\n            }\n\n            var clientEdge = ConnectionHandler.buildConnectionEdge(store, connection, serverEdge);\n            !(clientEdge != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'MutationHandlers: Failed to build the edge.') : invariant(false) : void 0;\n            insertFn(connection, clientEdge);\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  };\n}\n\nfunction nodeUpdater(insertFn) {\n  return function (store, payload) {\n    var _serverNodes;\n\n    var record = store.get(payload.dataID);\n\n    if (record == null) {\n      return;\n    }\n\n    var _payload$handleArgs = payload.handleArgs,\n        connections = _payload$handleArgs.connections,\n        edgeTypeName = _payload$handleArgs.edgeTypeName;\n    !(connections != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'MutationHandlers: Expected connection IDs to be specified.') : invariant(false) : void 0;\n    !(edgeTypeName != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'MutationHandlers: Expected edge typename to be specified.') : invariant(false) : void 0;\n    var singleServerNode;\n    var serverNodes;\n\n    try {\n      singleServerNode = record.getLinkedRecord(payload.fieldKey, payload.args);\n    } catch (_unused3) {}\n\n    if (!singleServerNode) {\n      try {\n        serverNodes = record.getLinkedRecords(payload.fieldKey, payload.args);\n      } catch (_unused4) {}\n    }\n\n    if (singleServerNode == null && serverNodes == null) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, 'MutationHandlers: Expected target node to exist.') : void 0;\n      return;\n    }\n\n    var serverNodeList = (_serverNodes = serverNodes) !== null && _serverNodes !== void 0 ? _serverNodes : [singleServerNode];\n\n    var _iterator4 = (0, _createForOfIteratorHelper2[\"default\"])(serverNodeList),\n        _step4;\n\n    try {\n      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n        var serverNode = _step4.value;\n\n        if (serverNode == null) {\n          continue;\n        }\n\n        var _iterator5 = (0, _createForOfIteratorHelper2[\"default\"])(connections),\n            _step5;\n\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            var connectionID = _step5.value;\n            var connection = store.get(connectionID);\n\n            if (connection == null) {\n              process.env.NODE_ENV !== \"production\" ? warning(false, \"[Relay][Mutation] The connection with id '\".concat(connectionID, \"' doesn't exist.\")) : void 0;\n              continue;\n            }\n\n            var clientEdge = ConnectionHandler.createEdge(store, connection, serverNode, edgeTypeName);\n            !(clientEdge != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'MutationHandlers: Failed to build the edge.') : invariant(false) : void 0;\n            insertFn(connection, clientEdge);\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n      }\n    } catch (err) {\n      _iterator4.e(err);\n    } finally {\n      _iterator4.f();\n    }\n  };\n}\n\nmodule.exports = {\n  AppendEdgeHandler: AppendEdgeHandler,\n  DeleteRecordHandler: DeleteRecordHandler,\n  PrependEdgeHandler: PrependEdgeHandler,\n  AppendNodeHandler: AppendNodeHandler,\n  PrependNodeHandler: PrependNodeHandler,\n  DeleteEdgeHandler: DeleteEdgeHandler\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar ConnectionHandler = require('./handlers/connection/ConnectionHandler');\n\nvar ConnectionInterface = require('./handlers/connection/ConnectionInterface');\n\nvar GraphQLTag = require('./query/GraphQLTag');\n\nvar MutationHandlers = require('./handlers/connection/MutationHandlers');\n\nvar PreloadableQueryRegistry = require('./query/PreloadableQueryRegistry');\n\nvar RelayConcreteNode = require('./util/RelayConcreteNode');\n\nvar RelayConcreteVariables = require('./store/RelayConcreteVariables');\n\nvar RelayDeclarativeMutationConfig = require('./mutations/RelayDeclarativeMutationConfig');\n\nvar RelayDefaultHandleKey = require('./util/RelayDefaultHandleKey');\n\nvar RelayDefaultHandlerProvider = require('./handlers/RelayDefaultHandlerProvider');\n\nvar RelayError = require('./util/RelayError');\n\nvar RelayFeatureFlags = require('./util/RelayFeatureFlags');\n\nvar RelayModernEnvironment = require('./store/RelayModernEnvironment');\n\nvar RelayModernOperationDescriptor = require('./store/RelayModernOperationDescriptor');\n\nvar RelayModernRecord = require('./store/RelayModernRecord');\n\nvar RelayModernSelector = require('./store/RelayModernSelector');\n\nvar RelayModernStore = require('./store/RelayModernStore');\n\nvar RelayNetwork = require('./network/RelayNetwork');\n\nvar RelayObservable = require('./network/RelayObservable');\n\nvar RelayOperationTracker = require('./store/RelayOperationTracker');\n\nvar RelayProfiler = require('./util/RelayProfiler');\n\nvar RelayQueryResponseCache = require('./network/RelayQueryResponseCache');\n\nvar RelayRecordSource = require('./store/RelayRecordSource');\n\nvar RelayReplaySubject = require('./util/RelayReplaySubject');\n\nvar RelayStoreUtils = require('./store/RelayStoreUtils');\n\nvar ViewerPattern = require('./store/ViewerPattern');\n\nvar applyOptimisticMutation = require('./mutations/applyOptimisticMutation');\n\nvar commitLocalUpdate = require('./mutations/commitLocalUpdate');\n\nvar commitMutation = require('./mutations/commitMutation');\n\nvar createFragmentSpecResolver = require('./store/createFragmentSpecResolver');\n\nvar createPayloadFor3DField = require('./util/createPayloadFor3DField');\n\nvar createRelayContext = require('./store/createRelayContext');\n\nvar deepFreeze = require('./util/deepFreeze');\n\nvar fetchQuery = require('./query/fetchQuery');\n\nvar fetchQueryInternal = require('./query/fetchQueryInternal');\n\nvar getFragmentIdentifier = require('./util/getFragmentIdentifier');\n\nvar getRelayHandleKey = require('./util/getRelayHandleKey');\n\nvar getRequestIdentifier = require('./util/getRequestIdentifier');\n\nvar isPromise = require('./util/isPromise');\n\nvar isRelayModernEnvironment = require('./store/isRelayModernEnvironment');\n\nvar isScalarAndEqual = require('./util/isScalarAndEqual');\n\nvar readInlineData = require('./store/readInlineData');\n\nvar recycleNodesInto = require('./util/recycleNodesInto');\n\nvar reportMissingRequiredFields = require('./util/reportMissingRequiredFields');\n\nvar requestSubscription = require('./subscription/requestSubscription');\n\nvar stableCopy = require('./util/stableCopy');\n\nvar _require = require('./store/ClientID'),\n    generateClientID = _require.generateClientID,\n    generateUniqueClientID = _require.generateUniqueClientID,\n    isClientID = _require.isClientID;\n\n// As early as possible, check for the existence of the JavaScript globals which\n// Relay Runtime relies upon, and produce a clear message if they do not exist.\nif (process.env.NODE_ENV !== \"production\") {\n  var mapStr = typeof Map !== 'function' ? 'Map' : null;\n  var setStr = typeof Set !== 'function' ? 'Set' : null;\n  var promiseStr = typeof Promise !== 'function' ? 'Promise' : null;\n  var objStr = typeof Object.assign !== 'function' ? 'Object.assign' : null;\n\n  if (mapStr || setStr || promiseStr || objStr) {\n    throw new Error(\"relay-runtime requires \".concat([mapStr, setStr, promiseStr, objStr].filter(Boolean).join(', and '), \" to exist. \") + 'Use a polyfill to provide these for older browsers.');\n  }\n}\n/**\n * The public interface to Relay Runtime.\n */\n\n\nmodule.exports = {\n  // Core API\n  Environment: RelayModernEnvironment,\n  Network: RelayNetwork,\n  Observable: RelayObservable,\n  QueryResponseCache: RelayQueryResponseCache,\n  RecordSource: RelayRecordSource,\n  Record: RelayModernRecord,\n  ReplaySubject: RelayReplaySubject,\n  Store: RelayModernStore,\n  areEqualSelectors: RelayModernSelector.areEqualSelectors,\n  createFragmentSpecResolver: createFragmentSpecResolver,\n  createNormalizationSelector: RelayModernSelector.createNormalizationSelector,\n  createOperationDescriptor: RelayModernOperationDescriptor.createOperationDescriptor,\n  createReaderSelector: RelayModernSelector.createReaderSelector,\n  createRequestDescriptor: RelayModernOperationDescriptor.createRequestDescriptor,\n  getDataIDsFromFragment: RelayModernSelector.getDataIDsFromFragment,\n  getDataIDsFromObject: RelayModernSelector.getDataIDsFromObject,\n  getNode: GraphQLTag.getNode,\n  getFragment: GraphQLTag.getFragment,\n  getInlineDataFragment: GraphQLTag.getInlineDataFragment,\n  getModuleComponentKey: RelayStoreUtils.getModuleComponentKey,\n  getModuleOperationKey: RelayStoreUtils.getModuleOperationKey,\n  getPaginationFragment: GraphQLTag.getPaginationFragment,\n  getPluralSelector: RelayModernSelector.getPluralSelector,\n  getRefetchableFragment: GraphQLTag.getRefetchableFragment,\n  getRequest: GraphQLTag.getRequest,\n  getRequestIdentifier: getRequestIdentifier,\n  getSelector: RelayModernSelector.getSelector,\n  getSelectorsFromObject: RelayModernSelector.getSelectorsFromObject,\n  getSingularSelector: RelayModernSelector.getSingularSelector,\n  getStorageKey: RelayStoreUtils.getStorageKey,\n  getVariablesFromFragment: RelayModernSelector.getVariablesFromFragment,\n  getVariablesFromObject: RelayModernSelector.getVariablesFromObject,\n  getVariablesFromPluralFragment: RelayModernSelector.getVariablesFromPluralFragment,\n  getVariablesFromSingularFragment: RelayModernSelector.getVariablesFromSingularFragment,\n  reportMissingRequiredFields: reportMissingRequiredFields,\n  graphql: GraphQLTag.graphql,\n  isFragment: GraphQLTag.isFragment,\n  isInlineDataFragment: GraphQLTag.isInlineDataFragment,\n  isRequest: GraphQLTag.isRequest,\n  readInlineData: readInlineData,\n  // Declarative mutation API\n  MutationTypes: RelayDeclarativeMutationConfig.MutationTypes,\n  RangeOperations: RelayDeclarativeMutationConfig.RangeOperations,\n  // Extensions\n  DefaultHandlerProvider: RelayDefaultHandlerProvider,\n  ConnectionHandler: ConnectionHandler,\n  MutationHandlers: MutationHandlers,\n  VIEWER_ID: ViewerPattern.VIEWER_ID,\n  VIEWER_TYPE: ViewerPattern.VIEWER_TYPE,\n  // Helpers (can be implemented via the above API)\n  applyOptimisticMutation: applyOptimisticMutation,\n  commitLocalUpdate: commitLocalUpdate,\n  commitMutation: commitMutation,\n  fetchQuery: fetchQuery,\n  isRelayModernEnvironment: isRelayModernEnvironment,\n  requestSubscription: requestSubscription,\n  // Configuration interface for legacy or special uses\n  ConnectionInterface: ConnectionInterface,\n  // Utilities\n  PreloadableQueryRegistry: PreloadableQueryRegistry,\n  RelayProfiler: RelayProfiler,\n  createPayloadFor3DField: createPayloadFor3DField,\n  // INTERNAL-ONLY: These exports might be removed at any point.\n  RelayConcreteNode: RelayConcreteNode,\n  RelayError: RelayError,\n  RelayFeatureFlags: RelayFeatureFlags,\n  DEFAULT_HANDLE_KEY: RelayDefaultHandleKey.DEFAULT_HANDLE_KEY,\n  FRAGMENTS_KEY: RelayStoreUtils.FRAGMENTS_KEY,\n  FRAGMENT_OWNER_KEY: RelayStoreUtils.FRAGMENT_OWNER_KEY,\n  ID_KEY: RelayStoreUtils.ID_KEY,\n  REF_KEY: RelayStoreUtils.REF_KEY,\n  REFS_KEY: RelayStoreUtils.REFS_KEY,\n  ROOT_ID: RelayStoreUtils.ROOT_ID,\n  ROOT_TYPE: RelayStoreUtils.ROOT_TYPE,\n  TYPENAME_KEY: RelayStoreUtils.TYPENAME_KEY,\n  deepFreeze: deepFreeze,\n  generateClientID: generateClientID,\n  generateUniqueClientID: generateUniqueClientID,\n  getRelayHandleKey: getRelayHandleKey,\n  isClientID: isClientID,\n  isPromise: isPromise,\n  isScalarAndEqual: isScalarAndEqual,\n  recycleNodesInto: recycleNodesInto,\n  stableCopy: stableCopy,\n  getFragmentIdentifier: getFragmentIdentifier,\n  __internal: {\n    OperationTracker: RelayOperationTracker,\n    createRelayContext: createRelayContext,\n    getOperationVariables: RelayConcreteVariables.getOperationVariables,\n    fetchQuery: fetchQueryInternal.fetchQuery,\n    fetchQueryDeduped: fetchQueryInternal.fetchQueryDeduped,\n    getPromiseForActiveRequest: fetchQueryInternal.getPromiseForActiveRequest,\n    getObservableForActiveRequest: fetchQueryInternal.getObservableForActiveRequest\n  }\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\n\nvar ConnectionHandler = require('../handlers/connection/ConnectionHandler');\n\nvar warning = require(\"fbjs/lib/warning\");\n\nvar MutationTypes = Object.freeze({\n  RANGE_ADD: 'RANGE_ADD',\n  RANGE_DELETE: 'RANGE_DELETE',\n  NODE_DELETE: 'NODE_DELETE'\n});\nvar RangeOperations = Object.freeze({\n  APPEND: 'append',\n  PREPEND: 'prepend'\n});\n\nfunction convert(configs, request, optimisticUpdater, updater) {\n  var configOptimisticUpdates = optimisticUpdater ? [optimisticUpdater] : [];\n  var configUpdates = updater ? [updater] : [];\n  configs.forEach(function (config) {\n    switch (config.type) {\n      case 'NODE_DELETE':\n        var nodeDeleteResult = nodeDelete(config, request);\n\n        if (nodeDeleteResult) {\n          configOptimisticUpdates.push(nodeDeleteResult);\n          configUpdates.push(nodeDeleteResult);\n        }\n\n        break;\n\n      case 'RANGE_ADD':\n        var rangeAddResult = rangeAdd(config, request);\n\n        if (rangeAddResult) {\n          configOptimisticUpdates.push(rangeAddResult);\n          configUpdates.push(rangeAddResult);\n        }\n\n        break;\n\n      case 'RANGE_DELETE':\n        var rangeDeleteResult = rangeDelete(config, request);\n\n        if (rangeDeleteResult) {\n          configOptimisticUpdates.push(rangeDeleteResult);\n          configUpdates.push(rangeDeleteResult);\n        }\n\n        break;\n    }\n  });\n  return {\n    optimisticUpdater: function optimisticUpdater(store, data) {\n      configOptimisticUpdates.forEach(function (eachOptimisticUpdater) {\n        eachOptimisticUpdater(store, data);\n      });\n    },\n    updater: function updater(store, data) {\n      configUpdates.forEach(function (eachUpdater) {\n        eachUpdater(store, data);\n      });\n    }\n  };\n}\n\nfunction nodeDelete(config, request) {\n  var deletedIDFieldName = config.deletedIDFieldName;\n  var rootField = getRootField(request);\n\n  if (!rootField) {\n    return null;\n  }\n\n  return function (store, data) {\n    var payload = store.getRootField(rootField);\n\n    if (!payload) {\n      return;\n    }\n\n    var deleteID = payload.getValue(deletedIDFieldName);\n    var deleteIDs = Array.isArray(deleteID) ? deleteID : [deleteID];\n    deleteIDs.forEach(function (id) {\n      if (id && typeof id === 'string') {\n        store[\"delete\"](id);\n      }\n    });\n  };\n}\n\nfunction rangeAdd(config, request) {\n  var parentID = config.parentID,\n      connectionInfo = config.connectionInfo,\n      edgeName = config.edgeName;\n\n  if (!parentID) {\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayDeclarativeMutationConfig: For mutation config RANGE_ADD ' + 'to work you must include a parentID') : void 0;\n    return null;\n  }\n\n  var rootField = getRootField(request);\n\n  if (!connectionInfo || !rootField) {\n    return null;\n  }\n\n  return function (store, data) {\n    var parent = store.get(parentID);\n\n    if (!parent) {\n      return;\n    }\n\n    var payload = store.getRootField(rootField);\n\n    if (!payload) {\n      return;\n    }\n\n    var serverEdge = payload.getLinkedRecord(edgeName);\n\n    var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(connectionInfo),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var info = _step.value;\n\n        if (!serverEdge) {\n          continue;\n        }\n\n        var connection = ConnectionHandler.getConnection(parent, info.key, info.filters);\n\n        if (!connection) {\n          continue;\n        }\n\n        var clientEdge = ConnectionHandler.buildConnectionEdge(store, connection, serverEdge);\n\n        if (!clientEdge) {\n          continue;\n        }\n\n        switch (info.rangeBehavior) {\n          case 'append':\n            ConnectionHandler.insertEdgeAfter(connection, clientEdge);\n            break;\n\n          case 'prepend':\n            ConnectionHandler.insertEdgeBefore(connection, clientEdge);\n            break;\n\n          default:\n            process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayDeclarativeMutationConfig: RANGE_ADD range behavior `%s` ' + 'will not work as expected in RelayModern, supported range ' + \"behaviors are 'append', 'prepend'.\", info.rangeBehavior) : void 0;\n            break;\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  };\n}\n\nfunction rangeDelete(config, request) {\n  var parentID = config.parentID,\n      connectionKeys = config.connectionKeys,\n      pathToConnection = config.pathToConnection,\n      deletedIDFieldName = config.deletedIDFieldName;\n\n  if (!parentID) {\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayDeclarativeMutationConfig: For mutation config RANGE_DELETE ' + 'to work you must include a parentID') : void 0;\n    return null;\n  }\n\n  var rootField = getRootField(request);\n\n  if (!rootField) {\n    return null;\n  }\n\n  return function (store, data) {\n    if (!data) {\n      return;\n    }\n\n    var deleteIDs = [];\n    var deletedIDField = data[rootField];\n\n    if (deletedIDField && Array.isArray(deletedIDFieldName)) {\n      var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(deletedIDFieldName),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var eachField = _step2.value;\n\n          if (deletedIDField && typeof deletedIDField === 'object') {\n            deletedIDField = deletedIDField[eachField];\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      if (Array.isArray(deletedIDField)) {\n        deletedIDField.forEach(function (idObject) {\n          if (idObject && idObject.id && typeof idObject === 'object' && typeof idObject.id === 'string') {\n            deleteIDs.push(idObject.id);\n          }\n        });\n      } else if (deletedIDField && deletedIDField.id && typeof deletedIDField.id === 'string') {\n        deleteIDs.push(deletedIDField.id);\n      }\n    } else if (deletedIDField && typeof deletedIDFieldName === 'string' && typeof deletedIDField === 'object') {\n      deletedIDField = deletedIDField[deletedIDFieldName];\n\n      if (typeof deletedIDField === 'string') {\n        deleteIDs.push(deletedIDField);\n      } else if (Array.isArray(deletedIDField)) {\n        deletedIDField.forEach(function (id) {\n          if (typeof id === 'string') {\n            deleteIDs.push(id);\n          }\n        });\n      }\n    }\n\n    deleteNode(parentID, connectionKeys, pathToConnection, store, deleteIDs);\n  };\n}\n\nfunction deleteNode(parentID, connectionKeys, pathToConnection, store, deleteIDs) {\n  process.env.NODE_ENV !== \"production\" ? warning(connectionKeys != null, 'RelayDeclarativeMutationConfig: RANGE_DELETE must provide a ' + 'connectionKeys') : void 0;\n  var parent = store.get(parentID);\n\n  if (!parent) {\n    return;\n  }\n\n  if (pathToConnection.length < 2) {\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayDeclarativeMutationConfig: RANGE_DELETE ' + 'pathToConnection must include at least parent and connection') : void 0;\n    return;\n  }\n\n  var recordProxy = parent;\n\n  for (var i = 1; i < pathToConnection.length - 1; i++) {\n    if (recordProxy) {\n      recordProxy = recordProxy.getLinkedRecord(pathToConnection[i]);\n    }\n  } // Should never enter loop except edge cases\n\n\n  if (!connectionKeys || !recordProxy) {\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayDeclarativeMutationConfig: RANGE_DELETE ' + 'pathToConnection is incorrect. Unable to find connection with ' + 'parentID: %s and path: %s', parentID, pathToConnection.toString()) : void 0;\n    return;\n  }\n\n  var _iterator3 = (0, _createForOfIteratorHelper2[\"default\"])(connectionKeys),\n      _step3;\n\n  try {\n    var _loop = function _loop() {\n      var key = _step3.value;\n      var connection = ConnectionHandler.getConnection(recordProxy, key.key, key.filters);\n\n      if (connection) {\n        deleteIDs.forEach(function (deleteID) {\n          ConnectionHandler.deleteNode(connection, deleteID);\n        });\n      }\n    };\n\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      _loop();\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n}\n\nfunction getRootField(request) {\n  if (request.fragment.selections && request.fragment.selections.length > 0 && request.fragment.selections[0].kind === 'LinkedField') {\n    return request.fragment.selections[0].name;\n  }\n\n  return null;\n}\n\nmodule.exports = {\n  MutationTypes: MutationTypes,\n  RangeOperations: RangeOperations,\n  convert: convert\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar _require = require('../store/ClientID'),\n    generateClientID = _require.generateClientID;\n\nvar _require2 = require('../store/RelayStoreUtils'),\n    getStableStorageKey = _require2.getStableStorageKey;\n\n/**\n * @internal\n *\n * A helper class for manipulating a given record from a record source via an\n * imperative/OO-style API.\n */\nvar RelayRecordProxy = /*#__PURE__*/function () {\n  function RelayRecordProxy(source, mutator, dataID) {\n    this._dataID = dataID;\n    this._mutator = mutator;\n    this._source = source;\n  }\n\n  var _proto = RelayRecordProxy.prototype;\n\n  _proto.copyFieldsFrom = function copyFieldsFrom(source) {\n    this._mutator.copyFields(source.getDataID(), this._dataID);\n  };\n\n  _proto.getDataID = function getDataID() {\n    return this._dataID;\n  };\n\n  _proto.getType = function getType() {\n    var type = this._mutator.getType(this._dataID);\n\n    !(type != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordProxy: Cannot get the type of deleted record `%s`.', this._dataID) : invariant(false) : void 0;\n    return type;\n  };\n\n  _proto.getValue = function getValue(name, args) {\n    var storageKey = getStableStorageKey(name, args);\n    return this._mutator.getValue(this._dataID, storageKey);\n  };\n\n  _proto.setValue = function setValue(value, name, args) {\n    !isValidLeafValue(value) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordProxy#setValue(): Expected a scalar or array of scalars, ' + 'got `%s`.', JSON.stringify(value)) : invariant(false) : void 0;\n    var storageKey = getStableStorageKey(name, args);\n\n    this._mutator.setValue(this._dataID, storageKey, value);\n\n    return this;\n  };\n\n  _proto.getLinkedRecord = function getLinkedRecord(name, args) {\n    var storageKey = getStableStorageKey(name, args);\n\n    var linkedID = this._mutator.getLinkedRecordID(this._dataID, storageKey);\n\n    return linkedID != null ? this._source.get(linkedID) : linkedID;\n  };\n\n  _proto.setLinkedRecord = function setLinkedRecord(record, name, args) {\n    !(record instanceof RelayRecordProxy) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordProxy#setLinkedRecord(): Expected a record, got `%s`.', record) : invariant(false) : void 0;\n    var storageKey = getStableStorageKey(name, args);\n    var linkedID = record.getDataID();\n\n    this._mutator.setLinkedRecordID(this._dataID, storageKey, linkedID);\n\n    return this;\n  };\n\n  _proto.getOrCreateLinkedRecord = function getOrCreateLinkedRecord(name, typeName, args) {\n    var linkedRecord = this.getLinkedRecord(name, args);\n\n    if (!linkedRecord) {\n      var _this$_source$get;\n\n      var storageKey = getStableStorageKey(name, args);\n      var clientID = generateClientID(this.getDataID(), storageKey); // NOTE: it's possible that a client record for this field exists\n      // but the field itself was unset.\n\n      linkedRecord = (_this$_source$get = this._source.get(clientID)) !== null && _this$_source$get !== void 0 ? _this$_source$get : this._source.create(clientID, typeName);\n      this.setLinkedRecord(linkedRecord, name, args);\n    }\n\n    return linkedRecord;\n  };\n\n  _proto.getLinkedRecords = function getLinkedRecords(name, args) {\n    var _this = this;\n\n    var storageKey = getStableStorageKey(name, args);\n\n    var linkedIDs = this._mutator.getLinkedRecordIDs(this._dataID, storageKey);\n\n    if (linkedIDs == null) {\n      return linkedIDs;\n    }\n\n    return linkedIDs.map(function (linkedID) {\n      return linkedID != null ? _this._source.get(linkedID) : linkedID;\n    });\n  };\n\n  _proto.setLinkedRecords = function setLinkedRecords(records, name, args) {\n    !Array.isArray(records) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordProxy#setLinkedRecords(): Expected records to be an array, got `%s`.', records) : invariant(false) : void 0;\n    var storageKey = getStableStorageKey(name, args);\n    var linkedIDs = records.map(function (record) {\n      return record && record.getDataID();\n    });\n\n    this._mutator.setLinkedRecordIDs(this._dataID, storageKey, linkedIDs);\n\n    return this;\n  };\n\n  _proto.invalidateRecord = function invalidateRecord() {\n    this._source.markIDForInvalidation(this._dataID);\n  };\n\n  return RelayRecordProxy;\n}();\n\nfunction isValidLeafValue(value) {\n  return value == null || typeof value !== 'object' || Array.isArray(value) && value.every(isValidLeafValue);\n}\n\nmodule.exports = RelayRecordProxy;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar RelayModernRecord = require('../store/RelayModernRecord');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar _require = require('../store/RelayRecordState'),\n    EXISTENT = _require.EXISTENT;\n\n/**\n * @internal\n *\n * Wrapper API that is an amalgam of the `RelayModernRecord` API and\n * `MutableRecordSource` interface, implementing copy-on-write semantics for records\n * in a record source.\n *\n * Modifications are applied to fresh copies of records:\n * - Records in `base` are never modified.\n * - Modifications cause a fresh version of a record to be created in `sink`.\n *   These sink records contain only modified fields.\n */\nvar RelayRecordSourceMutator = /*#__PURE__*/function () {\n  function RelayRecordSourceMutator(base, sink) {\n    this.__sources = [sink, base];\n    this._base = base;\n    this._sink = sink;\n  }\n  /**\n   * **UNSTABLE**\n   * This method is likely to be removed in an upcoming release\n   * and should not be relied upon.\n   * TODO T41593196: Remove unstable_getRawRecordWithChanges\n   */\n\n\n  var _proto = RelayRecordSourceMutator.prototype;\n\n  _proto.unstable_getRawRecordWithChanges = function unstable_getRawRecordWithChanges(dataID) {\n    var baseRecord = this._base.get(dataID);\n\n    var sinkRecord = this._sink.get(dataID);\n\n    if (sinkRecord === undefined) {\n      if (baseRecord == null) {\n        return baseRecord;\n      }\n\n      var nextRecord = RelayModernRecord.clone(baseRecord);\n\n      if (process.env.NODE_ENV !== \"production\") {\n        // Prevent mutation of a record from outside the store.\n        RelayModernRecord.freeze(nextRecord);\n      }\n\n      return nextRecord;\n    } else if (sinkRecord === null) {\n      return null;\n    } else if (baseRecord != null) {\n      var _nextRecord = RelayModernRecord.update(baseRecord, sinkRecord);\n\n      if (process.env.NODE_ENV !== \"production\") {\n        if (_nextRecord !== baseRecord) {\n          // Prevent mutation of a record from outside the store.\n          RelayModernRecord.freeze(_nextRecord);\n        }\n      }\n\n      return _nextRecord;\n    } else {\n      var _nextRecord2 = RelayModernRecord.clone(sinkRecord);\n\n      if (process.env.NODE_ENV !== \"production\") {\n        // Prevent mutation of a record from outside the store.\n        RelayModernRecord.freeze(_nextRecord2);\n      }\n\n      return _nextRecord2;\n    }\n  };\n\n  _proto._getSinkRecord = function _getSinkRecord(dataID) {\n    var sinkRecord = this._sink.get(dataID);\n\n    if (!sinkRecord) {\n      var baseRecord = this._base.get(dataID);\n\n      !baseRecord ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordSourceMutator: Cannot modify non-existent record `%s`.', dataID) : invariant(false) : void 0;\n      sinkRecord = RelayModernRecord.create(dataID, RelayModernRecord.getType(baseRecord));\n\n      this._sink.set(dataID, sinkRecord);\n    }\n\n    return sinkRecord;\n  };\n\n  _proto.copyFields = function copyFields(sourceID, sinkID) {\n    var sinkSource = this._sink.get(sourceID);\n\n    var baseSource = this._base.get(sourceID);\n\n    !(sinkSource || baseSource) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordSourceMutator#copyFields(): Cannot copy fields from ' + 'non-existent record `%s`.', sourceID) : invariant(false) : void 0;\n\n    var sink = this._getSinkRecord(sinkID);\n\n    if (baseSource) {\n      RelayModernRecord.copyFields(baseSource, sink);\n    }\n\n    if (sinkSource) {\n      RelayModernRecord.copyFields(sinkSource, sink);\n    }\n  };\n\n  _proto.copyFieldsFromRecord = function copyFieldsFromRecord(record, sinkID) {\n    var sink = this._getSinkRecord(sinkID);\n\n    RelayModernRecord.copyFields(record, sink);\n  };\n\n  _proto.create = function create(dataID, typeName) {\n    !(this._base.getStatus(dataID) !== EXISTENT && this._sink.getStatus(dataID) !== EXISTENT) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordSourceMutator#create(): Cannot create a record with id ' + '`%s`, this record already exists.', dataID) : invariant(false) : void 0;\n    var record = RelayModernRecord.create(dataID, typeName);\n\n    this._sink.set(dataID, record);\n  };\n\n  _proto[\"delete\"] = function _delete(dataID) {\n    this._sink[\"delete\"](dataID);\n  };\n\n  _proto.getStatus = function getStatus(dataID) {\n    return this._sink.has(dataID) ? this._sink.getStatus(dataID) : this._base.getStatus(dataID);\n  };\n\n  _proto.getType = function getType(dataID) {\n    for (var ii = 0; ii < this.__sources.length; ii++) {\n      var record = this.__sources[ii].get(dataID);\n\n      if (record) {\n        return RelayModernRecord.getType(record);\n      } else if (record === null) {\n        return null;\n      }\n    }\n  };\n\n  _proto.getValue = function getValue(dataID, storageKey) {\n    for (var ii = 0; ii < this.__sources.length; ii++) {\n      var record = this.__sources[ii].get(dataID);\n\n      if (record) {\n        var value = RelayModernRecord.getValue(record, storageKey);\n\n        if (value !== undefined) {\n          return value;\n        }\n      } else if (record === null) {\n        return null;\n      }\n    }\n  };\n\n  _proto.setValue = function setValue(dataID, storageKey, value) {\n    var sinkRecord = this._getSinkRecord(dataID);\n\n    RelayModernRecord.setValue(sinkRecord, storageKey, value);\n  };\n\n  _proto.getLinkedRecordID = function getLinkedRecordID(dataID, storageKey) {\n    for (var ii = 0; ii < this.__sources.length; ii++) {\n      var record = this.__sources[ii].get(dataID);\n\n      if (record) {\n        var linkedID = RelayModernRecord.getLinkedRecordID(record, storageKey);\n\n        if (linkedID !== undefined) {\n          return linkedID;\n        }\n      } else if (record === null) {\n        return null;\n      }\n    }\n  };\n\n  _proto.setLinkedRecordID = function setLinkedRecordID(dataID, storageKey, linkedID) {\n    var sinkRecord = this._getSinkRecord(dataID);\n\n    RelayModernRecord.setLinkedRecordID(sinkRecord, storageKey, linkedID);\n  };\n\n  _proto.getLinkedRecordIDs = function getLinkedRecordIDs(dataID, storageKey) {\n    for (var ii = 0; ii < this.__sources.length; ii++) {\n      var record = this.__sources[ii].get(dataID);\n\n      if (record) {\n        var linkedIDs = RelayModernRecord.getLinkedRecordIDs(record, storageKey);\n\n        if (linkedIDs !== undefined) {\n          return linkedIDs;\n        }\n      } else if (record === null) {\n        return null;\n      }\n    }\n  };\n\n  _proto.setLinkedRecordIDs = function setLinkedRecordIDs(dataID, storageKey, linkedIDs) {\n    var sinkRecord = this._getSinkRecord(dataID);\n\n    RelayModernRecord.setLinkedRecordIDs(sinkRecord, storageKey, linkedIDs);\n  };\n\n  return RelayRecordSourceMutator;\n}();\n\nmodule.exports = RelayRecordSourceMutator;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar RelayModernRecord = require('../store/RelayModernRecord');\n\nvar RelayRecordProxy = require('./RelayRecordProxy');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar _require = require('../store/RelayRecordState'),\n    EXISTENT = _require.EXISTENT,\n    NONEXISTENT = _require.NONEXISTENT;\n\nvar _require2 = require('../store/RelayStoreUtils'),\n    ROOT_ID = _require2.ROOT_ID,\n    ROOT_TYPE = _require2.ROOT_TYPE;\n\n/**\n * @internal\n *\n * A helper for manipulating a `RecordSource` via an imperative/OO-style API.\n */\nvar RelayRecordSourceProxy = /*#__PURE__*/function () {\n  function RelayRecordSourceProxy(mutator, getDataID, handlerProvider) {\n    this.__mutator = mutator;\n    this._handlerProvider = handlerProvider || null;\n    this._proxies = {};\n    this._getDataID = getDataID;\n    this._invalidatedStore = false;\n    this._idsMarkedForInvalidation = new Set();\n  }\n\n  var _proto = RelayRecordSourceProxy.prototype;\n\n  _proto.publishSource = function publishSource(source, fieldPayloads) {\n    var _this = this;\n\n    var dataIDs = source.getRecordIDs();\n    dataIDs.forEach(function (dataID) {\n      var status = source.getStatus(dataID);\n\n      if (status === EXISTENT) {\n        var sourceRecord = source.get(dataID);\n\n        if (sourceRecord) {\n          if (_this.__mutator.getStatus(dataID) !== EXISTENT) {\n            _this.create(dataID, RelayModernRecord.getType(sourceRecord));\n          }\n\n          _this.__mutator.copyFieldsFromRecord(sourceRecord, dataID);\n        }\n      } else if (status === NONEXISTENT) {\n        _this[\"delete\"](dataID);\n      }\n    });\n\n    if (fieldPayloads && fieldPayloads.length) {\n      fieldPayloads.forEach(function (fieldPayload) {\n        var handler = _this._handlerProvider && _this._handlerProvider(fieldPayload.handle);\n\n        !handler ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected a handler to be provided for handle `%s`.', fieldPayload.handle) : invariant(false) : void 0;\n        handler.update(_this, fieldPayload);\n      });\n    }\n  };\n\n  _proto.create = function create(dataID, typeName) {\n    this.__mutator.create(dataID, typeName);\n\n    delete this._proxies[dataID];\n    var record = this.get(dataID); // For flow\n\n    !record ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordSourceProxy#create(): Expected the created record to exist.') : invariant(false) : void 0;\n    return record;\n  };\n\n  _proto[\"delete\"] = function _delete(dataID) {\n    !(dataID !== ROOT_ID) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordSourceProxy#delete(): Cannot delete the root record.') : invariant(false) : void 0;\n    delete this._proxies[dataID];\n\n    this.__mutator[\"delete\"](dataID);\n  };\n\n  _proto.get = function get(dataID) {\n    if (!this._proxies.hasOwnProperty(dataID)) {\n      var status = this.__mutator.getStatus(dataID);\n\n      if (status === EXISTENT) {\n        this._proxies[dataID] = new RelayRecordProxy(this, this.__mutator, dataID);\n      } else {\n        this._proxies[dataID] = status === NONEXISTENT ? null : undefined;\n      }\n    }\n\n    return this._proxies[dataID];\n  };\n\n  _proto.getRoot = function getRoot() {\n    var root = this.get(ROOT_ID);\n\n    if (!root) {\n      root = this.create(ROOT_ID, ROOT_TYPE);\n    }\n\n    !(root && root.getType() === ROOT_TYPE) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordSourceProxy#getRoot(): Expected the source to contain a ' + 'root record, %s.', root == null ? 'no root record found' : \"found a root record of type `\".concat(root.getType(), \"`\")) : invariant(false) : void 0;\n    return root;\n  };\n\n  _proto.invalidateStore = function invalidateStore() {\n    this._invalidatedStore = true;\n  };\n\n  _proto.isStoreMarkedForInvalidation = function isStoreMarkedForInvalidation() {\n    return this._invalidatedStore;\n  };\n\n  _proto.markIDForInvalidation = function markIDForInvalidation(dataID) {\n    this._idsMarkedForInvalidation.add(dataID);\n  };\n\n  _proto.getIDsMarkedForInvalidation = function getIDsMarkedForInvalidation() {\n    return this._idsMarkedForInvalidation;\n  };\n\n  return RelayRecordSourceProxy;\n}();\n\nmodule.exports = RelayRecordSourceProxy;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar _require = require('../store/RelayStoreUtils'),\n    getStorageKey = _require.getStorageKey,\n    ROOT_TYPE = _require.ROOT_TYPE;\n\n/**\n * @internal\n *\n * A subclass of RecordSourceProxy that provides convenience methods for\n * accessing the root fields of a given query/mutation. These fields accept\n * complex arguments and it can be tedious to re-construct the correct sets of\n * arguments to pass to e.g. `getRoot().getLinkedRecord()`.\n */\nvar RelayRecordSourceSelectorProxy = /*#__PURE__*/function () {\n  function RelayRecordSourceSelectorProxy(mutator, recordSource, readSelector) {\n    this.__mutator = mutator;\n    this.__recordSource = recordSource;\n    this._readSelector = readSelector;\n  }\n\n  var _proto = RelayRecordSourceSelectorProxy.prototype;\n\n  _proto.create = function create(dataID, typeName) {\n    return this.__recordSource.create(dataID, typeName);\n  };\n\n  _proto[\"delete\"] = function _delete(dataID) {\n    this.__recordSource[\"delete\"](dataID);\n  };\n\n  _proto.get = function get(dataID) {\n    return this.__recordSource.get(dataID);\n  };\n\n  _proto.getRoot = function getRoot() {\n    return this.__recordSource.getRoot();\n  };\n\n  _proto.getOperationRoot = function getOperationRoot() {\n    var root = this.__recordSource.get(this._readSelector.dataID);\n\n    if (!root) {\n      root = this.__recordSource.create(this._readSelector.dataID, ROOT_TYPE);\n    }\n\n    return root;\n  };\n\n  _proto._getRootField = function _getRootField(selector, fieldName, plural) {\n    var field = selector.node.selections.find(function (selection) {\n      return selection.kind === 'LinkedField' && selection.name === fieldName;\n    });\n    !(field && field.kind === 'LinkedField') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordSourceSelectorProxy#getRootField(): Cannot find root ' + 'field `%s`, no such field is defined on GraphQL document `%s`.', fieldName, selector.node.name) : invariant(false) : void 0;\n    !(field.plural === plural) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordSourceSelectorProxy#getRootField(): Expected root field ' + '`%s` to be %s.', fieldName, plural ? 'plural' : 'singular') : invariant(false) : void 0;\n    return field;\n  };\n\n  _proto.getRootField = function getRootField(fieldName) {\n    var field = this._getRootField(this._readSelector, fieldName, false);\n\n    var storageKey = getStorageKey(field, this._readSelector.variables);\n    return this.getOperationRoot().getLinkedRecord(storageKey);\n  };\n\n  _proto.getPluralRootField = function getPluralRootField(fieldName) {\n    var field = this._getRootField(this._readSelector, fieldName, true);\n\n    var storageKey = getStorageKey(field, this._readSelector.variables);\n    return this.getOperationRoot().getLinkedRecords(storageKey);\n  };\n\n  _proto.invalidateStore = function invalidateStore() {\n    this.__recordSource.invalidateStore();\n  };\n\n  return RelayRecordSourceSelectorProxy;\n}();\n\nmodule.exports = RelayRecordSourceSelectorProxy;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar RelayDeclarativeMutationConfig = require('./RelayDeclarativeMutationConfig');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isRelayModernEnvironment = require('../store/isRelayModernEnvironment');\n\nvar _require = require('../query/GraphQLTag'),\n    getRequest = _require.getRequest;\n\nvar _require2 = require('../store/RelayModernOperationDescriptor'),\n    createOperationDescriptor = _require2.createOperationDescriptor;\n\n/**\n * Higher-level helper function to execute a mutation against a specific\n * environment.\n */\nfunction applyOptimisticMutation(environment, config) {\n  !isRelayModernEnvironment(environment) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'commitMutation: expected `environment` to be an instance of ' + '`RelayModernEnvironment`.') : invariant(false) : void 0;\n  var mutation = getRequest(config.mutation);\n\n  if (mutation.params.operationKind !== 'mutation') {\n    throw new Error('commitMutation: Expected mutation operation');\n  }\n\n  var optimisticUpdater = config.optimisticUpdater;\n  var configs = config.configs,\n      optimisticResponse = config.optimisticResponse,\n      variables = config.variables;\n  var operation = createOperationDescriptor(mutation, variables);\n\n  if (configs) {\n    var _RelayDeclarativeMuta = RelayDeclarativeMutationConfig.convert(configs, mutation, optimisticUpdater);\n\n    optimisticUpdater = _RelayDeclarativeMuta.optimisticUpdater;\n  }\n\n  return environment.applyMutation({\n    operation: operation,\n    response: optimisticResponse,\n    updater: optimisticUpdater\n  });\n}\n\nmodule.exports = applyOptimisticMutation;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nfunction commitLocalUpdate(environment, updater) {\n  environment.commitUpdate(updater);\n}\n\nmodule.exports = commitLocalUpdate;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar RelayDeclarativeMutationConfig = require('./RelayDeclarativeMutationConfig');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isRelayModernEnvironment = require('../store/isRelayModernEnvironment');\n\nvar validateMutation = require('./validateMutation');\n\nvar warning = require(\"fbjs/lib/warning\");\n\nvar _require = require('../query/GraphQLTag'),\n    getRequest = _require.getRequest;\n\nvar _require2 = require('../store/ClientID'),\n    generateUniqueClientID = _require2.generateUniqueClientID;\n\nvar _require3 = require('../store/RelayModernOperationDescriptor'),\n    createOperationDescriptor = _require3.createOperationDescriptor;\n\n/**\n * Higher-level helper function to execute a mutation against a specific\n * environment.\n */\nfunction commitMutation(environment, config) {\n  !isRelayModernEnvironment(environment) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'commitMutation: expected `environment` to be an instance of ' + '`RelayModernEnvironment`.') : invariant(false) : void 0;\n  var mutation = getRequest(config.mutation);\n\n  if (mutation.params.operationKind !== 'mutation') {\n    throw new Error('commitMutation: Expected mutation operation');\n  }\n\n  if (mutation.kind !== 'Request') {\n    throw new Error('commitMutation: Expected mutation to be of type request');\n  }\n\n  var optimisticResponse = config.optimisticResponse,\n      optimisticUpdater = config.optimisticUpdater,\n      updater = config.updater;\n  var configs = config.configs,\n      cacheConfig = config.cacheConfig,\n      onError = config.onError,\n      onUnsubscribe = config.onUnsubscribe,\n      variables = config.variables,\n      uploadables = config.uploadables;\n  var operation = createOperationDescriptor(mutation, variables, cacheConfig, generateUniqueClientID()); // TODO: remove this check after we fix flow.\n\n  if (typeof optimisticResponse === 'function') {\n    optimisticResponse = optimisticResponse();\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'commitMutation: Expected `optimisticResponse` to be an object, ' + 'received a function.') : void 0;\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (optimisticResponse instanceof Object) {\n      validateMutation(optimisticResponse, mutation, variables);\n    }\n  }\n\n  if (configs) {\n    var _RelayDeclarativeMuta = RelayDeclarativeMutationConfig.convert(configs, mutation, optimisticUpdater, updater);\n\n    optimisticUpdater = _RelayDeclarativeMuta.optimisticUpdater;\n    updater = _RelayDeclarativeMuta.updater;\n  }\n\n  var errors = [];\n  var subscription = environment.executeMutation({\n    operation: operation,\n    optimisticResponse: optimisticResponse,\n    optimisticUpdater: optimisticUpdater,\n    updater: updater,\n    uploadables: uploadables\n  }).subscribe({\n    next: function next(payload) {\n      if (Array.isArray(payload)) {\n        payload.forEach(function (item) {\n          if (item.errors) {\n            errors.push.apply(errors, (0, _toConsumableArray2[\"default\"])(item.errors));\n          }\n        });\n      } else {\n        if (payload.errors) {\n          errors.push.apply(errors, (0, _toConsumableArray2[\"default\"])(payload.errors));\n        }\n      }\n    },\n    complete: function complete() {\n      var onCompleted = config.onCompleted;\n\n      if (onCompleted) {\n        var snapshot = environment.lookup(operation.fragment);\n        onCompleted(snapshot.data, errors.length !== 0 ? errors : null);\n      }\n    },\n    error: onError,\n    unsubscribe: onUnsubscribe\n  });\n  return {\n    dispose: subscription.unsubscribe\n  };\n}\n\nmodule.exports = commitMutation;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar warning = require(\"fbjs/lib/warning\");\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar validateMutation = function validateMutation() {};\n\nif (process.env.NODE_ENV !== \"production\") {\n  var addFieldToDiff = function addFieldToDiff(path, diff, isScalar) {\n    var deepLoc = diff;\n    path.split('.').forEach(function (key, index, arr) {\n      if (deepLoc[key] == null) {\n        deepLoc[key] = {};\n      }\n\n      if (isScalar && index === arr.length - 1) {\n        deepLoc[key] = '<scalar>';\n      }\n\n      deepLoc = deepLoc[key];\n    });\n  };\n\n  validateMutation = function validateMutation(optimisticResponse, mutation, variables) {\n    var operationName = mutation.operation.name;\n    var context = {\n      path: 'ROOT',\n      visitedPaths: new Set(),\n      variables: variables || {},\n      missingDiff: {},\n      extraDiff: {},\n      moduleImportPaths: new Set()\n    };\n    validateSelections(optimisticResponse, mutation.operation.selections, context);\n    validateOptimisticResponse(optimisticResponse, context);\n    process.env.NODE_ENV !== \"production\" ? warning(context.missingDiff.ROOT == null, 'Expected `optimisticResponse` to match structure of server response for mutation `%s`, please define fields for all of\\n%s', operationName, JSON.stringify(context.missingDiff.ROOT, null, 2)) : void 0;\n    process.env.NODE_ENV !== \"production\" ? warning(context.extraDiff.ROOT == null, 'Expected `optimisticResponse` to match structure of server response for mutation `%s`, please remove all fields of\\n%s', operationName, JSON.stringify(context.extraDiff.ROOT, null, 2)) : void 0;\n  };\n\n  var validateSelections = function validateSelections(optimisticResponse, selections, context) {\n    selections.forEach(function (selection) {\n      return validateSelection(optimisticResponse, selection, context);\n    });\n  };\n\n  var validateSelection = function validateSelection(optimisticResponse, selection, context) {\n    switch (selection.kind) {\n      case 'Condition':\n        validateSelections(optimisticResponse, selection.selections, context);\n        return;\n\n      case 'ScalarField':\n      case 'LinkedField':\n      case 'FlightField':\n        return validateField(optimisticResponse, selection, context);\n\n      case 'InlineFragment':\n        var type = selection.type;\n        var isConcreteType = selection.abstractKey == null;\n        selection.selections.forEach(function (subselection) {\n          if (isConcreteType && optimisticResponse.__typename !== type) {\n            return;\n          }\n\n          validateSelection(optimisticResponse, subselection, context);\n        });\n        return;\n\n      case 'ClientExtension':\n        selection.selections.forEach(function (subselection) {\n          validateSelection(optimisticResponse, subselection, context);\n        });\n        return;\n\n      case 'ModuleImport':\n        return validateModuleImport(context);\n\n      case 'LinkedHandle':\n      case 'ScalarHandle':\n      case 'Defer':\n      case 'Stream':\n      case 'TypeDiscriminator':\n        {\n          // TODO(T35864292) - Add missing validations for these types\n          return;\n        }\n\n      default:\n        selection;\n        return;\n    }\n  };\n\n  var validateModuleImport = function validateModuleImport(context) {\n    context.moduleImportPaths.add(context.path);\n  };\n\n  var validateField = function validateField(optimisticResponse, field, context) {\n    var fieldName = field.alias || field.name;\n    var path = \"\".concat(context.path, \".\").concat(fieldName);\n    context.visitedPaths.add(path);\n\n    switch (field.kind) {\n      case 'ScalarField':\n        if (hasOwnProperty.call(optimisticResponse, fieldName) === false) {\n          addFieldToDiff(path, context.missingDiff, true);\n        }\n\n        return;\n\n      case 'LinkedField':\n        var selections = field.selections;\n\n        if (optimisticResponse[fieldName] === null || hasOwnProperty.call(optimisticResponse, fieldName) && optimisticResponse[fieldName] === undefined) {\n          return;\n        }\n\n        if (field.plural) {\n          if (Array.isArray(optimisticResponse[fieldName])) {\n            optimisticResponse[fieldName].forEach(function (r) {\n              if (r !== null) {\n                validateSelections(r, selections, (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, context), {}, {\n                  path: path\n                }));\n              }\n            });\n            return;\n          } else {\n            addFieldToDiff(path, context.missingDiff);\n            return;\n          }\n        } else {\n          if (optimisticResponse[fieldName] instanceof Object) {\n            validateSelections(optimisticResponse[fieldName], selections, (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, context), {}, {\n              path: path\n            }));\n            return;\n          } else {\n            addFieldToDiff(path, context.missingDiff);\n            return;\n          }\n        }\n\n      case 'FlightField':\n        if (optimisticResponse[fieldName] === null || hasOwnProperty.call(optimisticResponse, fieldName) && optimisticResponse[fieldName] === undefined) {\n          return;\n        }\n\n        throw new Error('validateMutation: Flight fields are not compatible with ' + 'optimistic updates, as React does not have the component code ' + 'necessary to process new data on the client. Instead, you ' + 'should update your code to require a full refetch of the Flight ' + 'field so your UI can be updated.');\n    }\n  };\n\n  var validateOptimisticResponse = function validateOptimisticResponse(optimisticResponse, context) {\n    if (Array.isArray(optimisticResponse)) {\n      optimisticResponse.forEach(function (r) {\n        if (r instanceof Object) {\n          validateOptimisticResponse(r, context);\n        }\n      });\n      return;\n    }\n\n    Object.keys(optimisticResponse).forEach(function (key) {\n      var value = optimisticResponse[key];\n      var path = \"\".concat(context.path, \".\").concat(key); // if it's a module import path we don't have an ast so we cannot validate it\n\n      if (context.moduleImportPaths.has(path)) {\n        return;\n      }\n\n      if (!context.visitedPaths.has(path)) {\n        addFieldToDiff(path, context.extraDiff);\n        return;\n      }\n\n      if (value instanceof Object) {\n        validateOptimisticResponse(value, (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, context), {}, {\n          path: path\n        }));\n      }\n    });\n  };\n}\n\nmodule.exports = validateMutation;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar RelayObservable = require('./RelayObservable');\n\n/**\n * Converts a FetchFunction into an ExecuteFunction for use by RelayNetwork.\n */\nfunction convertFetch(fn) {\n  return function fetch(request, variables, cacheConfig, uploadables, logRequestInfo) {\n    var result = fn(request, variables, cacheConfig, uploadables, logRequestInfo); // Note: We allow FetchFunction to directly return Error to indicate\n    // a failure to fetch. To avoid handling this special case throughout the\n    // Relay codebase, it is explicitly handled here.\n\n    if (result instanceof Error) {\n      return RelayObservable.create(function (sink) {\n        return sink.error(result);\n      });\n    }\n\n    return RelayObservable.from(result);\n  };\n}\n\nmodule.exports = {\n  convertFetch: convertFetch\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar _require = require('./ConvertToExecuteFunction'),\n    convertFetch = _require.convertFetch;\n\n/**\n * Creates an implementation of the `Network` interface defined in\n * `RelayNetworkTypes` given `fetch` and `subscribe` functions.\n */\nfunction create(fetchFn, subscribe) {\n  // Convert to functions that returns RelayObservable.\n  var observeFetch = convertFetch(fetchFn);\n\n  function execute(request, variables, cacheConfig, uploadables, logRequestInfo) {\n    if (request.operationKind === 'subscription') {\n      !subscribe ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayNetwork: This network layer does not support Subscriptions. ' + 'To use Subscriptions, provide a custom network layer.') : invariant(false) : void 0;\n      !!uploadables ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayNetwork: Cannot provide uploadables while subscribing.') : invariant(false) : void 0;\n      return subscribe(request, variables, cacheConfig);\n    }\n\n    var pollInterval = cacheConfig.poll;\n\n    if (pollInterval != null) {\n      !!uploadables ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayNetwork: Cannot provide uploadables while polling.') : invariant(false) : void 0;\n      return observeFetch(request, variables, {\n        force: true\n      }).poll(pollInterval);\n    }\n\n    return observeFetch(request, variables, cacheConfig, uploadables, logRequestInfo);\n  }\n\n  return {\n    execute: execute\n  };\n}\n\nmodule.exports = {\n  create: create\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar isPromise = require('../util/isPromise');\n/**\n * A Subscription object is returned from .subscribe(), which can be\n * unsubscribed or checked to see if the resulting subscription has closed.\n */\n\n\nvar hostReportError = swallowError;\n/**\n * Limited implementation of ESObservable, providing the limited set of behavior\n * Relay networking requires.\n *\n * Observables retain the benefit of callbacks which can be called\n * synchronously, avoiding any UI jitter, while providing a compositional API,\n * which simplifies logic and prevents mishandling of errors compared to\n * the direct use of callback functions.\n *\n * ESObservable: https://github.com/tc39/proposal-observable\n */\n\nvar RelayObservable = /*#__PURE__*/function () {\n  RelayObservable.create = function create(source) {\n    return new RelayObservable(source);\n  } // Use RelayObservable.create()\n  ;\n\n  function RelayObservable(source) {\n    if (process.env.NODE_ENV !== \"production\") {\n      // Early runtime errors for ill-formed sources.\n      if (!source || typeof source !== 'function') {\n        throw new Error('Source must be a Function: ' + String(source));\n      }\n    }\n\n    this._source = source;\n  }\n  /**\n   * When an emitted error event is not handled by an Observer, it is reported\n   * to the host environment (what the ESObservable spec refers to as\n   * \"HostReportErrors()\").\n   *\n   * The default implementation in development rethrows thrown errors, and\n   * logs emitted error events to the console, while in production does nothing\n   * (swallowing unhandled errors).\n   *\n   * Called during application initialization, this method allows\n   * application-specific handling of unhandled errors. Allowing, for example,\n   * integration with error logging or developer tools.\n   *\n   * A second parameter `isUncaughtThrownError` is true when the unhandled error\n   * was thrown within an Observer handler, and false when the unhandled error\n   * was an unhandled emitted event.\n   *\n   *  - Uncaught thrown errors typically represent avoidable errors thrown from\n   *    application code, which should be handled with a try/catch block, and\n   *    usually have useful stack traces.\n   *\n   *  - Unhandled emitted event errors typically represent unavoidable events in\n   *    application flow such as network failure, and may not have useful\n   *    stack traces.\n   */\n\n\n  RelayObservable.onUnhandledError = function onUnhandledError(callback) {\n    hostReportError = callback;\n  }\n  /**\n   * Accepts various kinds of data sources, and always returns a RelayObservable\n   * useful for accepting the result of a user-provided FetchFunction.\n   */\n  ;\n\n  RelayObservable.from = function from(obj) {\n    return isObservable(obj) ? fromObservable(obj) : isPromise(obj) ? fromPromise(obj) : fromValue(obj);\n  }\n  /**\n   * Similar to promise.catch(), observable.catch() handles error events, and\n   * provides an alternative observable to use in it's place.\n   *\n   * If the catch handler throws a new error, it will appear as an error event\n   * on the resulting Observable.\n   */\n  ;\n\n  var _proto = RelayObservable.prototype;\n\n  _proto[\"catch\"] = function _catch(fn) {\n    var _this = this;\n\n    return RelayObservable.create(function (sink) {\n      var subscription;\n\n      _this.subscribe({\n        start: function start(sub) {\n          subscription = sub;\n        },\n        next: sink.next,\n        complete: sink.complete,\n        error: function error(_error2) {\n          try {\n            fn(_error2).subscribe({\n              start: function start(sub) {\n                subscription = sub;\n              },\n              next: sink.next,\n              complete: sink.complete,\n              error: sink.error\n            });\n          } catch (error2) {\n            sink.error(error2, true\n            /* isUncaughtThrownError */\n            );\n          }\n        }\n      });\n\n      return function () {\n        return subscription.unsubscribe();\n      };\n    });\n  }\n  /**\n   * Returns a new Observable which first yields values from this Observable,\n   * then yields values from the next Observable. This is useful for chaining\n   * together Observables of finite length.\n   */\n  ;\n\n  _proto.concat = function concat(next) {\n    var _this2 = this;\n\n    return RelayObservable.create(function (sink) {\n      var current;\n\n      _this2.subscribe({\n        start: function start(subscription) {\n          current = subscription;\n        },\n        next: sink.next,\n        error: sink.error,\n        complete: function complete() {\n          current = next.subscribe(sink);\n        }\n      });\n\n      return function () {\n        current && current.unsubscribe();\n      };\n    });\n  }\n  /**\n   * Returns a new Observable which returns the same values as this one, but\n   * modified so that the provided Observer is called to perform a side-effects\n   * for all events emitted by the source.\n   *\n   * Any errors that are thrown in the side-effect Observer are unhandled, and\n   * do not affect the source Observable or its Observer.\n   *\n   * This is useful for when debugging your Observables or performing other\n   * side-effects such as logging or performance monitoring.\n   */\n  ;\n\n  _proto[\"do\"] = function _do(observer) {\n    var _this3 = this;\n\n    return RelayObservable.create(function (sink) {\n      var both = function both(action) {\n        return function () {\n          try {\n            observer[action] && observer[action].apply(observer, arguments);\n          } catch (error) {\n            hostReportError(error, true\n            /* isUncaughtThrownError */\n            );\n          }\n\n          sink[action] && sink[action].apply(sink, arguments);\n        };\n      };\n\n      return _this3.subscribe({\n        start: both('start'),\n        next: both('next'),\n        error: both('error'),\n        complete: both('complete'),\n        unsubscribe: both('unsubscribe')\n      });\n    });\n  }\n  /**\n   * Returns a new Observable which returns the same values as this one, but\n   * modified so that the finally callback is performed after completion,\n   * whether normal or due to error or unsubscription.\n   *\n   * This is useful for cleanup such as resource finalization.\n   */\n  ;\n\n  _proto[\"finally\"] = function _finally(fn) {\n    var _this4 = this;\n\n    return RelayObservable.create(function (sink) {\n      var subscription = _this4.subscribe(sink);\n\n      return function () {\n        subscription.unsubscribe();\n        fn();\n      };\n    });\n  }\n  /**\n   * Returns a new Observable which is identical to this one, unless this\n   * Observable completes before yielding any values, in which case the new\n   * Observable will yield the values from the alternate Observable.\n   *\n   * If this Observable does yield values, the alternate is never subscribed to.\n   *\n   * This is useful for scenarios where values may come from multiple sources\n   * which should be tried in order, i.e. from a cache before a network.\n   */\n  ;\n\n  _proto.ifEmpty = function ifEmpty(alternate) {\n    var _this5 = this;\n\n    return RelayObservable.create(function (sink) {\n      var hasValue = false;\n\n      var current = _this5.subscribe({\n        next: function next(value) {\n          hasValue = true;\n          sink.next(value);\n        },\n        error: sink.error,\n        complete: function complete() {\n          if (hasValue) {\n            sink.complete();\n          } else {\n            current = alternate.subscribe(sink);\n          }\n        }\n      });\n\n      return function () {\n        current.unsubscribe();\n      };\n    });\n  }\n  /**\n   * Observable's primary API: returns an unsubscribable Subscription to the\n   * source of this Observable.\n   *\n   * Note: A sink may be passed directly to .subscribe() as its observer,\n   * allowing for easily composing Observables.\n   */\n  ;\n\n  _proto.subscribe = function subscribe(observer) {\n    if (process.env.NODE_ENV !== \"production\") {\n      // Early runtime errors for ill-formed observers.\n      if (!observer || typeof observer !== 'object') {\n        throw new Error('Observer must be an Object with callbacks: ' + String(observer));\n      }\n    }\n\n    return _subscribe(this._source, observer);\n  }\n  /**\n   * Returns a new Observerable where each value has been transformed by\n   * the mapping function.\n   */\n  ;\n\n  _proto.map = function map(fn) {\n    var _this6 = this;\n\n    return RelayObservable.create(function (sink) {\n      var subscription = _this6.subscribe({\n        complete: sink.complete,\n        error: sink.error,\n        next: function next(value) {\n          try {\n            var mapValue = fn(value);\n            sink.next(mapValue);\n          } catch (error) {\n            sink.error(error, true\n            /* isUncaughtThrownError */\n            );\n          }\n        }\n      });\n\n      return function () {\n        subscription.unsubscribe();\n      };\n    });\n  }\n  /**\n   * Returns a new Observable where each value is replaced with a new Observable\n   * by the mapping function, the results of which returned as a single\n   * merged Observable.\n   */\n  ;\n\n  _proto.mergeMap = function mergeMap(fn) {\n    var _this7 = this;\n\n    return RelayObservable.create(function (sink) {\n      var subscriptions = [];\n\n      function start(subscription) {\n        this._sub = subscription;\n        subscriptions.push(subscription);\n      }\n\n      function complete() {\n        subscriptions.splice(subscriptions.indexOf(this._sub), 1);\n\n        if (subscriptions.length === 0) {\n          sink.complete();\n        }\n      }\n\n      _this7.subscribe({\n        start: start,\n        next: function next(value) {\n          try {\n            if (!sink.closed) {\n              RelayObservable.from(fn(value)).subscribe({\n                start: start,\n                next: sink.next,\n                error: sink.error,\n                complete: complete\n              });\n            }\n          } catch (error) {\n            sink.error(error, true\n            /* isUncaughtThrownError */\n            );\n          }\n        },\n        error: sink.error,\n        complete: complete\n      });\n\n      return function () {\n        subscriptions.forEach(function (sub) {\n          return sub.unsubscribe();\n        });\n        subscriptions.length = 0;\n      };\n    });\n  }\n  /**\n   * Returns a new Observable which first mirrors this Observable, then when it\n   * completes, waits for `pollInterval` milliseconds before re-subscribing to\n   * this Observable again, looping in this manner until unsubscribed.\n   *\n   * The returned Observable never completes.\n   */\n  ;\n\n  _proto.poll = function poll(pollInterval) {\n    var _this8 = this;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      if (typeof pollInterval !== 'number' || pollInterval <= 0) {\n        throw new Error('RelayObservable: Expected pollInterval to be positive, got: ' + pollInterval);\n      }\n    }\n\n    return RelayObservable.create(function (sink) {\n      var subscription;\n      var timeout;\n\n      var poll = function poll() {\n        subscription = _this8.subscribe({\n          next: sink.next,\n          error: sink.error,\n          complete: function complete() {\n            timeout = setTimeout(poll, pollInterval);\n          }\n        });\n      };\n\n      poll();\n      return function () {\n        clearTimeout(timeout);\n        subscription.unsubscribe();\n      };\n    });\n  }\n  /**\n   * Returns a Promise which resolves when this Observable yields a first value\n   * or when it completes with no value.\n   *\n   * NOTE: The source Observable is *NOT* canceled when the returned Promise\n   * resolves. The Observable is always run to completion.\n   */\n  ;\n\n  _proto.toPromise = function toPromise() {\n    var _this9 = this;\n\n    return new Promise(function (resolve, reject) {\n      var resolved = false;\n\n      _this9.subscribe({\n        next: function next(val) {\n          if (!resolved) {\n            resolved = true;\n            resolve(val);\n          }\n        },\n        error: reject,\n        complete: resolve\n      });\n    });\n  };\n\n  return RelayObservable;\n}(); // Use declarations to teach Flow how to check isObservable.\n\n\nfunction isObservable(obj) {\n  return typeof obj === 'object' && obj !== null && typeof obj.subscribe === 'function';\n}\n\nfunction fromObservable(obj) {\n  return obj instanceof RelayObservable ? obj : RelayObservable.create(function (sink) {\n    return obj.subscribe(sink);\n  });\n}\n\nfunction fromPromise(promise) {\n  return RelayObservable.create(function (sink) {\n    // Since sink methods do not throw, the resulting Promise can be ignored.\n    promise.then(function (value) {\n      sink.next(value);\n      sink.complete();\n    }, sink.error);\n  });\n}\n\nfunction fromValue(value) {\n  return RelayObservable.create(function (sink) {\n    sink.next(value);\n    sink.complete();\n  });\n}\n\nfunction _subscribe(source, observer) {\n  var closed = false;\n  var cleanup; // Ideally we would simply describe a `get closed()` method on the Sink and\n  // Subscription objects below, however not all flow environments we expect\n  // Relay to be used within will support property getters, and many minifier\n  // tools still do not support ES5 syntax. Instead, we can use defineProperty.\n\n  var withClosed = function withClosed(obj) {\n    return Object.defineProperty(obj, 'closed', {\n      get: function get() {\n        return closed;\n      }\n    });\n  };\n\n  function doCleanup() {\n    if (cleanup) {\n      if (cleanup.unsubscribe) {\n        cleanup.unsubscribe();\n      } else {\n        try {\n          cleanup();\n        } catch (error) {\n          hostReportError(error, true\n          /* isUncaughtThrownError */\n          );\n        }\n      }\n\n      cleanup = undefined;\n    }\n  } // Create a Subscription.\n\n\n  var subscription = withClosed({\n    unsubscribe: function unsubscribe() {\n      if (!closed) {\n        closed = true; // Tell Observer that unsubscribe was called.\n\n        try {\n          observer.unsubscribe && observer.unsubscribe(subscription);\n        } catch (error) {\n          hostReportError(error, true\n          /* isUncaughtThrownError */\n          );\n        } finally {\n          doCleanup();\n        }\n      }\n    }\n  }); // Tell Observer that observation is about to begin.\n\n  try {\n    observer.start && observer.start(subscription);\n  } catch (error) {\n    hostReportError(error, true\n    /* isUncaughtThrownError */\n    );\n  } // If closed already, don't bother creating a Sink.\n\n\n  if (closed) {\n    return subscription;\n  } // Create a Sink respecting subscription state and cleanup.\n\n\n  var sink = withClosed({\n    next: function next(value) {\n      if (!closed && observer.next) {\n        try {\n          observer.next(value);\n        } catch (error) {\n          hostReportError(error, true\n          /* isUncaughtThrownError */\n          );\n        }\n      }\n    },\n    error: function error(_error3, isUncaughtThrownError) {\n      if (closed || !observer.error) {\n        closed = true;\n        hostReportError(_error3, isUncaughtThrownError || false);\n        doCleanup();\n      } else {\n        closed = true;\n\n        try {\n          observer.error(_error3);\n        } catch (error2) {\n          hostReportError(error2, true\n          /* isUncaughtThrownError */\n          );\n        } finally {\n          doCleanup();\n        }\n      }\n    },\n    complete: function complete() {\n      if (!closed) {\n        closed = true;\n\n        try {\n          observer.complete && observer.complete();\n        } catch (error) {\n          hostReportError(error, true\n          /* isUncaughtThrownError */\n          );\n        } finally {\n          doCleanup();\n        }\n      }\n    }\n  }); // If anything goes wrong during observing the source, handle the error.\n\n  try {\n    cleanup = source(sink);\n  } catch (error) {\n    sink.error(error, true\n    /* isUncaughtThrownError */\n    );\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    // Early runtime errors for ill-formed returned cleanup.\n    if (cleanup !== undefined && typeof cleanup !== 'function' && (!cleanup || typeof cleanup.unsubscribe !== 'function')) {\n      throw new Error('Returned cleanup function which cannot be called: ' + String(cleanup));\n    }\n  } // If closed before the source function existed, cleanup now.\n\n\n  if (closed) {\n    doCleanup();\n  }\n\n  return subscription;\n}\n\nfunction swallowError(_error, _isUncaughtThrownError) {// do nothing.\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  // Default implementation of HostReportErrors() in development builds.\n  // Can be replaced by the host application environment.\n  RelayObservable.onUnhandledError(function (error, isUncaughtThrownError) {\n    if (typeof fail === 'function') {\n      // In test environments (Jest), fail() immediately fails the current test.\n      fail(String(error));\n    } else if (isUncaughtThrownError) {\n      // Rethrow uncaught thrown errors on the next frame to avoid breaking\n      // current logic.\n      setTimeout(function () {\n        throw error;\n      });\n    } else if (typeof console !== 'undefined') {\n      // Otherwise, log the unhandled error for visibility.\n      // eslint-disable-next-line no-console\n      console.error('RelayObservable: Unhandled Error', error);\n    }\n  });\n}\n\nmodule.exports = RelayObservable;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar stableCopy = require('../util/stableCopy');\n\n/**\n * A cache for storing query responses, featuring:\n * - `get` with TTL\n * - cache size limiting, with least-recently *updated* entries purged first\n */\nvar RelayQueryResponseCache = /*#__PURE__*/function () {\n  function RelayQueryResponseCache(_ref) {\n    var size = _ref.size,\n        ttl = _ref.ttl;\n    !(size > 0) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayQueryResponseCache: Expected the max cache size to be > 0, got ' + '`%s`.', size) : invariant(false) : void 0;\n    !(ttl > 0) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayQueryResponseCache: Expected the max ttl to be > 0, got `%s`.', ttl) : invariant(false) : void 0;\n    this._responses = new Map();\n    this._size = size;\n    this._ttl = ttl;\n  }\n\n  var _proto = RelayQueryResponseCache.prototype;\n\n  _proto.clear = function clear() {\n    this._responses.clear();\n  };\n\n  _proto.get = function get(queryID, variables) {\n    var _this = this;\n\n    var cacheKey = getCacheKey(queryID, variables);\n\n    this._responses.forEach(function (response, key) {\n      if (!isCurrent(response.fetchTime, _this._ttl)) {\n        _this._responses[\"delete\"](key);\n      }\n    });\n\n    var response = this._responses.get(cacheKey);\n\n    return response != null ? (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, response.payload), {}, {\n      extensions: (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, response.payload.extensions), {}, {\n        cacheTimestamp: response.fetchTime\n      })\n    }) : null;\n  };\n\n  _proto.set = function set(queryID, variables, payload) {\n    var fetchTime = Date.now();\n    var cacheKey = getCacheKey(queryID, variables);\n\n    this._responses[\"delete\"](cacheKey); // deletion resets key ordering\n\n\n    this._responses.set(cacheKey, {\n      fetchTime: fetchTime,\n      payload: payload\n    }); // Purge least-recently updated key when max size reached\n\n\n    if (this._responses.size > this._size) {\n      var firstKey = this._responses.keys().next();\n\n      if (!firstKey.done) {\n        this._responses[\"delete\"](firstKey.value);\n      }\n    }\n  };\n\n  return RelayQueryResponseCache;\n}();\n\nfunction getCacheKey(queryID, variables) {\n  return JSON.stringify(stableCopy({\n    queryID: queryID,\n    variables: variables\n  }));\n}\n/**\n * Determine whether a response fetched at `fetchTime` is still valid given\n * some `ttl`.\n */\n\n\nfunction isCurrent(fetchTime, ttl) {\n  return fetchTime + ttl >= Date.now();\n}\n\nmodule.exports = RelayQueryResponseCache;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar RelayConcreteNode = require('../util/RelayConcreteNode');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar warning = require(\"fbjs/lib/warning\");\n\n/**\n * Runtime function to correspond to the `graphql` tagged template function.\n * All calls to this function should be transformed by the plugin.\n */\nfunction graphql(strings) {\n  !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'graphql: Unexpected invocation at runtime. Either the Babel transform ' + 'was not set up, or it failed to identify this call site. Make sure it ' + 'is being used verbatim as `graphql`. Note also that there cannot be ' + 'a space between graphql and the backtick that follows.') : invariant(false) : void 0;\n}\n\nfunction getNode(taggedNode) {\n  var node = taggedNode;\n\n  if (typeof node === 'function') {\n    node = node();\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayGraphQLTag: node `%s` unexpectedly wrapped in a function.', node.kind === 'Fragment' ? node.name : node.operation.name) : void 0;\n  } else if (node[\"default\"]) {\n    // Support for languages that work (best) with ES6 modules, such as TypeScript.\n    node = node[\"default\"];\n  }\n\n  return node;\n}\n\nfunction isFragment(node) {\n  var fragment = getNode(node);\n  return typeof fragment === 'object' && fragment !== null && fragment.kind === RelayConcreteNode.FRAGMENT;\n}\n\nfunction isRequest(node) {\n  var request = getNode(node);\n  return typeof request === 'object' && request !== null && request.kind === RelayConcreteNode.REQUEST;\n}\n\nfunction isInlineDataFragment(node) {\n  var fragment = getNode(node);\n  return typeof fragment === 'object' && fragment !== null && fragment.kind === RelayConcreteNode.INLINE_DATA_FRAGMENT;\n}\n\nfunction getFragment(taggedNode) {\n  var fragment = getNode(taggedNode);\n  !isFragment(fragment) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'GraphQLTag: Expected a fragment, got `%s`.', JSON.stringify(fragment)) : invariant(false) : void 0;\n  return fragment;\n}\n\nfunction getPaginationFragment(taggedNode) {\n  var _fragment$metadata;\n\n  var fragment = getFragment(taggedNode);\n  var refetch = (_fragment$metadata = fragment.metadata) === null || _fragment$metadata === void 0 ? void 0 : _fragment$metadata.refetch;\n  var connection = refetch === null || refetch === void 0 ? void 0 : refetch.connection;\n\n  if (refetch === null || typeof refetch !== 'object' || connection === null || typeof connection !== 'object') {\n    return null;\n  }\n\n  return fragment;\n}\n\nfunction getRefetchableFragment(taggedNode) {\n  var _fragment$metadata2;\n\n  var fragment = getFragment(taggedNode);\n  var refetch = (_fragment$metadata2 = fragment.metadata) === null || _fragment$metadata2 === void 0 ? void 0 : _fragment$metadata2.refetch;\n\n  if (refetch === null || typeof refetch !== 'object') {\n    return null;\n  }\n\n  return fragment;\n}\n\nfunction getRequest(taggedNode) {\n  var request = getNode(taggedNode);\n  !isRequest(request) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'GraphQLTag: Expected a request, got `%s`.', JSON.stringify(request)) : invariant(false) : void 0;\n  return request;\n}\n\nfunction getInlineDataFragment(taggedNode) {\n  var fragment = getNode(taggedNode);\n  !isInlineDataFragment(fragment) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'GraphQLTag: Expected an inline data fragment, got `%s`.', JSON.stringify(fragment)) : invariant(false) : void 0;\n  return fragment;\n}\n\nmodule.exports = {\n  getFragment: getFragment,\n  getNode: getNode,\n  getPaginationFragment: getPaginationFragment,\n  getRefetchableFragment: getRefetchableFragment,\n  getRequest: getRequest,\n  getInlineDataFragment: getInlineDataFragment,\n  graphql: graphql,\n  isFragment: isFragment,\n  isRequest: isRequest,\n  isInlineDataFragment: isInlineDataFragment\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @emails oncall+relay\n * \n * @format\n */\n'use strict';\n\nvar PreloadableQueryRegistry = /*#__PURE__*/function () {\n  function PreloadableQueryRegistry() {\n    this._preloadableQueries = new Map();\n    this._callbacks = new Map();\n  }\n\n  var _proto = PreloadableQueryRegistry.prototype;\n\n  _proto.set = function set(key, value) {\n    this._preloadableQueries.set(key, value);\n\n    var callbacks = this._callbacks.get(key);\n\n    if (callbacks != null) {\n      callbacks.forEach(function (cb) {\n        try {\n          cb(value);\n        } catch (e) {\n          // We do *not* want to throw in this tick, as this callback is executed\n          // while a query is required for the very first time.\n          setTimeout(function () {\n            throw e;\n          }, 0);\n        }\n      });\n    }\n  };\n\n  _proto.get = function get(key) {\n    return this._preloadableQueries.get(key);\n  };\n\n  _proto.onLoad = function onLoad(key, callback) {\n    var _this$_callbacks$get;\n\n    var callbacks = (_this$_callbacks$get = this._callbacks.get(key)) !== null && _this$_callbacks$get !== void 0 ? _this$_callbacks$get : new Set();\n    callbacks.add(callback);\n\n    var dispose = function dispose() {\n      callbacks[\"delete\"](callback);\n    };\n\n    this._callbacks.set(key, callbacks);\n\n    return {\n      dispose: dispose\n    };\n  };\n\n  _proto.clear = function clear() {\n    this._preloadableQueries.clear();\n  };\n\n  return PreloadableQueryRegistry;\n}();\n\nvar preloadableQueryRegistry = new PreloadableQueryRegistry();\nmodule.exports = preloadableQueryRegistry;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _require = require('../store/RelayModernOperationDescriptor'),\n    createOperationDescriptor = _require.createOperationDescriptor;\n\nvar _require2 = require('./GraphQLTag'),\n    getRequest = _require2.getRequest;\n\n/**\n * A helper function to fetch the results of a query. Note that results for\n * fragment spreads are masked: fields must be explicitly listed in the query in\n * order to be accessible in the result object.\n */\nfunction fetchQuery(environment, taggedNode, variables, cacheConfig) {\n  var query = getRequest(taggedNode);\n\n  if (query.params.operationKind !== 'query') {\n    throw new Error('fetchQuery: Expected query operation');\n  }\n\n  var operation = createOperationDescriptor(query, variables, cacheConfig);\n  return environment.execute({\n    operation: operation\n  }).map(function () {\n    return environment.lookup(operation.fragment).data;\n  }).toPromise();\n}\n\nmodule.exports = fetchQuery;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar Observable = require('../network/RelayObservable');\n\nvar RelayReplaySubject = require('../util/RelayReplaySubject');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar WEAKMAP_SUPPORTED = typeof WeakMap === 'function';\nvar requestCachesByEnvironment = WEAKMAP_SUPPORTED ? new WeakMap() : new Map();\n/**\n * Fetches the given query and variables on the provided environment,\n * and de-dupes identical in-flight requests.\n *\n * Observing a request:\n * ====================\n * fetchQuery returns an Observable which you can call .subscribe()\n * on. subscribe() takes an Observer, which you can provide to\n * observe network events:\n *\n * ```\n * fetchQuery(environment, query, variables).subscribe({\n *   // Called when network requests starts\n *   start: (subscription) => {},\n *\n *   // Called after a payload is received and written to the local store\n *   next: (payload) => {},\n *\n *   // Called when network requests errors\n *   error: (error) => {},\n *\n *   // Called when network requests fully completes\n *   complete: () => {},\n *\n *   // Called when network request is unsubscribed\n *   unsubscribe: (subscription) => {},\n * });\n * ```\n *\n * In-flight request de-duping:\n * ============================\n * By default, calling fetchQuery multiple times with the same\n * environment, query and variables will not initiate a new request if a request\n * for those same parameters is already in flight.\n *\n * A request is marked in-flight from the moment it starts until the moment it\n * fully completes, regardless of error or successful completion.\n *\n * NOTE: If the request completes _synchronously_, calling fetchQuery\n * a second time with the same arguments in the same tick will _NOT_ de-dupe\n * the request given that it will no longer be in-flight.\n *\n *\n * Data Retention:\n * ===============\n * This function will not retain any query data outside the scope of the\n * request, which means it is not guaranteed that it won't be garbage\n * collected after the request completes.\n * If you need to retain data, you can do so manually with environment.retain().\n *\n * Cancelling requests:\n * ====================\n * If the subscription returned by subscribe is called while the\n * request is in-flight, apart from releasing retained data, the request will\n * also be cancelled.\n *\n * ```\n * const subscription = fetchQuery(...).subscribe(...);\n *\n * // This will cancel the request if it is in-flight.\n * subscription.unsubscribe();\n * ```\n */\n\nfunction fetchQuery(environment, operation) {\n  return fetchQueryDeduped(environment, operation.request.identifier, function () {\n    return environment.execute({\n      operation: operation\n    });\n  });\n}\n/**\n * Low-level implementation details of `fetchQuery`.\n *\n * `fetchQueryDeduped` can also be used to share a single cache for\n * requests that aren't using `fetchQuery` directly (e.g. because they don't\n * have an `OperationDescriptor` when they are called).\n */\n\n\nfunction fetchQueryDeduped(environment, identifier, fetchFn) {\n  return Observable.create(function (sink) {\n    var requestCache = getRequestCache(environment);\n    var cachedRequest = requestCache.get(identifier);\n\n    if (!cachedRequest) {\n      fetchFn()[\"finally\"](function () {\n        return requestCache[\"delete\"](identifier);\n      }).subscribe({\n        start: function start(subscription) {\n          cachedRequest = {\n            identifier: identifier,\n            subject: new RelayReplaySubject(),\n            subjectForInFlightStatus: new RelayReplaySubject(),\n            subscription: subscription\n          };\n          requestCache.set(identifier, cachedRequest);\n        },\n        next: function next(response) {\n          var cachedReq = getCachedRequest(requestCache, identifier);\n          cachedReq.subject.next(response);\n          cachedReq.subjectForInFlightStatus.next(response);\n        },\n        error: function error(_error) {\n          var cachedReq = getCachedRequest(requestCache, identifier);\n          cachedReq.subject.error(_error);\n          cachedReq.subjectForInFlightStatus.error(_error);\n        },\n        complete: function complete() {\n          var cachedReq = getCachedRequest(requestCache, identifier);\n          cachedReq.subject.complete();\n          cachedReq.subjectForInFlightStatus.complete();\n        },\n        unsubscribe: function unsubscribe(subscription) {\n          var cachedReq = getCachedRequest(requestCache, identifier);\n          cachedReq.subject.unsubscribe();\n          cachedReq.subjectForInFlightStatus.unsubscribe();\n        }\n      });\n    }\n\n    !(cachedRequest != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '[fetchQueryInternal] fetchQueryDeduped: Expected `start` to be ' + 'called synchronously') : invariant(false) : void 0;\n    return getObservableForCachedRequest(requestCache, cachedRequest).subscribe(sink);\n  });\n}\n/**\n * @private\n */\n\n\nfunction getObservableForCachedRequest(requestCache, cachedRequest) {\n  return Observable.create(function (sink) {\n    var subscription = cachedRequest.subject.subscribe(sink);\n    return function () {\n      subscription.unsubscribe();\n      var cachedRequestInstance = requestCache.get(cachedRequest.identifier);\n\n      if (cachedRequestInstance) {\n        var requestSubscription = cachedRequestInstance.subscription;\n\n        if (requestSubscription != null && cachedRequestInstance.subject.getObserverCount() === 0) {\n          requestSubscription.unsubscribe();\n          requestCache[\"delete\"](cachedRequest.identifier);\n        }\n      }\n    };\n  });\n}\n/**\n * @private\n */\n\n\nfunction getActiveStatusObservableForCachedRequest(environment, requestCache, cachedRequest) {\n  return Observable.create(function (sink) {\n    var subscription = cachedRequest.subjectForInFlightStatus.subscribe({\n      error: sink.error,\n      next: function next(response) {\n        if (!environment.isRequestActive(cachedRequest.identifier)) {\n          sink.complete();\n          return;\n        }\n\n        sink.next();\n      },\n      complete: sink.complete,\n      unsubscribe: sink.complete\n    });\n    return function () {\n      subscription.unsubscribe();\n    };\n  });\n}\n/**\n * If a request is active for the given query, variables and environment,\n * this function will return a Promise that will resolve when that request has\n * stops being active (receives a final payload), and the data has been saved\n * to the store.\n * If no request is active, null will be returned\n */\n\n\nfunction getPromiseForActiveRequest(environment, request) {\n  var requestCache = getRequestCache(environment);\n  var cachedRequest = requestCache.get(request.identifier);\n\n  if (!cachedRequest) {\n    return null;\n  }\n\n  if (!environment.isRequestActive(cachedRequest.identifier)) {\n    return null;\n  }\n\n  return new Promise(function (resolve, reject) {\n    var resolveOnNext = false;\n    getActiveStatusObservableForCachedRequest(environment, requestCache, cachedRequest).subscribe({\n      complete: resolve,\n      error: reject,\n      next: function next(response) {\n        /*\n         * The underlying `RelayReplaySubject` will synchronously replay events\n         * as soon as we subscribe, but since we want the *next* asynchronous\n         * one, we'll ignore them until the replay finishes.\n         */\n        if (resolveOnNext) {\n          resolve(response);\n        }\n      }\n    });\n    resolveOnNext = true;\n  });\n}\n/**\n * If there is a pending request for the given query, returns an Observable of\n * *all* its responses. Existing responses are published synchronously and\n * subsequent responses are published asynchronously. Returns null if there is\n * no pending request. This is similar to fetchQuery() except that it will not\n * issue a fetch if there isn't already one pending.\n */\n\n\nfunction getObservableForActiveRequest(environment, request) {\n  var requestCache = getRequestCache(environment);\n  var cachedRequest = requestCache.get(request.identifier);\n\n  if (!cachedRequest) {\n    return null;\n  }\n\n  if (!environment.isRequestActive(cachedRequest.identifier)) {\n    return null;\n  }\n\n  return getActiveStatusObservableForCachedRequest(environment, requestCache, cachedRequest);\n}\n/**\n * @private\n */\n\n\nfunction getRequestCache(environment) {\n  var cached = requestCachesByEnvironment.get(environment);\n\n  if (cached != null) {\n    return cached;\n  }\n\n  var requestCache = new Map();\n  requestCachesByEnvironment.set(environment, requestCache);\n  return requestCache;\n}\n/**\n * @private\n */\n\n\nfunction getCachedRequest(requestCache, identifier) {\n  var cached = requestCache.get(identifier);\n  !(cached != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '[fetchQueryInternal] getCachedRequest: Expected request to be cached') : invariant(false) : void 0;\n  return cached;\n}\n\nmodule.exports = {\n  fetchQuery: fetchQuery,\n  fetchQueryDeduped: fetchQueryDeduped,\n  getPromiseForActiveRequest: getPromiseForActiveRequest,\n  getObservableForActiveRequest: getObservableForActiveRequest\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar PREFIX = 'client:';\n\nfunction generateClientID(id, storageKey, index) {\n  var key = id + ':' + storageKey;\n\n  if (index != null) {\n    key += ':' + index;\n  }\n\n  if (key.indexOf(PREFIX) !== 0) {\n    key = PREFIX + key;\n  }\n\n  return key;\n}\n\nfunction isClientID(id) {\n  return id.indexOf(PREFIX) === 0;\n}\n\nvar localID = 0;\n\nfunction generateUniqueClientID() {\n  return \"\".concat(PREFIX, \"local:\").concat(localID++);\n}\n\nmodule.exports = {\n  generateClientID: generateClientID,\n  generateUniqueClientID: generateUniqueClientID,\n  isClientID: isClientID\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @emails oncall+relay\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\n\nvar RelayConcreteNode = require('../util/RelayConcreteNode');\n\nvar RelayFeatureFlags = require('../util/RelayFeatureFlags');\n\nvar RelayModernRecord = require('./RelayModernRecord');\n\nvar RelayRecordSourceMutator = require('../mutations/RelayRecordSourceMutator');\n\nvar RelayRecordSourceProxy = require('../mutations/RelayRecordSourceProxy');\n\nvar RelayStoreReactFlightUtils = require('./RelayStoreReactFlightUtils');\n\nvar RelayStoreUtils = require('./RelayStoreUtils');\n\nvar cloneRelayHandleSourceField = require('./cloneRelayHandleSourceField');\n\nvar cloneRelayScalarHandleSourceField = require('./cloneRelayScalarHandleSourceField');\n\nvar getOperation = require('../util/getOperation');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar _require = require('./ClientID'),\n    isClientID = _require.isClientID;\n\nvar _require2 = require('./RelayRecordState'),\n    EXISTENT = _require2.EXISTENT,\n    UNKNOWN = _require2.UNKNOWN;\n\nvar _require3 = require('./TypeID'),\n    generateTypeID = _require3.generateTypeID;\n\nvar CONDITION = RelayConcreteNode.CONDITION,\n    CLIENT_EXTENSION = RelayConcreteNode.CLIENT_EXTENSION,\n    DEFER = RelayConcreteNode.DEFER,\n    FLIGHT_FIELD = RelayConcreteNode.FLIGHT_FIELD,\n    FRAGMENT_SPREAD = RelayConcreteNode.FRAGMENT_SPREAD,\n    INLINE_FRAGMENT = RelayConcreteNode.INLINE_FRAGMENT,\n    LINKED_FIELD = RelayConcreteNode.LINKED_FIELD,\n    LINKED_HANDLE = RelayConcreteNode.LINKED_HANDLE,\n    MODULE_IMPORT = RelayConcreteNode.MODULE_IMPORT,\n    SCALAR_FIELD = RelayConcreteNode.SCALAR_FIELD,\n    SCALAR_HANDLE = RelayConcreteNode.SCALAR_HANDLE,\n    STREAM = RelayConcreteNode.STREAM,\n    TYPE_DISCRIMINATOR = RelayConcreteNode.TYPE_DISCRIMINATOR;\nvar ROOT_ID = RelayStoreUtils.ROOT_ID,\n    getModuleOperationKey = RelayStoreUtils.getModuleOperationKey,\n    getStorageKey = RelayStoreUtils.getStorageKey,\n    getArgumentValues = RelayStoreUtils.getArgumentValues;\n/**\n * Synchronously check whether the records required to fulfill the given\n * `selector` are present in `source`.\n *\n * If a field is missing, it uses the provided handlers to attempt to substitute\n * data. The `target` will store all records that are modified because of a\n * successful substitution.\n *\n * If all records are present, returns `true`, otherwise `false`.\n */\n\nfunction check(source, target, selector, handlers, operationLoader, getDataID) {\n  var dataID = selector.dataID,\n      node = selector.node,\n      variables = selector.variables;\n  var checker = new DataChecker(source, target, variables, handlers, operationLoader, getDataID);\n  return checker.check(node, dataID);\n}\n/**\n * @private\n */\n\n\nvar DataChecker = /*#__PURE__*/function () {\n  function DataChecker(source, target, variables, handlers, operationLoader, getDataID) {\n    var mutator = new RelayRecordSourceMutator(source, target);\n    this._mostRecentlyInvalidatedAt = null;\n    this._handlers = handlers;\n    this._mutator = mutator;\n    this._operationLoader = operationLoader !== null && operationLoader !== void 0 ? operationLoader : null;\n    this._recordSourceProxy = new RelayRecordSourceProxy(mutator, getDataID);\n    this._recordWasMissing = false;\n    this._source = source;\n    this._variables = variables;\n  }\n\n  var _proto = DataChecker.prototype;\n\n  _proto.check = function check(node, dataID) {\n    this._traverse(node, dataID);\n\n    return this._recordWasMissing === true ? {\n      status: 'missing',\n      mostRecentlyInvalidatedAt: this._mostRecentlyInvalidatedAt\n    } : {\n      status: 'available',\n      mostRecentlyInvalidatedAt: this._mostRecentlyInvalidatedAt\n    };\n  };\n\n  _proto._getVariableValue = function _getVariableValue(name) {\n    !this._variables.hasOwnProperty(name) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayAsyncLoader(): Undefined variable `%s`.', name) : invariant(false) : void 0;\n    return this._variables[name];\n  };\n\n  _proto._handleMissing = function _handleMissing() {\n    this._recordWasMissing = true;\n  };\n\n  _proto._getDataForHandlers = function _getDataForHandlers(field, dataID) {\n    return {\n      args: field.args ? getArgumentValues(field.args, this._variables) : {},\n      // Getting a snapshot of the record state is potentially expensive since\n      // we will need to merge the sink and source records. Since we do not create\n      // any new records in this process, it is probably reasonable to provide\n      // handlers with a copy of the source record.\n      // The only thing that the provided record will not contain is fields\n      // added by previous handlers.\n      record: this._source.get(dataID)\n    };\n  };\n\n  _proto._handleMissingScalarField = function _handleMissingScalarField(field, dataID) {\n    if (field.name === 'id' && field.alias == null && isClientID(dataID)) {\n      return undefined;\n    }\n\n    var _this$_getDataForHand = this._getDataForHandlers(field, dataID),\n        args = _this$_getDataForHand.args,\n        record = _this$_getDataForHand.record;\n\n    var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(this._handlers),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var handler = _step.value;\n\n        if (handler.kind === 'scalar') {\n          var newValue = handler.handle(field, record, args, this._recordSourceProxy);\n\n          if (newValue !== undefined) {\n            return newValue;\n          }\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    this._handleMissing();\n  };\n\n  _proto._handleMissingLinkField = function _handleMissingLinkField(field, dataID) {\n    var _this$_getDataForHand2 = this._getDataForHandlers(field, dataID),\n        args = _this$_getDataForHand2.args,\n        record = _this$_getDataForHand2.record;\n\n    var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(this._handlers),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var handler = _step2.value;\n\n        if (handler.kind === 'linked') {\n          var newValue = handler.handle(field, record, args, this._recordSourceProxy);\n\n          if (newValue !== undefined && (newValue === null || this._mutator.getStatus(newValue) === EXISTENT)) {\n            return newValue;\n          }\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    this._handleMissing();\n  };\n\n  _proto._handleMissingPluralLinkField = function _handleMissingPluralLinkField(field, dataID) {\n    var _this = this;\n\n    var _this$_getDataForHand3 = this._getDataForHandlers(field, dataID),\n        args = _this$_getDataForHand3.args,\n        record = _this$_getDataForHand3.record;\n\n    var _iterator3 = (0, _createForOfIteratorHelper2[\"default\"])(this._handlers),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var handler = _step3.value;\n\n        if (handler.kind === 'pluralLinked') {\n          var newValue = handler.handle(field, record, args, this._recordSourceProxy);\n\n          if (newValue != null) {\n            var allItemsKnown = newValue.every(function (linkedID) {\n              return linkedID != null && _this._mutator.getStatus(linkedID) === EXISTENT;\n            });\n\n            if (allItemsKnown) {\n              return newValue;\n            }\n          } else if (newValue === null) {\n            return null;\n          }\n        }\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n\n    this._handleMissing();\n  };\n\n  _proto._traverse = function _traverse(node, dataID) {\n    var status = this._mutator.getStatus(dataID);\n\n    if (status === UNKNOWN) {\n      this._handleMissing();\n    }\n\n    if (status === EXISTENT) {\n      var record = this._source.get(dataID);\n\n      var invalidatedAt = RelayModernRecord.getInvalidationEpoch(record);\n\n      if (invalidatedAt != null) {\n        this._mostRecentlyInvalidatedAt = this._mostRecentlyInvalidatedAt != null ? Math.max(this._mostRecentlyInvalidatedAt, invalidatedAt) : invalidatedAt;\n      }\n\n      this._traverseSelections(node.selections, dataID);\n    }\n  };\n\n  _proto._traverseSelections = function _traverseSelections(selections, dataID) {\n    var _this2 = this;\n\n    selections.forEach(function (selection) {\n      switch (selection.kind) {\n        case SCALAR_FIELD:\n          _this2._checkScalar(selection, dataID);\n\n          break;\n\n        case LINKED_FIELD:\n          if (selection.plural) {\n            _this2._checkPluralLink(selection, dataID);\n          } else {\n            _this2._checkLink(selection, dataID);\n          }\n\n          break;\n\n        case CONDITION:\n          var conditionValue = _this2._getVariableValue(selection.condition);\n\n          if (conditionValue === selection.passingValue) {\n            _this2._traverseSelections(selection.selections, dataID);\n          }\n\n          break;\n\n        case INLINE_FRAGMENT:\n          {\n            var abstractKey = selection.abstractKey;\n\n            if (abstractKey == null) {\n              // concrete type refinement: only check data if the type exactly matches\n              var typeName = _this2._mutator.getType(dataID);\n\n              if (typeName === selection.type) {\n                _this2._traverseSelections(selection.selections, dataID);\n              }\n            } else if (RelayFeatureFlags.ENABLE_PRECISE_TYPE_REFINEMENT) {\n              // Abstract refinement: check data depending on whether the type\n              // conforms to the interface/union or not:\n              // - Type known to _not_ implement the interface: don't check the selections.\n              // - Type is known _to_ implement the interface: check selections.\n              // - Unknown whether the type implements the interface: don't check the selections\n              //   and treat the data as missing; we do this because the Relay Compiler\n              //   guarantees that the type discriminator will always be fetched.\n              var recordType = _this2._mutator.getType(dataID);\n\n              !(recordType != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'DataChecker: Expected record `%s` to have a known type', dataID) : invariant(false) : void 0;\n              var typeID = generateTypeID(recordType);\n\n              var implementsInterface = _this2._mutator.getValue(typeID, abstractKey);\n\n              if (implementsInterface === true) {\n                _this2._traverseSelections(selection.selections, dataID);\n              } else if (implementsInterface == null) {\n                // unsure if the type implements the interface: data is\n                // missing so don't bother reading the fragment\n                _this2._handleMissing();\n              } // else false: known to not implement the interface\n\n            } else {\n              // legacy behavior for abstract refinements: always check even\n              // if the type doesn't conform\n              _this2._traverseSelections(selection.selections, dataID);\n            }\n\n            break;\n          }\n\n        case LINKED_HANDLE:\n          {\n            // Handles have no selections themselves; traverse the original field\n            // where the handle was set-up instead.\n            var handleField = cloneRelayHandleSourceField(selection, selections, _this2._variables);\n\n            if (handleField.plural) {\n              _this2._checkPluralLink(handleField, dataID);\n            } else {\n              _this2._checkLink(handleField, dataID);\n            }\n\n            break;\n          }\n\n        case SCALAR_HANDLE:\n          {\n            var _handleField = cloneRelayScalarHandleSourceField(selection, selections, _this2._variables);\n\n            _this2._checkScalar(_handleField, dataID);\n\n            break;\n          }\n\n        case MODULE_IMPORT:\n          _this2._checkModuleImport(selection, dataID);\n\n          break;\n\n        case DEFER:\n        case STREAM:\n          _this2._traverseSelections(selection.selections, dataID);\n\n          break;\n        // $FlowFixMe[incompatible-type]\n\n        case FRAGMENT_SPREAD:\n          !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayAsyncLoader(): Unexpected ast kind `%s`.', selection.kind) : invariant(false) : void 0; // $FlowExpectedError[unreachable-code] - we need the break; for OSS linter\n\n          break;\n\n        case CLIENT_EXTENSION:\n          var recordWasMissing = _this2._recordWasMissing;\n\n          _this2._traverseSelections(selection.selections, dataID);\n\n          _this2._recordWasMissing = recordWasMissing;\n          break;\n\n        case TYPE_DISCRIMINATOR:\n          if (RelayFeatureFlags.ENABLE_PRECISE_TYPE_REFINEMENT) {\n            var _abstractKey = selection.abstractKey;\n\n            var _recordType = _this2._mutator.getType(dataID);\n\n            !(_recordType != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'DataChecker: Expected record `%s` to have a known type', dataID) : invariant(false) : void 0;\n\n            var _typeID = generateTypeID(_recordType);\n\n            var _implementsInterface = _this2._mutator.getValue(_typeID, _abstractKey);\n\n            if (_implementsInterface == null) {\n              // unsure if the type implements the interface: data is\n              // missing\n              _this2._handleMissing();\n            } // else: if it does or doesn't implement, we don't need to check or skip anything else\n\n          }\n\n          break;\n\n        case FLIGHT_FIELD:\n          if (RelayFeatureFlags.ENABLE_REACT_FLIGHT_COMPONENT_FIELD) {\n            _this2._checkFlightField(selection, dataID);\n          } else {\n            throw new Error('Flight fields are not yet supported.');\n          }\n\n          break;\n\n        default:\n          selection;\n          !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayAsyncLoader(): Unexpected ast kind `%s`.', selection.kind) : invariant(false) : void 0;\n      }\n    });\n  };\n\n  _proto._checkModuleImport = function _checkModuleImport(moduleImport, dataID) {\n    var operationLoader = this._operationLoader;\n    !(operationLoader !== null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'DataChecker: Expected an operationLoader to be configured when using `@module`.') : invariant(false) : void 0;\n    var operationKey = getModuleOperationKey(moduleImport.documentName);\n\n    var operationReference = this._mutator.getValue(dataID, operationKey);\n\n    if (operationReference == null) {\n      if (operationReference === undefined) {\n        this._handleMissing();\n      }\n\n      return;\n    }\n\n    var normalizationRootNode = operationLoader.get(operationReference);\n\n    if (normalizationRootNode != null) {\n      var operation = getOperation(normalizationRootNode);\n\n      this._traverse(operation, dataID);\n    } else {\n      // If the fragment is not available, we assume that the data cannot have been\n      // processed yet and must therefore be missing.\n      this._handleMissing();\n    }\n  };\n\n  _proto._checkScalar = function _checkScalar(field, dataID) {\n    var storageKey = getStorageKey(field, this._variables);\n\n    var fieldValue = this._mutator.getValue(dataID, storageKey);\n\n    if (fieldValue === undefined) {\n      fieldValue = this._handleMissingScalarField(field, dataID);\n\n      if (fieldValue !== undefined) {\n        this._mutator.setValue(dataID, storageKey, fieldValue);\n      }\n    }\n  };\n\n  _proto._checkLink = function _checkLink(field, dataID) {\n    var storageKey = getStorageKey(field, this._variables);\n\n    var linkedID = this._mutator.getLinkedRecordID(dataID, storageKey);\n\n    if (linkedID === undefined) {\n      linkedID = this._handleMissingLinkField(field, dataID);\n\n      if (linkedID != null) {\n        this._mutator.setLinkedRecordID(dataID, storageKey, linkedID);\n      } else if (linkedID === null) {\n        this._mutator.setValue(dataID, storageKey, null);\n      }\n    }\n\n    if (linkedID != null) {\n      this._traverse(field, linkedID);\n    }\n  };\n\n  _proto._checkPluralLink = function _checkPluralLink(field, dataID) {\n    var _this3 = this;\n\n    var storageKey = getStorageKey(field, this._variables);\n\n    var linkedIDs = this._mutator.getLinkedRecordIDs(dataID, storageKey);\n\n    if (linkedIDs === undefined) {\n      linkedIDs = this._handleMissingPluralLinkField(field, dataID);\n\n      if (linkedIDs != null) {\n        this._mutator.setLinkedRecordIDs(dataID, storageKey, linkedIDs);\n      } else if (linkedIDs === null) {\n        this._mutator.setValue(dataID, storageKey, null);\n      }\n    }\n\n    if (linkedIDs) {\n      linkedIDs.forEach(function (linkedID) {\n        if (linkedID != null) {\n          _this3._traverse(field, linkedID);\n        }\n      });\n    }\n  };\n\n  _proto._checkFlightField = function _checkFlightField(field, dataID) {\n    var storageKey = getStorageKey(field, this._variables);\n\n    var linkedID = this._mutator.getLinkedRecordID(dataID, storageKey);\n\n    if (linkedID == null) {\n      if (linkedID === undefined) {\n        this._handleMissing();\n\n        return;\n      }\n\n      return;\n    }\n\n    var tree = this._mutator.getValue(linkedID, RelayStoreReactFlightUtils.REACT_FLIGHT_TREE_STORAGE_KEY);\n\n    var reachableQueries = this._mutator.getValue(linkedID, RelayStoreReactFlightUtils.REACT_FLIGHT_QUERIES_STORAGE_KEY);\n\n    if (tree == null || !Array.isArray(reachableQueries)) {\n      this._handleMissing();\n\n      return;\n    }\n\n    var operationLoader = this._operationLoader;\n    !(operationLoader !== null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'DataChecker: Expected an operationLoader to be configured when using ' + 'React Flight.') : invariant(false) : void 0; // In Flight, the variables that are in scope for reachable queries aren't\n    // the same as what's in scope for the outer query.\n\n    var prevVariables = this._variables; // $FlowFixMe[incompatible-cast]\n\n    var _iterator4 = (0, _createForOfIteratorHelper2[\"default\"])(reachableQueries),\n        _step4;\n\n    try {\n      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n        var query = _step4.value;\n        this._variables = query.variables;\n        var normalizationRootNode = operationLoader.get(query.module);\n\n        if (normalizationRootNode != null) {\n          var operation = getOperation(normalizationRootNode);\n\n          this._traverseSelections(operation.selections, ROOT_ID);\n        } else {\n          // If the fragment is not available, we assume that the data cannot have\n          // been processed yet and must therefore be missing.\n          this._handleMissing();\n        }\n      }\n    } catch (err) {\n      _iterator4.e(err);\n    } finally {\n      _iterator4.f();\n    }\n\n    this._variables = prevVariables;\n  };\n\n  return DataChecker;\n}();\n\nmodule.exports = {\n  check: check\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\n/**\n * Determines the variables that are in scope for a fragment given the variables\n * in scope at the root query as well as any arguments applied at the fragment\n * spread via `@arguments`.\n *\n * Note that this is analagous to determining function arguments given a function call.\n */\nfunction getFragmentVariables(fragment, rootVariables, argumentVariables) {\n  var variables;\n  fragment.argumentDefinitions.forEach(function (definition) {\n    if (argumentVariables.hasOwnProperty(definition.name)) {\n      return;\n    }\n\n    variables = variables || (0, _objectSpread2[\"default\"])({}, argumentVariables);\n\n    switch (definition.kind) {\n      case 'LocalArgument':\n        variables[definition.name] = definition.defaultValue;\n        break;\n\n      case 'RootArgument':\n        if (!rootVariables.hasOwnProperty(definition.name)) {\n          /*\n           * Global variables passed as values of @arguments are not required to\n           * be declared unless they are used by the callee fragment or a\n           * descendant. In this case, the root variable may not be defined when\n           * resolving the callee's variables. The value is explicitly set to\n           * undefined to conform to the check in\n           * RelayStoreUtils.getStableVariableValue() that variable keys are all\n           * present.\n           */\n          variables[definition.name] = undefined;\n          break;\n        }\n\n        variables[definition.name] = rootVariables[definition.name];\n        break;\n\n      default:\n        definition;\n        !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayConcreteVariables: Unexpected node kind `%s` in fragment `%s`.', definition.kind, fragment.name) : invariant(false) : void 0;\n    }\n  });\n  return variables || argumentVariables;\n}\n/**\n * Determines the variables that are in scope for a given operation given values\n * for some/all of its arguments. Extraneous input variables are filtered from\n * the output, and missing variables are set to default values (if given in the\n * operation's definition).\n */\n\n\nfunction getOperationVariables(operation, variables) {\n  var operationVariables = {};\n  operation.argumentDefinitions.forEach(function (def) {\n    var value = def.defaultValue;\n\n    if (variables[def.name] != null) {\n      value = variables[def.name];\n    }\n\n    operationVariables[def.name] = value;\n  });\n  return operationVariables;\n}\n\nmodule.exports = {\n  getFragmentVariables: getFragmentVariables,\n  getOperationVariables: getOperationVariables\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @emails oncall+relay\n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar RelayDefaultHandlerProvider = require('../handlers/RelayDefaultHandlerProvider');\n\nvar RelayFeatureFlags = require('../util/RelayFeatureFlags');\n\nvar RelayModernQueryExecutor = require('./RelayModernQueryExecutor');\n\nvar RelayObservable = require('../network/RelayObservable');\n\nvar RelayOperationTracker = require('../store/RelayOperationTracker');\n\nvar RelayPublishQueue = require('./RelayPublishQueue');\n\nvar RelayRecordSource = require('./RelayRecordSource');\n\nvar defaultGetDataID = require('./defaultGetDataID');\n\nvar defaultRequiredFieldLogger = require('./defaultRequiredFieldLogger');\n\nvar generateID = require('../util/generateID');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar RelayModernEnvironment = /*#__PURE__*/function () {\n  function RelayModernEnvironment(config) {\n    var _this = this;\n\n    var _config$log, _config$requiredField, _config$UNSTABLE_defa, _config$UNSTABLE_DO_N, _config$scheduler, _config$isServer, _config$operationTrac;\n\n    this.configName = config.configName;\n    var handlerProvider = config.handlerProvider ? config.handlerProvider : RelayDefaultHandlerProvider;\n    this._treatMissingFieldsAsNull = config.treatMissingFieldsAsNull === true;\n    var operationLoader = config.operationLoader;\n    var reactFlightPayloadDeserializer = config.reactFlightPayloadDeserializer;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      if (operationLoader != null) {\n        !(typeof operationLoader === 'object' && typeof operationLoader.get === 'function' && typeof operationLoader.load === 'function') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected `operationLoader` to be an object ' + 'with get() and load() functions, got `%s`.', operationLoader) : invariant(false) : void 0;\n      }\n\n      if (reactFlightPayloadDeserializer != null) {\n        !(typeof reactFlightPayloadDeserializer === 'function') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected `reactFlightPayloadDeserializer` ' + ' to be a function, got `%s`.', reactFlightPayloadDeserializer) : invariant(false) : void 0;\n      }\n    }\n\n    this.__log = (_config$log = config.log) !== null && _config$log !== void 0 ? _config$log : emptyFunction;\n    this.requiredFieldLogger = (_config$requiredField = config.requiredFieldLogger) !== null && _config$requiredField !== void 0 ? _config$requiredField : defaultRequiredFieldLogger;\n    this._defaultRenderPolicy = ((_config$UNSTABLE_defa = config.UNSTABLE_defaultRenderPolicy) !== null && _config$UNSTABLE_defa !== void 0 ? _config$UNSTABLE_defa : RelayFeatureFlags.ENABLE_PARTIAL_RENDERING_DEFAULT === true) ? 'partial' : 'full';\n    this._operationLoader = operationLoader;\n    this._operationExecutions = new Map();\n    this._network = this.__wrapNetworkWithLogObserver(config.network);\n    this._getDataID = (_config$UNSTABLE_DO_N = config.UNSTABLE_DO_NOT_USE_getDataID) !== null && _config$UNSTABLE_DO_N !== void 0 ? _config$UNSTABLE_DO_N : defaultGetDataID;\n    this._publishQueue = new RelayPublishQueue(config.store, handlerProvider, this._getDataID);\n    this._scheduler = (_config$scheduler = config.scheduler) !== null && _config$scheduler !== void 0 ? _config$scheduler : null;\n    this._store = config.store;\n    this.options = config.options;\n    this._isServer = (_config$isServer = config.isServer) !== null && _config$isServer !== void 0 ? _config$isServer : false;\n\n    this.__setNet = function (newNet) {\n      return _this._network = _this.__wrapNetworkWithLogObserver(newNet);\n    };\n\n    if (process.env.NODE_ENV !== \"production\") {\n      var _require = require('./StoreInspector'),\n          inspect = _require.inspect;\n\n      this.DEBUG_inspect = function (dataID) {\n        return inspect(_this, dataID);\n      };\n    } // Register this Relay Environment with Relay DevTools if it exists.\n    // Note: this must always be the last step in the constructor.\n\n\n    var _global = typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : undefined;\n\n    var devToolsHook = _global && _global.__RELAY_DEVTOOLS_HOOK__;\n\n    if (devToolsHook) {\n      devToolsHook.registerEnvironment(this);\n    }\n\n    this._missingFieldHandlers = config.missingFieldHandlers;\n    this._operationTracker = (_config$operationTrac = config.operationTracker) !== null && _config$operationTrac !== void 0 ? _config$operationTrac : new RelayOperationTracker();\n    this._reactFlightPayloadDeserializer = reactFlightPayloadDeserializer;\n  }\n\n  var _proto = RelayModernEnvironment.prototype;\n\n  _proto.getStore = function getStore() {\n    return this._store;\n  };\n\n  _proto.getNetwork = function getNetwork() {\n    return this._network;\n  };\n\n  _proto.getOperationTracker = function getOperationTracker() {\n    return this._operationTracker;\n  };\n\n  _proto.isRequestActive = function isRequestActive(requestIdentifier) {\n    var activeState = this._operationExecutions.get(requestIdentifier);\n\n    return activeState === 'active';\n  };\n\n  _proto.UNSTABLE_getDefaultRenderPolicy = function UNSTABLE_getDefaultRenderPolicy() {\n    return this._defaultRenderPolicy;\n  };\n\n  _proto.applyUpdate = function applyUpdate(optimisticUpdate) {\n    var _this2 = this;\n\n    var dispose = function dispose() {\n      _this2._scheduleUpdates(function () {\n        _this2._publishQueue.revertUpdate(optimisticUpdate);\n\n        _this2._publishQueue.run();\n      });\n    };\n\n    this._scheduleUpdates(function () {\n      _this2._publishQueue.applyUpdate(optimisticUpdate);\n\n      _this2._publishQueue.run();\n    });\n\n    return {\n      dispose: dispose\n    };\n  };\n\n  _proto.revertUpdate = function revertUpdate(update) {\n    var _this3 = this;\n\n    this._scheduleUpdates(function () {\n      _this3._publishQueue.revertUpdate(update);\n\n      _this3._publishQueue.run();\n    });\n  };\n\n  _proto.replaceUpdate = function replaceUpdate(update, newUpdate) {\n    var _this4 = this;\n\n    this._scheduleUpdates(function () {\n      _this4._publishQueue.revertUpdate(update);\n\n      _this4._publishQueue.applyUpdate(newUpdate);\n\n      _this4._publishQueue.run();\n    });\n  };\n\n  _proto.applyMutation = function applyMutation(optimisticConfig) {\n    var _this5 = this;\n\n    var subscription = RelayObservable.create(function (sink) {\n      var source = RelayObservable.create(function (_sink) {});\n      var executor = RelayModernQueryExecutor.execute({\n        operation: optimisticConfig.operation,\n        operationExecutions: _this5._operationExecutions,\n        operationLoader: _this5._operationLoader,\n        optimisticConfig: optimisticConfig,\n        publishQueue: _this5._publishQueue,\n        reactFlightPayloadDeserializer: _this5._reactFlightPayloadDeserializer,\n        scheduler: _this5._scheduler,\n        sink: sink,\n        source: source,\n        store: _this5._store,\n        updater: null,\n        operationTracker: _this5._operationTracker,\n        getDataID: _this5._getDataID,\n        treatMissingFieldsAsNull: _this5._treatMissingFieldsAsNull\n      });\n      return function () {\n        return executor.cancel();\n      };\n    }).subscribe({});\n    return {\n      dispose: function dispose() {\n        return subscription.unsubscribe();\n      }\n    };\n  };\n\n  _proto.check = function check(operation) {\n    if (this._missingFieldHandlers == null || this._missingFieldHandlers.length === 0) {\n      return this._store.check(operation);\n    }\n\n    return this._checkSelectorAndHandleMissingFields(operation, this._missingFieldHandlers);\n  };\n\n  _proto.commitPayload = function commitPayload(operation, payload) {\n    var _this6 = this;\n\n    RelayObservable.create(function (sink) {\n      var executor = RelayModernQueryExecutor.execute({\n        operation: operation,\n        operationExecutions: _this6._operationExecutions,\n        operationLoader: _this6._operationLoader,\n        optimisticConfig: null,\n        publishQueue: _this6._publishQueue,\n        reactFlightPayloadDeserializer: _this6._reactFlightPayloadDeserializer,\n        scheduler: _this6._scheduler,\n        sink: sink,\n        source: RelayObservable.from({\n          data: payload\n        }),\n        store: _this6._store,\n        updater: null,\n        operationTracker: _this6._operationTracker,\n        getDataID: _this6._getDataID,\n        isClientPayload: true,\n        treatMissingFieldsAsNull: _this6._treatMissingFieldsAsNull\n      });\n      return function () {\n        return executor.cancel();\n      };\n    }).subscribe({});\n  };\n\n  _proto.commitUpdate = function commitUpdate(updater) {\n    var _this7 = this;\n\n    this._scheduleUpdates(function () {\n      _this7._publishQueue.commitUpdate(updater);\n\n      _this7._publishQueue.run();\n    });\n  };\n\n  _proto.lookup = function lookup(readSelector) {\n    return this._store.lookup(readSelector);\n  };\n\n  _proto.subscribe = function subscribe(snapshot, callback) {\n    return this._store.subscribe(snapshot, callback);\n  };\n\n  _proto.retain = function retain(operation) {\n    return this._store.retain(operation);\n  };\n\n  _proto.isServer = function isServer() {\n    return this._isServer;\n  };\n\n  _proto._checkSelectorAndHandleMissingFields = function _checkSelectorAndHandleMissingFields(operation, handlers) {\n    var _this8 = this;\n\n    var target = RelayRecordSource.create();\n\n    var result = this._store.check(operation, {\n      target: target,\n      handlers: handlers\n    });\n\n    if (target.size() > 0) {\n      this._scheduleUpdates(function () {\n        _this8._publishQueue.commitSource(target);\n\n        _this8._publishQueue.run();\n      });\n    }\n\n    return result;\n  };\n\n  _proto._scheduleUpdates = function _scheduleUpdates(task) {\n    var scheduler = this._scheduler;\n\n    if (scheduler != null) {\n      scheduler.schedule(task);\n    } else {\n      task();\n    }\n  }\n  /**\n   * Returns an Observable of GraphQLResponse resulting from executing the\n   * provided Query or Subscription operation, each result of which is then\n   * normalized and committed to the publish queue.\n   *\n   * Note: Observables are lazy, so calling this method will do nothing until\n   * the result is subscribed to: environment.execute({...}).subscribe({...}).\n   */\n  ;\n\n  _proto.execute = function execute(_ref) {\n    var _this9 = this;\n\n    var operation = _ref.operation,\n        updater = _ref.updater;\n    return RelayObservable.create(function (sink) {\n      var source = _this9._network.execute(operation.request.node.params, operation.request.variables, operation.request.cacheConfig || {}, null);\n\n      var executor = RelayModernQueryExecutor.execute({\n        operation: operation,\n        operationExecutions: _this9._operationExecutions,\n        operationLoader: _this9._operationLoader,\n        optimisticConfig: null,\n        publishQueue: _this9._publishQueue,\n        reactFlightPayloadDeserializer: _this9._reactFlightPayloadDeserializer,\n        scheduler: _this9._scheduler,\n        sink: sink,\n        source: source,\n        store: _this9._store,\n        updater: updater,\n        operationTracker: _this9._operationTracker,\n        getDataID: _this9._getDataID,\n        treatMissingFieldsAsNull: _this9._treatMissingFieldsAsNull\n      });\n      return function () {\n        return executor.cancel();\n      };\n    });\n  }\n  /**\n   * Returns an Observable of GraphQLResponse resulting from executing the\n   * provided Mutation operation, the result of which is then normalized and\n   * committed to the publish queue along with an optional optimistic response\n   * or updater.\n   *\n   * Note: Observables are lazy, so calling this method will do nothing until\n   * the result is subscribed to:\n   * environment.executeMutation({...}).subscribe({...}).\n   */\n  ;\n\n  _proto.executeMutation = function executeMutation(_ref2) {\n    var _this10 = this;\n\n    var operation = _ref2.operation,\n        optimisticResponse = _ref2.optimisticResponse,\n        optimisticUpdater = _ref2.optimisticUpdater,\n        updater = _ref2.updater,\n        uploadables = _ref2.uploadables;\n    return RelayObservable.create(function (sink) {\n      var optimisticConfig;\n\n      if (optimisticResponse || optimisticUpdater) {\n        optimisticConfig = {\n          operation: operation,\n          response: optimisticResponse,\n          updater: optimisticUpdater\n        };\n      }\n\n      var source = _this10._network.execute(operation.request.node.params, operation.request.variables, (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, operation.request.cacheConfig), {}, {\n        force: true\n      }), uploadables);\n\n      var executor = RelayModernQueryExecutor.execute({\n        operation: operation,\n        operationExecutions: _this10._operationExecutions,\n        operationLoader: _this10._operationLoader,\n        optimisticConfig: optimisticConfig,\n        publishQueue: _this10._publishQueue,\n        reactFlightPayloadDeserializer: _this10._reactFlightPayloadDeserializer,\n        scheduler: _this10._scheduler,\n        sink: sink,\n        source: source,\n        store: _this10._store,\n        updater: updater,\n        operationTracker: _this10._operationTracker,\n        getDataID: _this10._getDataID,\n        treatMissingFieldsAsNull: _this10._treatMissingFieldsAsNull\n      });\n      return function () {\n        return executor.cancel();\n      };\n    });\n  }\n  /**\n   * Returns an Observable of GraphQLResponse resulting from executing the\n   * provided Query or Subscription operation responses, the result of which is\n   * then normalized and comitted to the publish queue.\n   *\n   * Note: Observables are lazy, so calling this method will do nothing until\n   * the result is subscribed to:\n   * environment.executeWithSource({...}).subscribe({...}).\n   */\n  ;\n\n  _proto.executeWithSource = function executeWithSource(_ref3) {\n    var _this11 = this;\n\n    var operation = _ref3.operation,\n        source = _ref3.source;\n    return RelayObservable.create(function (sink) {\n      var executor = RelayModernQueryExecutor.execute({\n        operation: operation,\n        operationExecutions: _this11._operationExecutions,\n        operationLoader: _this11._operationLoader,\n        operationTracker: _this11._operationTracker,\n        optimisticConfig: null,\n        publishQueue: _this11._publishQueue,\n        reactFlightPayloadDeserializer: _this11._reactFlightPayloadDeserializer,\n        scheduler: _this11._scheduler,\n        sink: sink,\n        source: source,\n        store: _this11._store,\n        getDataID: _this11._getDataID,\n        treatMissingFieldsAsNull: _this11._treatMissingFieldsAsNull\n      });\n      return function () {\n        return executor.cancel();\n      };\n    });\n  };\n\n  _proto.toJSON = function toJSON() {\n    var _this$configName;\n\n    return \"RelayModernEnvironment(\".concat((_this$configName = this.configName) !== null && _this$configName !== void 0 ? _this$configName : '', \")\");\n  }\n  /**\n   * Wraps the network with logging to ensure that network requests are\n   * always logged. Relying on each network callsite to be wrapped is\n   * untenable and will eventually lead to holes in the logging.\n   */\n  ;\n\n  _proto.__wrapNetworkWithLogObserver = function __wrapNetworkWithLogObserver(network) {\n    var that = this;\n    return {\n      execute: function execute(params, variables, cacheConfig, uploadables) {\n        var transactionID = generateID();\n        var log = that.__log;\n        var logObserver = {\n          start: function start(subscription) {\n            log({\n              name: 'network.start',\n              transactionID: transactionID,\n              params: params,\n              variables: variables\n            });\n          },\n          next: function next(response) {\n            log({\n              name: 'network.next',\n              transactionID: transactionID,\n              response: response\n            });\n          },\n          error: function error(_error) {\n            log({\n              name: 'network.error',\n              transactionID: transactionID,\n              error: _error\n            });\n          },\n          complete: function complete() {\n            log({\n              name: 'network.complete',\n              transactionID: transactionID\n            });\n          },\n          unsubscribe: function unsubscribe() {\n            log({\n              name: 'network.unsubscribe',\n              transactionID: transactionID\n            });\n          }\n        };\n\n        var logRequestInfo = function logRequestInfo(info) {\n          log({\n            name: 'network.info',\n            transactionID: transactionID,\n            info: info\n          });\n        };\n\n        return network.execute(params, variables, cacheConfig, uploadables, logRequestInfo)[\"do\"](logObserver);\n      }\n    };\n  };\n\n  return RelayModernEnvironment;\n}(); // Add a sigil for detection by `isRelayModernEnvironment()` to avoid a\n// realm-specific instanceof check, and to aid in module tree-shaking to\n// avoid requiring all of RelayRuntime just to detect its environment.\n\n\nRelayModernEnvironment.prototype['@@RelayModernEnvironment'] = true;\n\nfunction emptyFunction() {}\n\nmodule.exports = RelayModernEnvironment;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar RelayFeatureFlags = require('../util/RelayFeatureFlags');\n\nvar areEqual = require(\"fbjs/lib/areEqual\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isScalarAndEqual = require('../util/isScalarAndEqual');\n\nvar reportMissingRequiredFields = require('../util/reportMissingRequiredFields');\n\nvar warning = require(\"fbjs/lib/warning\");\n\nvar _require = require('../query/fetchQueryInternal'),\n    getPromiseForActiveRequest = _require.getPromiseForActiveRequest;\n\nvar _require2 = require('./RelayModernOperationDescriptor'),\n    createRequestDescriptor = _require2.createRequestDescriptor;\n\nvar _require3 = require('./RelayModernSelector'),\n    areEqualSelectors = _require3.areEqualSelectors,\n    createReaderSelector = _require3.createReaderSelector,\n    getSelectorsFromObject = _require3.getSelectorsFromObject;\n\n/**\n * A utility for resolving and subscribing to the results of a fragment spec\n * (key -> fragment mapping) given some \"props\" that determine the root ID\n * and variables to use when reading each fragment. When props are changed via\n * `setProps()`, the resolver will update its results and subscriptions\n * accordingly. Internally, the resolver:\n * - Converts the fragment map & props map into a map of `Selector`s.\n * - Removes any resolvers for any props that became null.\n * - Creates resolvers for any props that became non-null.\n * - Updates resolvers with the latest props.\n *\n * This utility is implemented as an imperative, stateful API for performance\n * reasons: reusing previous resolvers, callback functions, and subscriptions\n * all helps to reduce object allocation and thereby decrease GC time.\n *\n * The `resolve()` function is also lazy and memoized: changes in the store mark\n * the resolver as stale and notify the caller, and the actual results are\n * recomputed the first time `resolve()` is called.\n */\nvar RelayModernFragmentSpecResolver = /*#__PURE__*/function () {\n  function RelayModernFragmentSpecResolver(context, fragments, props, callback) {\n    var _this = this;\n\n    (0, _defineProperty2[\"default\"])(this, \"_onChange\", function () {\n      _this._stale = true;\n\n      if (typeof _this._callback === 'function') {\n        _this._callback();\n      }\n    });\n    this._callback = callback;\n    this._context = context;\n    this._data = {};\n    this._fragments = fragments;\n    this._props = {};\n    this._resolvers = {};\n    this._stale = false;\n    this.setProps(props);\n  }\n\n  var _proto = RelayModernFragmentSpecResolver.prototype;\n\n  _proto.dispose = function dispose() {\n    for (var _key in this._resolvers) {\n      if (this._resolvers.hasOwnProperty(_key)) {\n        disposeCallback(this._resolvers[_key]);\n      }\n    }\n  };\n\n  _proto.resolve = function resolve() {\n    if (this._stale) {\n      // Avoid mapping the object multiple times, which could occur if data for\n      // multiple keys changes in the same event loop.\n      var prevData = this._data;\n      var nextData;\n\n      for (var _key2 in this._resolvers) {\n        if (this._resolvers.hasOwnProperty(_key2)) {\n          var resolver = this._resolvers[_key2];\n          var prevItem = prevData[_key2];\n\n          if (resolver) {\n            var nextItem = resolver.resolve();\n\n            if (nextData || nextItem !== prevItem) {\n              nextData = nextData || (0, _objectSpread2[\"default\"])({}, prevData);\n              nextData[_key2] = nextItem;\n            }\n          } else {\n            var prop = this._props[_key2];\n\n            var _nextItem = prop !== undefined ? prop : null;\n\n            if (nextData || !isScalarAndEqual(_nextItem, prevItem)) {\n              nextData = nextData || (0, _objectSpread2[\"default\"])({}, prevData);\n              nextData[_key2] = _nextItem;\n            }\n          }\n        }\n      }\n\n      this._data = nextData || prevData;\n      this._stale = false;\n    }\n\n    return this._data;\n  };\n\n  _proto.setCallback = function setCallback(callback) {\n    this._callback = callback;\n  };\n\n  _proto.setProps = function setProps(props) {\n    var ownedSelectors = getSelectorsFromObject(this._fragments, props);\n    this._props = {};\n\n    for (var _key3 in ownedSelectors) {\n      if (ownedSelectors.hasOwnProperty(_key3)) {\n        var ownedSelector = ownedSelectors[_key3];\n        var resolver = this._resolvers[_key3];\n\n        if (ownedSelector == null) {\n          if (resolver != null) {\n            resolver.dispose();\n          }\n\n          resolver = null;\n        } else if (ownedSelector.kind === 'PluralReaderSelector') {\n          if (resolver == null) {\n            resolver = new SelectorListResolver(this._context.environment, ownedSelector, this._onChange);\n          } else {\n            !(resolver instanceof SelectorListResolver) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernFragmentSpecResolver: Expected prop `%s` to always be an array.', _key3) : invariant(false) : void 0;\n            resolver.setSelector(ownedSelector);\n          }\n        } else {\n          if (resolver == null) {\n            resolver = new SelectorResolver(this._context.environment, ownedSelector, this._onChange);\n          } else {\n            !(resolver instanceof SelectorResolver) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernFragmentSpecResolver: Expected prop `%s` to always be an object.', _key3) : invariant(false) : void 0;\n            resolver.setSelector(ownedSelector);\n          }\n        }\n\n        this._props[_key3] = props[_key3];\n        this._resolvers[_key3] = resolver;\n      }\n    }\n\n    this._stale = true;\n  };\n\n  _proto.setVariables = function setVariables(variables, request) {\n    for (var _key4 in this._resolvers) {\n      if (this._resolvers.hasOwnProperty(_key4)) {\n        var resolver = this._resolvers[_key4];\n\n        if (resolver) {\n          resolver.setVariables(variables, request);\n        }\n      }\n    }\n\n    this._stale = true;\n  };\n\n  return RelayModernFragmentSpecResolver;\n}();\n/**\n * A resolver for a single Selector.\n */\n\n\nvar SelectorResolver = /*#__PURE__*/function () {\n  function SelectorResolver(environment, selector, callback) {\n    var _this2 = this;\n\n    (0, _defineProperty2[\"default\"])(this, \"_onChange\", function (snapshot) {\n      _this2._data = snapshot.data;\n      _this2._isMissingData = snapshot.isMissingData;\n      _this2._missingRequiredFields = snapshot.missingRequiredFields;\n\n      _this2._callback();\n    });\n\n    var _snapshot = environment.lookup(selector);\n\n    this._callback = callback;\n    this._data = _snapshot.data;\n    this._isMissingData = _snapshot.isMissingData;\n    this._missingRequiredFields = _snapshot.missingRequiredFields;\n    this._environment = environment;\n    this._selector = selector;\n    this._subscription = environment.subscribe(_snapshot, this._onChange);\n  }\n\n  var _proto2 = SelectorResolver.prototype;\n\n  _proto2.dispose = function dispose() {\n    if (this._subscription) {\n      this._subscription.dispose();\n\n      this._subscription = null;\n    }\n  };\n\n  _proto2.resolve = function resolve() {\n    if (RelayFeatureFlags.ENABLE_RELAY_CONTAINERS_SUSPENSE === true && this._isMissingData === true) {\n      var _getPromiseForActiveR;\n\n      // NOTE: This branch exists to handle the case in which:\n      // - A RelayModern container is rendered as a descendant of a Relay Hook\n      //   root using a \"partial\" renderPolicy (this means that eargerly\n      //   reading any cached data that is available instead of blocking\n      //   at the root until the whole query is fetched).\n      // - A parent Relay Hook didnt' suspend earlier on data being fetched,\n      //   either because the fragment data for the parent was available, or\n      //   the parent fragment didn't have any data dependencies.\n      // Even though our Flow types reflect the possiblity of null data, there\n      // might still be cases where it's not handled at runtime becuase the\n      // Flow types are being ignored, or simply not being used (for example,\n      // the case reported here: https://fburl.com/srnbucf8, was due to\n      // misuse of Flow types here: https://fburl.com/g3m0mqqh).\n      // Additionally, even though the null data might be handled without a\n      // runtime error, we might not suspend when we intended to if a parent\n      // Relay Hook (e.g. that is using @defer) decided not to suspend becuase\n      // it's immediate data was already available (even if it was deferred),\n      // or it didn't actually need any data (was just spreading other fragments).\n      // This should eventually go away with something like @optional, where we only\n      // suspend at specific boundaries depending on whether the boundary\n      // can be fulfilled or not.\n      var promise = (_getPromiseForActiveR = getPromiseForActiveRequest(this._environment, this._selector.owner)) !== null && _getPromiseForActiveR !== void 0 ? _getPromiseForActiveR : this._environment.getOperationTracker().getPromiseForPendingOperationsAffectingOwner(this._selector.owner);\n\n      if (promise != null) {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'Relay: Relay Container for fragment `%s` suspended. When using ' + 'features such as @defer or @module, use `useFragment` instead ' + 'of a Relay Container.', this._selector.node.name) : void 0;\n        throw promise;\n      }\n    }\n\n    if (this._missingRequiredFields != null) {\n      reportMissingRequiredFields(this._environment, this._missingRequiredFields);\n    }\n\n    return this._data;\n  };\n\n  _proto2.setSelector = function setSelector(selector) {\n    if (this._subscription != null && areEqualSelectors(selector, this._selector)) {\n      return;\n    }\n\n    this.dispose();\n\n    var snapshot = this._environment.lookup(selector);\n\n    this._data = snapshot.data;\n    this._isMissingData = snapshot.isMissingData;\n    this._missingRequiredFields = snapshot.missingRequiredFields;\n    this._selector = selector;\n    this._subscription = this._environment.subscribe(snapshot, this._onChange);\n  };\n\n  _proto2.setVariables = function setVariables(variables, request) {\n    if (areEqual(variables, this._selector.variables)) {\n      // If we're not actually setting new variables, we don't actually want\n      // to create a new fragment owner, since areEqualSelectors relies on\n      // owner identity.\n      // In fact, we don't even need to try to attempt to set a new selector.\n      // When fragment ownership is not enabled, setSelector will also bail\n      // out since the selector doesn't really change, so we're doing it here\n      // earlier.\n      return;\n    } // NOTE: We manually create the request descriptor here instead of\n    // calling createOperationDescriptor() because we want to set a\n    // descriptor with *unaltered* variables as the fragment owner.\n    // This is a hack that allows us to preserve existing (broken)\n    // behavior of RelayModern containers while using fragment ownership\n    // to propagate variables instead of Context.\n    // For more details, see the summary of D13999308\n\n\n    var requestDescriptor = createRequestDescriptor(request, variables);\n    var selector = createReaderSelector(this._selector.node, this._selector.dataID, variables, requestDescriptor);\n    this.setSelector(selector);\n  };\n\n  return SelectorResolver;\n}();\n/**\n * A resolver for an array of Selectors.\n */\n\n\nvar SelectorListResolver = /*#__PURE__*/function () {\n  function SelectorListResolver(environment, selector, callback) {\n    var _this3 = this;\n\n    (0, _defineProperty2[\"default\"])(this, \"_onChange\", function (data) {\n      _this3._stale = true;\n\n      _this3._callback();\n    });\n    this._callback = callback;\n    this._data = [];\n    this._environment = environment;\n    this._resolvers = [];\n    this._stale = true;\n    this.setSelector(selector);\n  }\n\n  var _proto3 = SelectorListResolver.prototype;\n\n  _proto3.dispose = function dispose() {\n    this._resolvers.forEach(disposeCallback);\n  };\n\n  _proto3.resolve = function resolve() {\n    if (this._stale) {\n      // Avoid mapping the array multiple times, which could occur if data for\n      // multiple indices changes in the same event loop.\n      var prevData = this._data;\n      var nextData;\n\n      for (var ii = 0; ii < this._resolvers.length; ii++) {\n        var prevItem = prevData[ii];\n\n        var nextItem = this._resolvers[ii].resolve();\n\n        if (nextData || nextItem !== prevItem) {\n          nextData = nextData || prevData.slice(0, ii);\n          nextData.push(nextItem);\n        }\n      }\n\n      if (!nextData && this._resolvers.length !== prevData.length) {\n        nextData = prevData.slice(0, this._resolvers.length);\n      }\n\n      this._data = nextData || prevData;\n      this._stale = false;\n    }\n\n    return this._data;\n  };\n\n  _proto3.setSelector = function setSelector(selector) {\n    var selectors = selector.selectors;\n\n    while (this._resolvers.length > selectors.length) {\n      var resolver = this._resolvers.pop();\n\n      resolver.dispose();\n    }\n\n    for (var ii = 0; ii < selectors.length; ii++) {\n      if (ii < this._resolvers.length) {\n        this._resolvers[ii].setSelector(selectors[ii]);\n      } else {\n        this._resolvers[ii] = new SelectorResolver(this._environment, selectors[ii], this._onChange);\n      }\n    }\n\n    this._stale = true;\n  };\n\n  _proto3.setVariables = function setVariables(variables, request) {\n    this._resolvers.forEach(function (resolver) {\n      return resolver.setVariables(variables, request);\n    });\n\n    this._stale = true;\n  };\n\n  return SelectorListResolver;\n}();\n\nfunction disposeCallback(disposable) {\n  disposable && disposable.dispose();\n}\n\nmodule.exports = RelayModernFragmentSpecResolver;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar deepFreeze = require('../util/deepFreeze');\n\nvar getRequestIdentifier = require('../util/getRequestIdentifier');\n\nvar _require = require('./RelayConcreteVariables'),\n    getOperationVariables = _require.getOperationVariables;\n\nvar _require2 = require('./RelayModernSelector'),\n    createNormalizationSelector = _require2.createNormalizationSelector,\n    createReaderSelector = _require2.createReaderSelector;\n\nvar _require3 = require('./RelayStoreUtils'),\n    ROOT_ID = _require3.ROOT_ID;\n\n/**\n * Creates an instance of the `OperationDescriptor` type defined in\n * `RelayStoreTypes` given an operation and some variables. The input variables\n * are filtered to exclude variables that do not match defined arguments on the\n * operation, and default values are populated for null values.\n */\nfunction createOperationDescriptor(request, variables, cacheConfig) {\n  var dataID = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : ROOT_ID;\n  var operation = request.operation;\n  var operationVariables = getOperationVariables(operation, variables);\n  var requestDescriptor = createRequestDescriptor(request, operationVariables, cacheConfig);\n  var operationDescriptor = {\n    fragment: createReaderSelector(request.fragment, dataID, operationVariables, requestDescriptor),\n    request: requestDescriptor,\n    root: createNormalizationSelector(operation, dataID, operationVariables)\n  };\n\n  if (process.env.NODE_ENV !== \"production\") {\n    // Freezing properties short-circuits a deepFreeze of snapshots that contain\n    // an OperationDescriptor via their selector's owner, avoiding stack\n    // overflow on larger queries.\n    Object.freeze(operationDescriptor.fragment);\n    Object.freeze(operationDescriptor.root);\n    Object.freeze(operationDescriptor);\n  }\n\n  return operationDescriptor;\n}\n\nfunction createRequestDescriptor(request, variables, cacheConfig) {\n  var requestDescriptor = {\n    identifier: getRequestIdentifier(request.params, variables),\n    node: request,\n    variables: variables,\n    cacheConfig: cacheConfig\n  };\n\n  if (process.env.NODE_ENV !== \"production\") {\n    deepFreeze(variables);\n    Object.freeze(request);\n    Object.freeze(requestDescriptor);\n  }\n\n  return requestDescriptor;\n}\n\nmodule.exports = {\n  createOperationDescriptor: createOperationDescriptor,\n  createRequestDescriptor: createRequestDescriptor\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @emails oncall+relay\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar RelayError = require('../util/RelayError');\n\nvar RelayModernRecord = require('./RelayModernRecord');\n\nvar RelayObservable = require('../network/RelayObservable');\n\nvar RelayRecordSource = require('./RelayRecordSource');\n\nvar RelayResponseNormalizer = require('./RelayResponseNormalizer');\n\nvar getOperation = require('../util/getOperation');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar stableCopy = require('../util/stableCopy');\n\nvar warning = require(\"fbjs/lib/warning\");\n\nvar _require = require('./ClientID'),\n    generateClientID = _require.generateClientID;\n\nvar _require2 = require('./RelayModernSelector'),\n    createNormalizationSelector = _require2.createNormalizationSelector;\n\nvar _require3 = require('./RelayStoreUtils'),\n    ROOT_TYPE = _require3.ROOT_TYPE,\n    TYPENAME_KEY = _require3.TYPENAME_KEY,\n    getStorageKey = _require3.getStorageKey;\n\nfunction execute(config) {\n  return new Executor(config);\n}\n/**\n * Coordinates the execution of a query, handling network callbacks\n * including optimistic payloads, standard payloads, resolution of match\n * dependencies, etc.\n */\n\n\nvar Executor = /*#__PURE__*/function () {\n  function Executor(_ref) {\n    var _this = this;\n\n    var operation = _ref.operation,\n        operationExecutions = _ref.operationExecutions,\n        operationLoader = _ref.operationLoader,\n        optimisticConfig = _ref.optimisticConfig,\n        publishQueue = _ref.publishQueue,\n        scheduler = _ref.scheduler,\n        sink = _ref.sink,\n        source = _ref.source,\n        store = _ref.store,\n        updater = _ref.updater,\n        operationTracker = _ref.operationTracker,\n        treatMissingFieldsAsNull = _ref.treatMissingFieldsAsNull,\n        getDataID = _ref.getDataID,\n        isClientPayload = _ref.isClientPayload,\n        reactFlightPayloadDeserializer = _ref.reactFlightPayloadDeserializer;\n    this._getDataID = getDataID;\n    this._treatMissingFieldsAsNull = treatMissingFieldsAsNull;\n    this._incrementalPayloadsPending = false;\n    this._incrementalResults = new Map();\n    this._nextSubscriptionId = 0;\n    this._operation = operation;\n    this._operationExecutions = operationExecutions;\n    this._operationLoader = operationLoader;\n    this._operationTracker = operationTracker;\n    this._operationUpdateEpochs = new Map();\n    this._optimisticUpdates = null;\n    this._pendingModulePayloadsCount = 0;\n    this._publishQueue = publishQueue;\n    this._scheduler = scheduler;\n    this._sink = sink;\n    this._source = new Map();\n    this._state = 'started';\n    this._store = store;\n    this._subscriptions = new Map();\n    this._updater = updater;\n    this._isClientPayload = isClientPayload === true;\n    this._reactFlightPayloadDeserializer = reactFlightPayloadDeserializer;\n    var id = this._nextSubscriptionId++;\n    source.subscribe({\n      complete: function complete() {\n        return _this._complete(id);\n      },\n      error: function error(_error2) {\n        return _this._error(_error2);\n      },\n      next: function next(response) {\n        try {\n          _this._next(id, response);\n        } catch (error) {\n          sink.error(error);\n        }\n      },\n      start: function start(subscription) {\n        return _this._start(id, subscription);\n      }\n    });\n\n    if (optimisticConfig != null) {\n      this._processOptimisticResponse(optimisticConfig.response != null ? {\n        data: optimisticConfig.response\n      } : null, optimisticConfig.updater, false);\n    }\n  } // Cancel any pending execution tasks and mark the executor as completed.\n\n\n  var _proto = Executor.prototype;\n\n  _proto.cancel = function cancel() {\n    var _this2 = this;\n\n    if (this._state === 'completed') {\n      return;\n    }\n\n    this._state = 'completed';\n\n    this._operationExecutions[\"delete\"](this._operation.request.identifier);\n\n    if (this._subscriptions.size !== 0) {\n      this._subscriptions.forEach(function (sub) {\n        return sub.unsubscribe();\n      });\n\n      this._subscriptions.clear();\n    }\n\n    var optimisticUpdates = this._optimisticUpdates;\n\n    if (optimisticUpdates !== null) {\n      this._optimisticUpdates = null;\n      optimisticUpdates.forEach(function (update) {\n        return _this2._publishQueue.revertUpdate(update);\n      });\n\n      this._publishQueue.run();\n    }\n\n    this._incrementalResults.clear();\n\n    this._completeOperationTracker();\n\n    if (this._retainDisposable) {\n      this._retainDisposable.dispose();\n\n      this._retainDisposable = null;\n    }\n  };\n\n  _proto._updateActiveState = function _updateActiveState() {\n    var activeState;\n\n    switch (this._state) {\n      case 'started':\n        {\n          activeState = 'active';\n          break;\n        }\n\n      case 'loading_incremental':\n        {\n          activeState = 'active';\n          break;\n        }\n\n      case 'completed':\n        {\n          activeState = 'inactive';\n          break;\n        }\n\n      case 'loading_final':\n        {\n          activeState = this._pendingModulePayloadsCount > 0 ? 'active' : 'inactive';\n          break;\n        }\n\n      default:\n        this._state;\n        !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernQueryExecutor: invalid executor state.') : invariant(false) : void 0;\n    }\n\n    this._operationExecutions.set(this._operation.request.identifier, activeState);\n  };\n\n  _proto._schedule = function _schedule(task) {\n    var _this3 = this;\n\n    var scheduler = this._scheduler;\n\n    if (scheduler != null) {\n      var _id2 = this._nextSubscriptionId++;\n\n      RelayObservable.create(function (sink) {\n        var cancellationToken = scheduler.schedule(function () {\n          try {\n            task();\n            sink.complete();\n          } catch (error) {\n            sink.error(error);\n          }\n        });\n        return function () {\n          return scheduler.cancel(cancellationToken);\n        };\n      }).subscribe({\n        complete: function complete() {\n          return _this3._complete(_id2);\n        },\n        error: function error(_error3) {\n          return _this3._error(_error3);\n        },\n        start: function start(subscription) {\n          return _this3._start(_id2, subscription);\n        }\n      });\n    } else {\n      task();\n    }\n  };\n\n  _proto._complete = function _complete(id) {\n    this._subscriptions[\"delete\"](id);\n\n    if (this._subscriptions.size === 0) {\n      this.cancel();\n\n      this._sink.complete();\n    }\n  };\n\n  _proto._error = function _error(error) {\n    this.cancel();\n\n    this._sink.error(error);\n  };\n\n  _proto._start = function _start(id, subscription) {\n    this._subscriptions.set(id, subscription);\n\n    this._updateActiveState();\n  } // Handle a raw GraphQL response.\n  ;\n\n  _proto._next = function _next(_id, response) {\n    var _this4 = this;\n\n    this._schedule(function () {\n      _this4._handleNext(response);\n\n      _this4._maybeCompleteSubscriptionOperationTracking();\n    });\n  };\n\n  _proto._handleErrorResponse = function _handleErrorResponse(responses) {\n    var _this5 = this;\n\n    var results = [];\n    responses.forEach(function (response) {\n      if (response.data === null && response.extensions != null && !response.hasOwnProperty('errors')) {\n        // Skip extensions-only payloads\n        return;\n      } else if (response.data == null) {\n        // Error if any other payload in the batch is missing data, regardless of whether\n        // it had `errors` or not.\n        var errors = response.hasOwnProperty('errors') && response.errors != null ? response.errors : null;\n        var messages = errors ? errors.map(function (_ref2) {\n          var message = _ref2.message;\n          return message;\n        }).join('\\n') : '(No errors)';\n        var error = RelayError.create('RelayNetwork', 'No data returned for operation `' + _this5._operation.request.node.params.name + '`, got error(s):\\n' + messages + '\\n\\nSee the error `source` property for more information.');\n        error.source = {\n          errors: errors,\n          operation: _this5._operation.request.node,\n          variables: _this5._operation.request.variables\n        }; // In V8, Error objects keep the closure scope chain alive until the\n        // err.stack property is accessed.\n\n        error.stack;\n        throw error;\n      } else {\n        var responseWithData = response;\n        results.push(responseWithData);\n      }\n    });\n    return results;\n  }\n  /**\n   * This method return boolean to indicate if the optimistic\n   * response has been handled\n   */\n  ;\n\n  _proto._handleOptimisticResponses = function _handleOptimisticResponses(responses) {\n    var _response$extensions;\n\n    if (responses.length > 1) {\n      if (responses.some(function (responsePart) {\n        var _responsePart$extensi;\n\n        return ((_responsePart$extensi = responsePart.extensions) === null || _responsePart$extensi === void 0 ? void 0 : _responsePart$extensi.isOptimistic) === true;\n      })) {\n        !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Optimistic responses cannot be batched.') : invariant(false) : void 0;\n      }\n\n      return false;\n    }\n\n    var response = responses[0];\n    var isOptimistic = ((_response$extensions = response.extensions) === null || _response$extensions === void 0 ? void 0 : _response$extensions.isOptimistic) === true;\n\n    if (isOptimistic && this._state !== 'started') {\n      !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernQueryExecutor: optimistic payload received after server payload.') : invariant(false) : void 0;\n    }\n\n    if (isOptimistic) {\n      this._processOptimisticResponse(response, null, this._treatMissingFieldsAsNull);\n\n      this._sink.next(response);\n\n      return true;\n    }\n\n    return false;\n  };\n\n  _proto._handleNext = function _handleNext(response) {\n    if (this._state === 'completed') {\n      return;\n    }\n\n    var responses = Array.isArray(response) ? response : [response];\n\n    var responsesWithData = this._handleErrorResponse(responses);\n\n    if (responsesWithData.length === 0) {\n      // no results with data, nothing to process\n      // this can occur with extensions-only payloads\n      var isFinal = responses.some(function (x) {\n        var _x$extensions;\n\n        return ((_x$extensions = x.extensions) === null || _x$extensions === void 0 ? void 0 : _x$extensions.is_final) === true;\n      });\n\n      if (isFinal) {\n        this._state = 'loading_final';\n\n        this._updateActiveState();\n\n        this._incrementalPayloadsPending = false;\n      }\n\n      this._sink.next(response);\n\n      return;\n    } // Next, handle optimistic responses\n\n\n    var isOptimistic = this._handleOptimisticResponses(responsesWithData);\n\n    if (isOptimistic) {\n      return;\n    }\n\n    var _partitionGraphQLResp = partitionGraphQLResponses(responsesWithData),\n        nonIncrementalResponses = _partitionGraphQLResp[0],\n        incrementalResponses = _partitionGraphQLResp[1]; // In theory this doesn't preserve the ordering of the batch.\n    // The idea is that a batch is always:\n    //  * at most one non-incremental payload\n    //  * followed by zero or more incremental payloads\n    // The non-incremental payload can appear if the server sends a batch\n    // with the initial payload followed by some early-to-resolve incremental\n    // payloads (although, can that even happen?)\n\n\n    if (nonIncrementalResponses.length > 0) {\n      var payloadFollowups = this._processResponses(nonIncrementalResponses); // Please note that we're passing `this._operation` to the publish\n      // queue here, which will later passed to the store (via notify)\n      // to indicate that this is an operation that caused the store to update\n\n\n      var updatedOwners = this._publishQueue.run(this._operation);\n\n      this._updateOperationTracker(updatedOwners);\n\n      this._processPayloadFollowups(payloadFollowups);\n\n      if (this._incrementalPayloadsPending && !this._retainDisposable) {\n        this._retainDisposable = this._store.retain(this._operation);\n      }\n    }\n\n    if (incrementalResponses.length > 0) {\n      var _payloadFollowups = this._processIncrementalResponses(incrementalResponses); // For the incremental case, we're only handling follow-up responses\n      // for already initiated operation (and we're not passing it to\n      // the run(...) call)\n\n\n      var _updatedOwners = this._publishQueue.run();\n\n      this._updateOperationTracker(_updatedOwners);\n\n      this._processPayloadFollowups(_payloadFollowups);\n    }\n\n    this._sink.next(response);\n  };\n\n  _proto._processOptimisticResponse = function _processOptimisticResponse(response, updater, treatMissingFieldsAsNull) {\n    var _this6 = this;\n\n    !(this._optimisticUpdates === null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'environment.execute: only support one optimistic response per ' + 'execute.') : invariant(false) : void 0;\n\n    if (response == null && updater == null) {\n      return;\n    }\n\n    var optimisticUpdates = [];\n\n    if (response) {\n      var payload = normalizeResponse(response, this._operation.root, ROOT_TYPE, {\n        getDataID: this._getDataID,\n        path: [],\n        reactFlightPayloadDeserializer: this._reactFlightPayloadDeserializer,\n        treatMissingFieldsAsNull: treatMissingFieldsAsNull\n      });\n      validateOptimisticResponsePayload(payload);\n      optimisticUpdates.push({\n        operation: this._operation,\n        payload: payload,\n        updater: updater\n      });\n\n      this._processOptimisticFollowups(payload, optimisticUpdates);\n    } else if (updater) {\n      optimisticUpdates.push({\n        operation: this._operation,\n        payload: {\n          errors: null,\n          fieldPayloads: null,\n          incrementalPlaceholders: null,\n          moduleImportPayloads: null,\n          source: RelayRecordSource.create(),\n          isFinal: false\n        },\n        updater: updater\n      });\n    }\n\n    this._optimisticUpdates = optimisticUpdates;\n    optimisticUpdates.forEach(function (update) {\n      return _this6._publishQueue.applyUpdate(update);\n    });\n\n    this._publishQueue.run();\n  };\n\n  _proto._processOptimisticFollowups = function _processOptimisticFollowups(payload, optimisticUpdates) {\n    if (payload.moduleImportPayloads && payload.moduleImportPayloads.length) {\n      var moduleImportPayloads = payload.moduleImportPayloads;\n      var operationLoader = this._operationLoader;\n      !operationLoader ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected an operationLoader to be ' + 'configured when using `@match`.') : invariant(false) : void 0;\n\n      var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(moduleImportPayloads),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var moduleImportPayload = _step.value;\n          var operation = operationLoader.get(moduleImportPayload.operationReference);\n\n          if (operation == null) {\n            this._processAsyncOptimisticModuleImport(operationLoader, moduleImportPayload);\n          } else {\n            var moduleImportOptimisticUpdates = this._processOptimisticModuleImport(operation, moduleImportPayload);\n\n            optimisticUpdates.push.apply(optimisticUpdates, (0, _toConsumableArray2[\"default\"])(moduleImportOptimisticUpdates));\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  };\n\n  _proto._normalizeModuleImport = function _normalizeModuleImport(moduleImportPayload, operation) {\n    var selector = createNormalizationSelector(operation, moduleImportPayload.dataID, moduleImportPayload.variables);\n    return normalizeResponse({\n      data: moduleImportPayload.data\n    }, selector, moduleImportPayload.typeName, {\n      getDataID: this._getDataID,\n      path: moduleImportPayload.path,\n      reactFlightPayloadDeserializer: this._reactFlightPayloadDeserializer,\n      treatMissingFieldsAsNull: this._treatMissingFieldsAsNull\n    });\n  };\n\n  _proto._processOptimisticModuleImport = function _processOptimisticModuleImport(normalizationRootNode, moduleImportPayload) {\n    var operation = getOperation(normalizationRootNode);\n    var optimisticUpdates = [];\n\n    var modulePayload = this._normalizeModuleImport(moduleImportPayload, operation);\n\n    validateOptimisticResponsePayload(modulePayload);\n    optimisticUpdates.push({\n      operation: this._operation,\n      payload: modulePayload,\n      updater: null\n    });\n\n    this._processOptimisticFollowups(modulePayload, optimisticUpdates);\n\n    return optimisticUpdates;\n  };\n\n  _proto._processAsyncOptimisticModuleImport = function _processAsyncOptimisticModuleImport(operationLoader, moduleImportPayload) {\n    var _this7 = this;\n\n    operationLoader.load(moduleImportPayload.operationReference).then(function (operation) {\n      if (operation == null || _this7._state !== 'started') {\n        return;\n      }\n\n      var moduleImportOptimisticUpdates = _this7._processOptimisticModuleImport(operation, moduleImportPayload);\n\n      moduleImportOptimisticUpdates.forEach(function (update) {\n        return _this7._publishQueue.applyUpdate(update);\n      });\n\n      if (_this7._optimisticUpdates == null) {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayModernQueryExecutor: Unexpected ModuleImport optimistic ' + 'update in operation %s.' + _this7._operation.request.node.params.name) : void 0;\n      } else {\n        var _this$_optimisticUpda;\n\n        (_this$_optimisticUpda = _this7._optimisticUpdates).push.apply(_this$_optimisticUpda, (0, _toConsumableArray2[\"default\"])(moduleImportOptimisticUpdates));\n\n        _this7._publishQueue.run();\n      }\n    });\n  };\n\n  _proto._processResponses = function _processResponses(responses) {\n    var _this8 = this;\n\n    if (this._optimisticUpdates !== null) {\n      this._optimisticUpdates.forEach(function (update) {\n        return _this8._publishQueue.revertUpdate(update);\n      });\n\n      this._optimisticUpdates = null;\n    }\n\n    this._incrementalPayloadsPending = false;\n\n    this._incrementalResults.clear();\n\n    this._source.clear();\n\n    return responses.map(function (payloadPart) {\n      var relayPayload = normalizeResponse(payloadPart, _this8._operation.root, ROOT_TYPE, {\n        getDataID: _this8._getDataID,\n        path: [],\n        reactFlightPayloadDeserializer: _this8._reactFlightPayloadDeserializer,\n        treatMissingFieldsAsNull: _this8._treatMissingFieldsAsNull\n      });\n\n      _this8._publishQueue.commitPayload(_this8._operation, relayPayload, _this8._updater);\n\n      return relayPayload;\n    });\n  }\n  /**\n   * Handles any follow-up actions for a Relay payload for @match, @defer,\n   * and @stream directives.\n   */\n  ;\n\n  _proto._processPayloadFollowups = function _processPayloadFollowups(payloads) {\n    var _this9 = this;\n\n    if (this._state === 'completed') {\n      return;\n    }\n\n    payloads.forEach(function (payload) {\n      var incrementalPlaceholders = payload.incrementalPlaceholders,\n          moduleImportPayloads = payload.moduleImportPayloads,\n          isFinal = payload.isFinal;\n      _this9._state = isFinal ? 'loading_final' : 'loading_incremental';\n\n      _this9._updateActiveState();\n\n      if (isFinal) {\n        _this9._incrementalPayloadsPending = false;\n      }\n\n      if (moduleImportPayloads && moduleImportPayloads.length !== 0) {\n        var operationLoader = _this9._operationLoader;\n        !operationLoader ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected an operationLoader to be ' + 'configured when using `@match`.') : invariant(false) : void 0;\n        moduleImportPayloads.forEach(function (moduleImportPayload) {\n          _this9._processModuleImportPayload(moduleImportPayload, operationLoader);\n        });\n      }\n\n      if (incrementalPlaceholders && incrementalPlaceholders.length !== 0) {\n        _this9._incrementalPayloadsPending = _this9._state !== 'loading_final';\n        incrementalPlaceholders.forEach(function (incrementalPlaceholder) {\n          _this9._processIncrementalPlaceholder(payload, incrementalPlaceholder);\n        });\n\n        if (_this9._isClientPayload || _this9._state === 'loading_final') {\n          // The query has defer/stream selections that are enabled, but either\n          // the server indicated that this is a \"final\" payload: no incremental\n          // payloads will be delivered, then warn that the query was (likely)\n          // executed on the server in non-streaming mode, with incremental\n          // delivery disabled; or this is a client payload, and there will be\n          // no incremental payload.\n          process.env.NODE_ENV !== \"production\" ? warning(_this9._isClientPayload, 'RelayModernEnvironment: Operation `%s` contains @defer/@stream ' + 'directives but was executed in non-streaming mode. See ' + 'https://fburl.com/relay-incremental-delivery-non-streaming-warning.', _this9._operation.request.node.params.name) : void 0; // But eagerly process any deferred payloads\n\n          var relayPayloads = [];\n          incrementalPlaceholders.forEach(function (placeholder) {\n            if (placeholder.kind === 'defer') {\n              relayPayloads.push(_this9._processDeferResponse(placeholder.label, placeholder.path, placeholder, {\n                data: placeholder.data\n              }));\n            }\n          });\n\n          if (relayPayloads.length > 0) {\n            var updatedOwners = _this9._publishQueue.run();\n\n            _this9._updateOperationTracker(updatedOwners);\n\n            _this9._processPayloadFollowups(relayPayloads);\n          }\n        }\n      }\n    });\n  };\n\n  _proto._maybeCompleteSubscriptionOperationTracking = function _maybeCompleteSubscriptionOperationTracking() {\n    var isSubscriptionOperation = this._operation.request.node.params.operationKind === 'subscription';\n\n    if (!isSubscriptionOperation) {\n      return;\n    }\n\n    if (this._pendingModulePayloadsCount === 0 && this._incrementalPayloadsPending === false) {\n      this._completeOperationTracker();\n    }\n  }\n  /**\n   * Processes a ModuleImportPayload, asynchronously resolving the normalization\n   * AST and using it to normalize the field data into a RelayResponsePayload.\n   * The resulting payload may contain other incremental payloads (match,\n   * defer, stream, etc); these are handled by calling\n   * `_processPayloadFollowups()`.\n   */\n  ;\n\n  _proto._processModuleImportPayload = function _processModuleImportPayload(moduleImportPayload, operationLoader) {\n    var _this10 = this;\n\n    var node = operationLoader.get(moduleImportPayload.operationReference);\n\n    if (node != null) {\n      var operation = getOperation(node); // If the operation module is available synchronously, normalize the\n      // data synchronously.\n\n      this._handleModuleImportPayload(moduleImportPayload, operation);\n\n      this._maybeCompleteSubscriptionOperationTracking();\n    } else {\n      // Otherwise load the operation module and schedule a task to normalize\n      // the data when the module is available.\n      var _id3 = this._nextSubscriptionId++;\n\n      this._pendingModulePayloadsCount++;\n\n      var decrementPendingCount = function decrementPendingCount() {\n        _this10._pendingModulePayloadsCount--;\n\n        _this10._maybeCompleteSubscriptionOperationTracking();\n      }; // Observable.from(operationLoader.load()) wouldn't catch synchronous\n      // errors thrown by the load function, which is user-defined. Guard\n      // against that with Observable.from(new Promise(<work>)).\n\n\n      RelayObservable.from(new Promise(function (resolve, reject) {\n        operationLoader.load(moduleImportPayload.operationReference).then(resolve, reject);\n      })).map(function (operation) {\n        if (operation != null) {\n          _this10._schedule(function () {\n            _this10._handleModuleImportPayload(moduleImportPayload, getOperation(operation));\n          });\n        }\n      }).subscribe({\n        complete: function complete() {\n          _this10._complete(_id3);\n\n          decrementPendingCount();\n        },\n        error: function error(_error4) {\n          _this10._error(_error4);\n\n          decrementPendingCount();\n        },\n        start: function start(subscription) {\n          return _this10._start(_id3, subscription);\n        }\n      });\n    }\n  };\n\n  _proto._handleModuleImportPayload = function _handleModuleImportPayload(moduleImportPayload, operation) {\n    var relayPayload = this._normalizeModuleImport(moduleImportPayload, operation);\n\n    this._publishQueue.commitPayload(this._operation, relayPayload);\n\n    var updatedOwners = this._publishQueue.run();\n\n    this._updateOperationTracker(updatedOwners);\n\n    this._processPayloadFollowups([relayPayload]);\n  }\n  /**\n   * The executor now knows that GraphQL responses are expected for a given\n   * label/path:\n   * - Store the placeholder in order to process any future responses that may\n   *   arrive.\n   * - Then process any responses that had already arrived.\n   *\n   * The placeholder contains the normalization selector, path (for nested\n   * defer/stream), and other metadata used to normalize the incremental\n   * response(s).\n   */\n  ;\n\n  _proto._processIncrementalPlaceholder = function _processIncrementalPlaceholder(relayPayload, placeholder) {\n    var _relayPayload$fieldPa;\n\n    // Update the label => path => placeholder map\n    var label = placeholder.label,\n        path = placeholder.path;\n    var pathKey = path.map(String).join('.');\n\n    var resultForLabel = this._incrementalResults.get(label);\n\n    if (resultForLabel == null) {\n      resultForLabel = new Map();\n\n      this._incrementalResults.set(label, resultForLabel);\n    }\n\n    var resultForPath = resultForLabel.get(pathKey);\n    var pendingResponses = resultForPath != null && resultForPath.kind === 'response' ? resultForPath.responses : null;\n    resultForLabel.set(pathKey, {\n      kind: 'placeholder',\n      placeholder: placeholder\n    }); // Store references to the parent node to allow detecting concurrent\n    // modifications to the parent before items arrive and to replay\n    // handle field payloads to account for new information on source records.\n\n    var parentID;\n\n    if (placeholder.kind === 'stream') {\n      parentID = placeholder.parentID;\n    } else if (placeholder.kind === 'defer') {\n      parentID = placeholder.selector.dataID;\n    } else {\n      placeholder;\n      !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unsupported incremental placeholder kind `%s`.', placeholder.kind) : invariant(false) : void 0;\n    }\n\n    var parentRecord = relayPayload.source.get(parentID);\n    var parentPayloads = ((_relayPayload$fieldPa = relayPayload.fieldPayloads) !== null && _relayPayload$fieldPa !== void 0 ? _relayPayload$fieldPa : []).filter(function (fieldPayload) {\n      var fieldID = generateClientID(fieldPayload.dataID, fieldPayload.fieldKey);\n      return (// handlers applied to the streamed field itself\n        fieldPayload.dataID === parentID || // handlers applied to a field on an ancestor object, where\n        // ancestor.field links to the parent record (example: connections)\n        fieldID === parentID\n      );\n    }); // If an incremental payload exists for some id that record should also\n    // exist.\n\n    !(parentRecord != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected record `%s` to exist.', parentID) : invariant(false) : void 0;\n    var nextParentRecord;\n    var nextParentPayloads;\n\n    var previousParentEntry = this._source.get(parentID);\n\n    if (previousParentEntry != null) {\n      // If a previous entry exists, merge the previous/next records and\n      // payloads together.\n      nextParentRecord = RelayModernRecord.update(previousParentEntry.record, parentRecord);\n      var handlePayloads = new Map();\n\n      var dedupePayload = function dedupePayload(payload) {\n        var key = stableStringify(payload);\n        handlePayloads.set(key, payload);\n      };\n\n      previousParentEntry.fieldPayloads.forEach(dedupePayload);\n      parentPayloads.forEach(dedupePayload);\n      nextParentPayloads = Array.from(handlePayloads.values());\n    } else {\n      nextParentRecord = parentRecord;\n      nextParentPayloads = parentPayloads;\n    }\n\n    this._source.set(parentID, {\n      record: nextParentRecord,\n      fieldPayloads: nextParentPayloads\n    }); // If there were any queued responses, process them now that placeholders\n    // are in place\n\n\n    if (pendingResponses != null) {\n      var payloadFollowups = this._processIncrementalResponses(pendingResponses);\n\n      var updatedOwners = this._publishQueue.run();\n\n      this._updateOperationTracker(updatedOwners);\n\n      this._processPayloadFollowups(payloadFollowups);\n    }\n  }\n  /**\n   * Lookup the placeholder the describes how to process an incremental\n   * response, normalize/publish it, and process any nested defer/match/stream\n   * metadata.\n   */\n  ;\n\n  _proto._processIncrementalResponses = function _processIncrementalResponses(incrementalResponses) {\n    var _this11 = this;\n\n    var relayPayloads = [];\n    incrementalResponses.forEach(function (incrementalResponse) {\n      var label = incrementalResponse.label,\n          path = incrementalResponse.path,\n          response = incrementalResponse.response;\n\n      var resultForLabel = _this11._incrementalResults.get(label);\n\n      if (resultForLabel == null) {\n        resultForLabel = new Map();\n\n        _this11._incrementalResults.set(label, resultForLabel);\n      }\n\n      if (label.indexOf('$defer$') !== -1) {\n        var pathKey = path.map(String).join('.');\n        var resultForPath = resultForLabel.get(pathKey);\n\n        if (resultForPath == null) {\n          resultForPath = {\n            kind: 'response',\n            responses: [incrementalResponse]\n          };\n          resultForLabel.set(pathKey, resultForPath);\n          return;\n        } else if (resultForPath.kind === 'response') {\n          resultForPath.responses.push(incrementalResponse);\n          return;\n        }\n\n        var placeholder = resultForPath.placeholder;\n        !(placeholder.kind === 'defer') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected data for path `%s` for label `%s` ' + 'to be data for @defer, was `@%s`.', pathKey, label, placeholder.kind) : invariant(false) : void 0;\n        relayPayloads.push(_this11._processDeferResponse(label, path, placeholder, response));\n      } else {\n        // @stream payload path values end in the field name and item index,\n        // but Relay records paths relative to the parent of the stream node:\n        // therefore we strip the last two elements just to lookup the path\n        // (the item index is used later to insert the element in the list)\n        var _pathKey = path.slice(0, -2).map(String).join('.');\n\n        var _resultForPath = resultForLabel.get(_pathKey);\n\n        if (_resultForPath == null) {\n          _resultForPath = {\n            kind: 'response',\n            responses: [incrementalResponse]\n          };\n          resultForLabel.set(_pathKey, _resultForPath);\n          return;\n        } else if (_resultForPath.kind === 'response') {\n          _resultForPath.responses.push(incrementalResponse);\n\n          return;\n        }\n\n        var _placeholder = _resultForPath.placeholder;\n        !(_placeholder.kind === 'stream') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected data for path `%s` for label `%s` ' + 'to be data for @stream, was `@%s`.', _pathKey, label, _placeholder.kind) : invariant(false) : void 0;\n        relayPayloads.push(_this11._processStreamResponse(label, path, _placeholder, response));\n      }\n    });\n    return relayPayloads;\n  };\n\n  _proto._processDeferResponse = function _processDeferResponse(label, path, placeholder, response) {\n    var parentID = placeholder.selector.dataID;\n    var relayPayload = normalizeResponse(response, placeholder.selector, placeholder.typeName, {\n      getDataID: this._getDataID,\n      path: placeholder.path,\n      reactFlightPayloadDeserializer: this._reactFlightPayloadDeserializer,\n      treatMissingFieldsAsNull: this._treatMissingFieldsAsNull\n    });\n\n    this._publishQueue.commitPayload(this._operation, relayPayload); // Load the version of the parent record from which this incremental data\n    // was derived\n\n\n    var parentEntry = this._source.get(parentID);\n\n    !(parentEntry != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected the parent record `%s` for @defer ' + 'data to exist.', parentID) : invariant(false) : void 0;\n    var fieldPayloads = parentEntry.fieldPayloads;\n\n    if (fieldPayloads.length !== 0) {\n      var _response$extensions2;\n\n      var handleFieldsRelayPayload = {\n        errors: null,\n        fieldPayloads: fieldPayloads,\n        incrementalPlaceholders: null,\n        moduleImportPayloads: null,\n        source: RelayRecordSource.create(),\n        isFinal: ((_response$extensions2 = response.extensions) === null || _response$extensions2 === void 0 ? void 0 : _response$extensions2.is_final) === true\n      };\n\n      this._publishQueue.commitPayload(this._operation, handleFieldsRelayPayload);\n    }\n\n    return relayPayload;\n  }\n  /**\n   * Process the data for one item in a @stream field.\n   */\n  ;\n\n  _proto._processStreamResponse = function _processStreamResponse(label, path, placeholder, response) {\n    var parentID = placeholder.parentID,\n        node = placeholder.node,\n        variables = placeholder.variables; // Find the LinkedField where @stream was applied\n\n    var field = node.selections[0];\n    !(field != null && field.kind === 'LinkedField' && field.plural === true) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected @stream to be used on a plural field.') : invariant(false) : void 0;\n\n    var _this$_normalizeStrea = this._normalizeStreamItem(response, parentID, field, variables, path, placeholder.path),\n        fieldPayloads = _this$_normalizeStrea.fieldPayloads,\n        itemID = _this$_normalizeStrea.itemID,\n        itemIndex = _this$_normalizeStrea.itemIndex,\n        prevIDs = _this$_normalizeStrea.prevIDs,\n        relayPayload = _this$_normalizeStrea.relayPayload,\n        storageKey = _this$_normalizeStrea.storageKey; // Publish the new item and update the parent record to set\n    // field[index] = item *if* the parent record hasn't been concurrently\n    // modified.\n\n\n    this._publishQueue.commitPayload(this._operation, relayPayload, function (store) {\n      var currentParentRecord = store.get(parentID);\n\n      if (currentParentRecord == null) {\n        // parent has since been deleted, stream data is stale\n        return;\n      }\n\n      var currentItems = currentParentRecord.getLinkedRecords(storageKey);\n\n      if (currentItems == null) {\n        // field has since been deleted, stream data is stale\n        return;\n      }\n\n      if (currentItems.length !== prevIDs.length || currentItems.some(function (currentItem, index) {\n        return prevIDs[index] !== (currentItem && currentItem.getDataID());\n      })) {\n        // field has been modified by something other than this query,\n        // stream data is stale\n        return;\n      } // parent.field has not been concurrently modified:\n      // update `parent.field[index] = item`\n\n\n      var nextItems = (0, _toConsumableArray2[\"default\"])(currentItems);\n      nextItems[itemIndex] = store.get(itemID);\n      currentParentRecord.setLinkedRecords(nextItems, storageKey);\n    }); // Now that the parent record has been updated to include the new item,\n    // also update any handle fields that are derived from the parent record.\n\n\n    if (fieldPayloads.length !== 0) {\n      var handleFieldsRelayPayload = {\n        errors: null,\n        fieldPayloads: fieldPayloads,\n        incrementalPlaceholders: null,\n        moduleImportPayloads: null,\n        source: RelayRecordSource.create(),\n        isFinal: false\n      };\n\n      this._publishQueue.commitPayload(this._operation, handleFieldsRelayPayload);\n    }\n\n    return relayPayload;\n  };\n\n  _proto._normalizeStreamItem = function _normalizeStreamItem(response, parentID, field, variables, path, normalizationPath) {\n    var _field$alias, _field$concreteType, _this$_getDataID;\n\n    var data = response.data;\n    !(typeof data === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected the GraphQL @stream payload `data` ' + 'value to be an object.') : invariant(false) : void 0;\n    var responseKey = (_field$alias = field.alias) !== null && _field$alias !== void 0 ? _field$alias : field.name;\n    var storageKey = getStorageKey(field, variables); // Load the version of the parent record from which this incremental data\n    // was derived\n\n    var parentEntry = this._source.get(parentID);\n\n    !(parentEntry != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected the parent record `%s` for @stream ' + 'data to exist.', parentID) : invariant(false) : void 0;\n    var parentRecord = parentEntry.record,\n        fieldPayloads = parentEntry.fieldPayloads; // Load the field value (items) that were created by *this* query executor\n    // in order to check if there has been any concurrent modifications by some\n    // other operation.\n\n    var prevIDs = RelayModernRecord.getLinkedRecordIDs(parentRecord, storageKey);\n    !(prevIDs != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected record `%s` to have fetched field ' + '`%s` with @stream.', parentID, field.name) : invariant(false) : void 0; // Determine the index in the field of the new item\n\n    var finalPathEntry = path[path.length - 1];\n    var itemIndex = parseInt(finalPathEntry, 10);\n    !(itemIndex === finalPathEntry && itemIndex >= 0) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected path for @stream to end in a ' + 'positive integer index, got `%s`', finalPathEntry) : invariant(false) : void 0;\n    var typeName = (_field$concreteType = field.concreteType) !== null && _field$concreteType !== void 0 ? _field$concreteType : data[TYPENAME_KEY];\n    !(typeof typeName === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected @stream field `%s` to have a ' + '__typename.', field.name) : invariant(false) : void 0; // Determine the __id of the new item: this must equal the value that would\n    // be assigned had the item not been streamed\n\n    var itemID = // https://github.com/prettier/prettier/issues/6403\n    // prettier-ignore\n    ((_this$_getDataID = this._getDataID(data, typeName)) !== null && _this$_getDataID !== void 0 ? _this$_getDataID : prevIDs && prevIDs[itemIndex]) || // Reuse previously generated client IDs\n    generateClientID(parentID, storageKey, itemIndex);\n    !(typeof itemID === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected id of elements of field `%s` to ' + 'be strings.', storageKey) : invariant(false) : void 0; // Build a selector to normalize the item data with\n\n    var selector = createNormalizationSelector(field, itemID, variables); // Update the cached version of the parent record to reflect the new item:\n    // this is used when subsequent stream payloads arrive to see if there\n    // have been concurrent modifications to the list\n\n    var nextParentRecord = RelayModernRecord.clone(parentRecord);\n    var nextIDs = (0, _toConsumableArray2[\"default\"])(prevIDs);\n    nextIDs[itemIndex] = itemID;\n    RelayModernRecord.setLinkedRecordIDs(nextParentRecord, storageKey, nextIDs);\n\n    this._source.set(parentID, {\n      record: nextParentRecord,\n      fieldPayloads: fieldPayloads\n    });\n\n    var relayPayload = normalizeResponse(response, selector, typeName, {\n      getDataID: this._getDataID,\n      path: [].concat((0, _toConsumableArray2[\"default\"])(normalizationPath), [responseKey, String(itemIndex)]),\n      reactFlightPayloadDeserializer: this._reactFlightPayloadDeserializer,\n      treatMissingFieldsAsNull: this._treatMissingFieldsAsNull\n    });\n    return {\n      fieldPayloads: fieldPayloads,\n      itemID: itemID,\n      itemIndex: itemIndex,\n      prevIDs: prevIDs,\n      relayPayload: relayPayload,\n      storageKey: storageKey\n    };\n  };\n\n  _proto._updateOperationTracker = function _updateOperationTracker(updatedOwners) {\n    if (this._operationTracker != null && updatedOwners != null && updatedOwners.length > 0) {\n      this._operationTracker.update(this._operation.request, new Set(updatedOwners));\n    }\n  };\n\n  _proto._completeOperationTracker = function _completeOperationTracker() {\n    if (this._operationTracker != null) {\n      this._operationTracker.complete(this._operation.request);\n    }\n  };\n\n  return Executor;\n}();\n\nfunction partitionGraphQLResponses(responses) {\n  var nonIncrementalResponses = [];\n  var incrementalResponses = [];\n  responses.forEach(function (response) {\n    if (response.path != null || response.label != null) {\n      var label = response.label,\n          path = response.path;\n\n      if (label == null || path == null) {\n        !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernQueryExecutor: invalid incremental payload, expected ' + '`path` and `label` to either both be null/undefined, or ' + '`path` to be an `Array<string | number>` and `label` to be a ' + '`string`.') : invariant(false) : void 0;\n      }\n\n      incrementalResponses.push({\n        label: label,\n        path: path,\n        response: response\n      });\n    } else {\n      nonIncrementalResponses.push(response);\n    }\n  });\n  return [nonIncrementalResponses, incrementalResponses];\n}\n\nfunction normalizeResponse(response, selector, typeName, options) {\n  var _response$extensions3;\n\n  var data = response.data,\n      errors = response.errors;\n  var source = RelayRecordSource.create();\n  var record = RelayModernRecord.create(selector.dataID, typeName);\n  source.set(selector.dataID, record);\n  var relayPayload = RelayResponseNormalizer.normalize(source, selector, data, options);\n  return (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, relayPayload), {}, {\n    errors: errors,\n    isFinal: ((_response$extensions3 = response.extensions) === null || _response$extensions3 === void 0 ? void 0 : _response$extensions3.is_final) === true\n  });\n}\n\nfunction stableStringify(value) {\n  var _JSON$stringify;\n\n  return (_JSON$stringify = JSON.stringify(stableCopy(value))) !== null && _JSON$stringify !== void 0 ? _JSON$stringify : ''; // null-check for flow\n}\n\nfunction validateOptimisticResponsePayload(payload) {\n  var incrementalPlaceholders = payload.incrementalPlaceholders;\n\n  if (incrementalPlaceholders != null && incrementalPlaceholders.length !== 0) {\n    !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernQueryExecutor: optimistic responses cannot be returned ' + 'for operations that use incremental data delivery (@defer, ' + '@stream, and @stream_connection).') : invariant(false) : void 0;\n  }\n}\n\nmodule.exports = {\n  execute: execute\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar areEqual = require(\"fbjs/lib/areEqual\");\n\nvar deepFreeze = require('../util/deepFreeze');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar warning = require(\"fbjs/lib/warning\");\n\nvar _require = require('./ClientID'),\n    isClientID = _require.isClientID;\n\nvar _require2 = require('./RelayStoreUtils'),\n    ID_KEY = _require2.ID_KEY,\n    REF_KEY = _require2.REF_KEY,\n    REFS_KEY = _require2.REFS_KEY,\n    TYPENAME_KEY = _require2.TYPENAME_KEY,\n    INVALIDATED_AT_KEY = _require2.INVALIDATED_AT_KEY,\n    ROOT_ID = _require2.ROOT_ID;\n\n/**\n * @public\n *\n * Low-level record manipulation methods.\n *\n * A note about perf: we use long-hand property access rather than computed\n * properties in this file for speed ie.\n *\n *    const object = {};\n *    object[KEY] = value;\n *    record[storageKey] = object;\n *\n * instead of:\n *\n *    record[storageKey] = {\n *      [KEY]: value,\n *    };\n *\n * The latter gets transformed by Babel into something like:\n *\n *    function _defineProperty(obj, key, value) {\n *      if (key in obj) {\n *        Object.defineProperty(obj, key, {\n *          value: value,\n *          enumerable: true,\n *          configurable: true,\n *          writable: true,\n *        });\n *      } else {\n *        obj[key] = value;\n *      }\n *      return obj;\n *    }\n *\n *    record[storageKey] = _defineProperty({}, KEY, value);\n *\n * A quick benchmark shows that computed property access is an order of\n * magnitude slower (times in seconds for 100,000 iterations):\n *\n *               best     avg     sd\n *    computed 0.02175 0.02292 0.00113\n *      manual 0.00110 0.00123 0.00008\n */\n\n/**\n * @public\n *\n * Clone a record.\n */\nfunction clone(record) {\n  return (0, _objectSpread2[\"default\"])({}, record);\n}\n/**\n * @public\n *\n * Copies all fields from `source` to `sink`, excluding `__id` and `__typename`.\n *\n * NOTE: This function does not treat `id` specially. To preserve the id,\n * manually reset it after calling this function. Also note that values are\n * copied by reference and not value; callers should ensure that values are\n * copied on write.\n */\n\n\nfunction copyFields(source, sink) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      if (key !== ID_KEY && key !== TYPENAME_KEY) {\n        sink[key] = source[key];\n      }\n    }\n  }\n}\n/**\n * @public\n *\n * Create a new record.\n */\n\n\nfunction create(dataID, typeName) {\n  // See perf note above for why we aren't using computed property access.\n  var record = {};\n  record[ID_KEY] = dataID;\n  record[TYPENAME_KEY] = typeName;\n  return record;\n}\n/**\n * @public\n *\n * Get the record's `id` if available or the client-generated identifier.\n */\n\n\nfunction getDataID(record) {\n  return record[ID_KEY];\n}\n/**\n * @public\n *\n * Get the concrete type of the record.\n */\n\n\nfunction getType(record) {\n  return record[TYPENAME_KEY];\n}\n/**\n * @public\n *\n * Get a scalar (non-link) field value.\n */\n\n\nfunction getValue(record, storageKey) {\n  var value = record[storageKey];\n\n  if (value && typeof value === 'object') {\n    !(!value.hasOwnProperty(REF_KEY) && !value.hasOwnProperty(REFS_KEY)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernRecord.getValue(): Expected a scalar (non-link) value for `%s.%s` ' + 'but found %s.', record[ID_KEY], storageKey, value.hasOwnProperty(REF_KEY) ? 'a linked record' : 'plural linked records') : invariant(false) : void 0;\n  }\n\n  return value;\n}\n/**\n * @public\n *\n * Get the value of a field as a reference to another record. Throws if the\n * field has a different type.\n */\n\n\nfunction getLinkedRecordID(record, storageKey) {\n  var link = record[storageKey];\n\n  if (link == null) {\n    return link;\n  }\n\n  !(typeof link === 'object' && link && typeof link[REF_KEY] === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernRecord.getLinkedRecordID(): Expected `%s.%s` to be a linked ID, ' + 'was `%s`.', record[ID_KEY], storageKey, JSON.stringify(link)) : invariant(false) : void 0;\n  return link[REF_KEY];\n}\n/**\n * @public\n *\n * Get the value of a field as a list of references to other records. Throws if\n * the field has a different type.\n */\n\n\nfunction getLinkedRecordIDs(record, storageKey) {\n  var links = record[storageKey];\n\n  if (links == null) {\n    return links;\n  }\n\n  !(typeof links === 'object' && Array.isArray(links[REFS_KEY])) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernRecord.getLinkedRecordIDs(): Expected `%s.%s` to contain an array ' + 'of linked IDs, got `%s`.', record[ID_KEY], storageKey, JSON.stringify(links)) : invariant(false) : void 0; // assume items of the array are ids\n\n  return links[REFS_KEY];\n}\n/**\n * @public\n *\n * Returns the epoch at which the record was invalidated, if it\n * ever was; otherwise returns null;\n */\n\n\nfunction getInvalidationEpoch(record) {\n  if (record == null) {\n    return null;\n  }\n\n  var invalidatedAt = record[INVALIDATED_AT_KEY];\n\n  if (typeof invalidatedAt !== 'number') {\n    // If the record has never been invalidated, it isn't stale.\n    return null;\n  }\n\n  return invalidatedAt;\n}\n/**\n * @public\n *\n * Compares the fields of a previous and new record, returning either the\n * previous record if all fields are equal or a new record (with merged fields)\n * if any fields have changed.\n */\n\n\nfunction update(prevRecord, nextRecord) {\n  if (process.env.NODE_ENV !== \"production\") {\n    var _getType, _getType2;\n\n    var prevID = getDataID(prevRecord);\n    var nextID = getDataID(nextRecord);\n    process.env.NODE_ENV !== \"production\" ? warning(prevID === nextID, 'RelayModernRecord: Invalid record update, expected both versions of ' + 'the record to have the same id, got `%s` and `%s`.', prevID, nextID) : void 0; // note: coalesce null/undefined to null\n\n    var prevType = (_getType = getType(prevRecord)) !== null && _getType !== void 0 ? _getType : null;\n    var nextType = (_getType2 = getType(nextRecord)) !== null && _getType2 !== void 0 ? _getType2 : null;\n    process.env.NODE_ENV !== \"production\" ? warning(isClientID(nextID) && nextID !== ROOT_ID || prevType === nextType, 'RelayModernRecord: Invalid record update, expected both versions of ' + 'record `%s` to have the same `%s` but got conflicting types `%s` ' + 'and `%s`. The GraphQL server likely violated the globally unique ' + 'id requirement by returning the same id for different objects.', prevID, TYPENAME_KEY, prevType, nextType) : void 0;\n  }\n\n  var updated = null;\n  var keys = Object.keys(nextRecord);\n\n  for (var ii = 0; ii < keys.length; ii++) {\n    var key = keys[ii];\n\n    if (updated || !areEqual(prevRecord[key], nextRecord[key])) {\n      updated = updated !== null ? updated : (0, _objectSpread2[\"default\"])({}, prevRecord);\n      updated[key] = nextRecord[key];\n    }\n  }\n\n  return updated !== null ? updated : prevRecord;\n}\n/**\n * @public\n *\n * Returns a new record with the contents of the given records. Fields in the\n * second record will overwrite identical fields in the first record.\n */\n\n\nfunction merge(record1, record2) {\n  if (process.env.NODE_ENV !== \"production\") {\n    var _getType3, _getType4;\n\n    var prevID = getDataID(record1);\n    var nextID = getDataID(record2);\n    process.env.NODE_ENV !== \"production\" ? warning(prevID === nextID, 'RelayModernRecord: Invalid record merge, expected both versions of ' + 'the record to have the same id, got `%s` and `%s`.', prevID, nextID) : void 0; // note: coalesce null/undefined to null\n\n    var prevType = (_getType3 = getType(record1)) !== null && _getType3 !== void 0 ? _getType3 : null;\n    var nextType = (_getType4 = getType(record2)) !== null && _getType4 !== void 0 ? _getType4 : null;\n    process.env.NODE_ENV !== \"production\" ? warning(isClientID(nextID) && nextID !== ROOT_ID || prevType === nextType, 'RelayModernRecord: Invalid record merge, expected both versions of ' + 'record `%s` to have the same `%s` but got conflicting types `%s` ' + 'and `%s`. The GraphQL server likely violated the globally unique ' + 'id requirement by returning the same id for different objects.', prevID, TYPENAME_KEY, prevType, nextType) : void 0;\n  }\n\n  return Object.assign({}, record1, record2);\n}\n/**\n * @public\n *\n * Prevent modifications to the record. Attempts to call `set*` functions on a\n * frozen record will fatal at runtime.\n */\n\n\nfunction freeze(record) {\n  deepFreeze(record);\n}\n/**\n * @public\n *\n * Set the value of a storageKey to a scalar.\n */\n\n\nfunction setValue(record, storageKey, value) {\n  if (process.env.NODE_ENV !== \"production\") {\n    var prevID = getDataID(record);\n\n    if (storageKey === ID_KEY) {\n      process.env.NODE_ENV !== \"production\" ? warning(prevID === value, 'RelayModernRecord: Invalid field update, expected both versions of ' + 'the record to have the same id, got `%s` and `%s`.', prevID, value) : void 0;\n    } else if (storageKey === TYPENAME_KEY) {\n      var _getType5;\n\n      // note: coalesce null/undefined to null\n      var prevType = (_getType5 = getType(record)) !== null && _getType5 !== void 0 ? _getType5 : null;\n      var nextType = value !== null && value !== void 0 ? value : null;\n      process.env.NODE_ENV !== \"production\" ? warning(isClientID(getDataID(record)) && getDataID(record) !== ROOT_ID || prevType === nextType, 'RelayModernRecord: Invalid field update, expected both versions of ' + 'record `%s` to have the same `%s` but got conflicting types `%s` ' + 'and `%s`. The GraphQL server likely violated the globally unique ' + 'id requirement by returning the same id for different objects.', prevID, TYPENAME_KEY, prevType, nextType) : void 0;\n    }\n  }\n\n  record[storageKey] = value;\n}\n/**\n * @public\n *\n * Set the value of a field to a reference to another record.\n */\n\n\nfunction setLinkedRecordID(record, storageKey, linkedID) {\n  // See perf note above for why we aren't using computed property access.\n  var link = {};\n  link[REF_KEY] = linkedID;\n  record[storageKey] = link;\n}\n/**\n * @public\n *\n * Set the value of a field to a list of references other records.\n */\n\n\nfunction setLinkedRecordIDs(record, storageKey, linkedIDs) {\n  // See perf note above for why we aren't using computed property access.\n  var links = {};\n  links[REFS_KEY] = linkedIDs;\n  record[storageKey] = links;\n}\n\nmodule.exports = {\n  clone: clone,\n  copyFields: copyFields,\n  create: create,\n  freeze: freeze,\n  getDataID: getDataID,\n  getInvalidationEpoch: getInvalidationEpoch,\n  getLinkedRecordID: getLinkedRecordID,\n  getLinkedRecordIDs: getLinkedRecordIDs,\n  getType: getType,\n  getValue: getValue,\n  merge: merge,\n  setValue: setValue,\n  setLinkedRecordID: setLinkedRecordID,\n  setLinkedRecordIDs: setLinkedRecordIDs,\n  update: update\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar areEqual = require(\"fbjs/lib/areEqual\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar warning = require(\"fbjs/lib/warning\");\n\nvar _require = require('./RelayConcreteVariables'),\n    getFragmentVariables = _require.getFragmentVariables;\n\nvar _require2 = require('./RelayStoreUtils'),\n    FRAGMENT_OWNER_KEY = _require2.FRAGMENT_OWNER_KEY,\n    FRAGMENTS_KEY = _require2.FRAGMENTS_KEY,\n    ID_KEY = _require2.ID_KEY,\n    IS_WITHIN_UNMATCHED_TYPE_REFINEMENT = _require2.IS_WITHIN_UNMATCHED_TYPE_REFINEMENT;\n\n/**\n * @public\n *\n * Given the result `item` from a parent that fetched `fragment`, creates a\n * selector that can be used to read the results of that fragment for that item.\n *\n * Example:\n *\n * Given two fragments as follows:\n *\n * ```\n * fragment Parent on User {\n *   id\n *   ...Child\n * }\n * fragment Child on User {\n *   name\n * }\n * ```\n *\n * And given some object `parent` that is the results of `Parent` for id \"4\",\n * the results of `Child` can be accessed by first getting a selector and then\n * using that selector to `lookup()` the results against the environment:\n *\n * ```\n * const childSelector = getSingularSelector(queryVariables, Child, parent);\n * const childData = environment.lookup(childSelector).data;\n * ```\n */\nfunction getSingularSelector(fragment, item) {\n  !(typeof item === 'object' && item !== null && !Array.isArray(item)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an object, got ' + '`%s`.', fragment.name, JSON.stringify(item)) : invariant(false) : void 0;\n  var dataID = item[ID_KEY];\n  var fragments = item[FRAGMENTS_KEY];\n  var mixedOwner = item[FRAGMENT_OWNER_KEY];\n  var isWithinUnmatchedTypeRefinement = item[IS_WITHIN_UNMATCHED_TYPE_REFINEMENT] === true;\n\n  if (typeof dataID === 'string' && typeof fragments === 'object' && fragments !== null && typeof fragments[fragment.name] === 'object' && fragments[fragment.name] !== null && typeof mixedOwner === 'object' && mixedOwner !== null) {\n    var owner = mixedOwner;\n    var argumentVariables = fragments[fragment.name];\n    var fragmentVariables = getFragmentVariables(fragment, owner.variables, argumentVariables);\n    return createReaderSelector(fragment, dataID, fragmentVariables, owner, isWithinUnmatchedTypeRefinement);\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var stringifiedItem = JSON.stringify(item);\n\n    if (stringifiedItem.length > 499) {\n      stringifiedItem = stringifiedItem.substr(0, 498) + \"\\u2026\";\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayModernSelector: Expected object to contain data for fragment `%s`, got ' + '`%s`. Make sure that the parent operation/fragment included fragment ' + '`...%s` without `@relay(mask: false)`.', fragment.name, stringifiedItem, fragment.name) : void 0;\n  }\n\n  return null;\n}\n/**\n * @public\n *\n * Given the result `items` from a parent that fetched `fragment`, creates a\n * selector that can be used to read the results of that fragment on those\n * items. This is similar to `getSingularSelector` but for \"plural\" fragments that\n * expect an array of results and therefore return an array of selectors.\n */\n\n\nfunction getPluralSelector(fragment, items) {\n  var selectors = null;\n  items.forEach(function (item, ii) {\n    var selector = item != null ? getSingularSelector(fragment, item) : null;\n\n    if (selector != null) {\n      selectors = selectors || [];\n      selectors.push(selector);\n    }\n  });\n\n  if (selectors == null) {\n    return null;\n  } else {\n    return {\n      kind: 'PluralReaderSelector',\n      selectors: selectors\n    };\n  }\n}\n\nfunction getSelector(fragment, item) {\n  if (item == null) {\n    return item;\n  } else if (fragment.metadata && fragment.metadata.plural === true) {\n    !Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an array, got `%s`. ' + 'Remove `@relay(plural: true)` from fragment `%s` to allow the prop to be an object.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getPluralSelector(fragment, item);\n  } else {\n    !!Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an object, got `%s`. ' + 'Add `@relay(plural: true)` to fragment `%s` to allow the prop to be an array of items.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getSingularSelector(fragment, item);\n  }\n}\n/**\n * @public\n *\n * Given a mapping of keys -> results and a mapping of keys -> fragments,\n * extracts the selectors for those fragments from the results.\n *\n * The canonical use-case for this function is ReactRelayFragmentContainer, which\n * uses this function to convert (props, fragments) into selectors so that it\n * can read the results to pass to the inner component.\n */\n\n\nfunction getSelectorsFromObject(fragments, object) {\n  var selectors = {};\n\n  for (var _key in fragments) {\n    if (fragments.hasOwnProperty(_key)) {\n      var fragment = fragments[_key];\n      var item = object[_key];\n      selectors[_key] = getSelector(fragment, item);\n    }\n  }\n\n  return selectors;\n}\n/**\n * @public\n *\n * Given a mapping of keys -> results and a mapping of keys -> fragments,\n * extracts a mapping of keys -> id(s) of the results.\n *\n * Similar to `getSelectorsFromObject()`, this function can be useful in\n * determining the \"identity\" of the props passed to a component.\n */\n\n\nfunction getDataIDsFromObject(fragments, object) {\n  var ids = {};\n\n  for (var _key2 in fragments) {\n    if (fragments.hasOwnProperty(_key2)) {\n      var fragment = fragments[_key2];\n      var item = object[_key2];\n      ids[_key2] = getDataIDsFromFragment(fragment, item);\n    }\n  }\n\n  return ids;\n}\n\nfunction getDataIDsFromFragment(fragment, item) {\n  if (item == null) {\n    return item;\n  } else if (fragment.metadata && fragment.metadata.plural === true) {\n    !Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an array, got `%s`. ' + 'Remove `@relay(plural: true)` from fragment `%s` to allow the prop to be an object.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getDataIDs(fragment, item);\n  } else {\n    !!Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernFragmentSpecResolver: Expected value for fragment `%s` to be an object, got `%s`. ' + 'Add `@relay(plural: true)` to fragment `%s` to allow the prop to be an array of items.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getDataID(fragment, item);\n  }\n}\n/**\n * @internal\n */\n\n\nfunction getDataIDs(fragment, items) {\n  var ids = null;\n  items.forEach(function (item) {\n    var id = item != null ? getDataID(fragment, item) : null;\n\n    if (id != null) {\n      ids = ids || [];\n      ids.push(id);\n    }\n  });\n  return ids;\n}\n/**\n * @internal\n */\n\n\nfunction getDataID(fragment, item) {\n  !(typeof item === 'object' && item !== null && !Array.isArray(item)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an object, got ' + '`%s`.', fragment.name, JSON.stringify(item)) : invariant(false) : void 0;\n  var dataID = item[ID_KEY];\n\n  if (typeof dataID === 'string') {\n    return dataID;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayModernSelector: Expected object to contain data for fragment `%s`, got ' + '`%s`. Make sure that the parent operation/fragment included fragment ' + '`...%s` without `@relay(mask: false)`, or `null` is passed as the fragment ' + \"reference for `%s` if it's conditonally included and the condition isn't met.\", fragment.name, JSON.stringify(item), fragment.name, fragment.name) : void 0;\n  return null;\n}\n/**\n * @public\n *\n * Given a mapping of keys -> results and a mapping of keys -> fragments,\n * extracts the merged variables that would be in scope for those\n * fragments/results.\n *\n * This can be useful in determing what varaibles were used to fetch the data\n * for a Relay container, for example.\n */\n\n\nfunction getVariablesFromObject(fragments, object) {\n  var variables = {};\n\n  for (var _key3 in fragments) {\n    if (fragments.hasOwnProperty(_key3)) {\n      var fragment = fragments[_key3];\n      var item = object[_key3];\n      var itemVariables = getVariablesFromFragment(fragment, item);\n      Object.assign(variables, itemVariables);\n    }\n  }\n\n  return variables;\n}\n\nfunction getVariablesFromFragment(fragment, item) {\n  var _fragment$metadata;\n\n  if (item == null) {\n    return {};\n  } else if (((_fragment$metadata = fragment.metadata) === null || _fragment$metadata === void 0 ? void 0 : _fragment$metadata.plural) === true) {\n    !Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an array, got `%s`. ' + 'Remove `@relay(plural: true)` from fragment `%s` to allow the prop to be an object.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getVariablesFromPluralFragment(fragment, item);\n  } else {\n    !!Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernFragmentSpecResolver: Expected value for fragment `%s` to be an object, got `%s`. ' + 'Add `@relay(plural: true)` to fragment `%s` to allow the prop to be an array of items.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getVariablesFromSingularFragment(fragment, item) || {};\n  }\n}\n\nfunction getVariablesFromSingularFragment(fragment, item) {\n  var selector = getSingularSelector(fragment, item);\n\n  if (!selector) {\n    return null;\n  }\n\n  return selector.variables;\n}\n\nfunction getVariablesFromPluralFragment(fragment, items) {\n  var variables = {};\n  items.forEach(function (value, ii) {\n    if (value != null) {\n      var itemVariables = getVariablesFromSingularFragment(fragment, value);\n\n      if (itemVariables != null) {\n        Object.assign(variables, itemVariables);\n      }\n    }\n  });\n  return variables;\n}\n/**\n * @public\n *\n * Determine if two selectors are equal (represent the same selection). Note\n * that this function returns `false` when the two queries/fragments are\n * different objects, even if they select the same fields.\n */\n\n\nfunction areEqualSelectors(thisSelector, thatSelector) {\n  return thisSelector.owner === thatSelector.owner && thisSelector.dataID === thatSelector.dataID && thisSelector.node === thatSelector.node && areEqual(thisSelector.variables, thatSelector.variables);\n}\n\nfunction createReaderSelector(fragment, dataID, variables, request) {\n  var isWithinUnmatchedTypeRefinement = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n  return {\n    kind: 'SingularReaderSelector',\n    dataID: dataID,\n    isWithinUnmatchedTypeRefinement: isWithinUnmatchedTypeRefinement,\n    node: fragment,\n    variables: variables,\n    owner: request\n  };\n}\n\nfunction createNormalizationSelector(node, dataID, variables) {\n  return {\n    dataID: dataID,\n    node: node,\n    variables: variables\n  };\n}\n\nmodule.exports = {\n  areEqualSelectors: areEqualSelectors,\n  createReaderSelector: createReaderSelector,\n  createNormalizationSelector: createNormalizationSelector,\n  getDataIDsFromFragment: getDataIDsFromFragment,\n  getDataIDsFromObject: getDataIDsFromObject,\n  getSingularSelector: getSingularSelector,\n  getPluralSelector: getPluralSelector,\n  getSelector: getSelector,\n  getSelectorsFromObject: getSelectorsFromObject,\n  getVariablesFromSingularFragment: getVariablesFromSingularFragment,\n  getVariablesFromPluralFragment: getVariablesFromPluralFragment,\n  getVariablesFromFragment: getVariablesFromFragment,\n  getVariablesFromObject: getVariablesFromObject\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar DataChecker = require('./DataChecker');\n\nvar RelayFeatureFlags = require('../util/RelayFeatureFlags');\n\nvar RelayModernRecord = require('./RelayModernRecord');\n\nvar RelayOptimisticRecordSource = require('./RelayOptimisticRecordSource');\n\nvar RelayProfiler = require('../util/RelayProfiler');\n\nvar RelayReader = require('./RelayReader');\n\nvar RelayReferenceMarker = require('./RelayReferenceMarker');\n\nvar RelayStoreReactFlightUtils = require('./RelayStoreReactFlightUtils');\n\nvar RelayStoreSubscriptions = require('./RelayStoreSubscriptions');\n\nvar RelayStoreSubscriptionsUsingMapByID = require('./RelayStoreSubscriptionsUsingMapByID');\n\nvar RelayStoreUtils = require('./RelayStoreUtils');\n\nvar deepFreeze = require('../util/deepFreeze');\n\nvar defaultGetDataID = require('./defaultGetDataID');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar resolveImmediate = require('../util/resolveImmediate');\n\nvar _require = require('./RelayStoreUtils'),\n    ROOT_ID = _require.ROOT_ID,\n    ROOT_TYPE = _require.ROOT_TYPE;\n\nvar DEFAULT_RELEASE_BUFFER_SIZE = 0;\n/**\n * @public\n *\n * An implementation of the `Store` interface defined in `RelayStoreTypes`.\n *\n * Note that a Store takes ownership of all records provided to it: other\n * objects may continue to hold a reference to such records but may not mutate\n * them. The static Relay core is architected to avoid mutating records that may have been\n * passed to a store: operations that mutate records will either create fresh\n * records or clone existing records and modify the clones. Record immutability\n * is also enforced in development mode by freezing all records passed to a store.\n */\n\nvar RelayModernStore = /*#__PURE__*/function () {\n  function RelayModernStore(source, options) {\n    var _this = this;\n\n    var _options$gcReleaseBuf, _options$gcScheduler, _options$UNSTABLE_DO_, _options$log, _options$operationLoa;\n\n    (0, _defineProperty2[\"default\"])(this, \"_gcStep\", function () {\n      if (_this._gcRun) {\n        if (_this._gcRun.next().done) {\n          _this._gcRun = null;\n        } else {\n          _this._gcScheduler(_this._gcStep);\n        }\n      }\n    });\n\n    // Prevent mutation of a record from outside the store.\n    if (process.env.NODE_ENV !== \"production\") {\n      var storeIDs = source.getRecordIDs();\n\n      for (var ii = 0; ii < storeIDs.length; ii++) {\n        var record = source.get(storeIDs[ii]);\n\n        if (record) {\n          RelayModernRecord.freeze(record);\n        }\n      }\n    }\n\n    this._currentWriteEpoch = 0;\n    this._gcHoldCounter = 0;\n    this._gcReleaseBufferSize = (_options$gcReleaseBuf = options === null || options === void 0 ? void 0 : options.gcReleaseBufferSize) !== null && _options$gcReleaseBuf !== void 0 ? _options$gcReleaseBuf : DEFAULT_RELEASE_BUFFER_SIZE;\n    this._gcRun = null;\n    this._gcScheduler = (_options$gcScheduler = options === null || options === void 0 ? void 0 : options.gcScheduler) !== null && _options$gcScheduler !== void 0 ? _options$gcScheduler : resolveImmediate;\n    this._getDataID = (_options$UNSTABLE_DO_ = options === null || options === void 0 ? void 0 : options.UNSTABLE_DO_NOT_USE_getDataID) !== null && _options$UNSTABLE_DO_ !== void 0 ? _options$UNSTABLE_DO_ : defaultGetDataID;\n    this._globalInvalidationEpoch = null;\n    this._invalidationSubscriptions = new Set();\n    this._invalidatedRecordIDs = new Set();\n    this.__log = (_options$log = options === null || options === void 0 ? void 0 : options.log) !== null && _options$log !== void 0 ? _options$log : null;\n    this._queryCacheExpirationTime = options === null || options === void 0 ? void 0 : options.queryCacheExpirationTime;\n    this._operationLoader = (_options$operationLoa = options === null || options === void 0 ? void 0 : options.operationLoader) !== null && _options$operationLoa !== void 0 ? _options$operationLoa : null;\n    this._optimisticSource = null;\n    this._recordSource = source;\n    this._releaseBuffer = [];\n    this._roots = new Map();\n    this._shouldScheduleGC = false;\n    this._storeSubscriptions = RelayFeatureFlags.ENABLE_STORE_SUBSCRIPTIONS_REFACTOR === true ? new RelayStoreSubscriptionsUsingMapByID() : new RelayStoreSubscriptions();\n    this._updatedRecordIDs = {};\n    initializeRecordSource(this._recordSource);\n  }\n\n  var _proto = RelayModernStore.prototype;\n\n  _proto.getSource = function getSource() {\n    var _this$_optimisticSour;\n\n    return (_this$_optimisticSour = this._optimisticSource) !== null && _this$_optimisticSour !== void 0 ? _this$_optimisticSour : this._recordSource;\n  };\n\n  _proto.check = function check(operation, options) {\n    var _this$_optimisticSour2, _options$target, _options$handlers;\n\n    var selector = operation.root;\n    var source = (_this$_optimisticSour2 = this._optimisticSource) !== null && _this$_optimisticSour2 !== void 0 ? _this$_optimisticSour2 : this._recordSource;\n    var globalInvalidationEpoch = this._globalInvalidationEpoch;\n\n    var rootEntry = this._roots.get(operation.request.identifier);\n\n    var operationLastWrittenAt = rootEntry != null ? rootEntry.epoch : null; // Check if store has been globally invalidated\n\n    if (globalInvalidationEpoch != null) {\n      // If so, check if the operation we're checking was last written\n      // before or after invalidation occured.\n      if (operationLastWrittenAt == null || operationLastWrittenAt <= globalInvalidationEpoch) {\n        // If the operation was written /before/ global invalidation occurred,\n        // or if this operation has never been written to the store before,\n        // we will consider the data for this operation to be stale\n        // (i.e. not resolvable from the store).\n        return {\n          status: 'stale'\n        };\n      }\n    }\n\n    var target = (_options$target = options === null || options === void 0 ? void 0 : options.target) !== null && _options$target !== void 0 ? _options$target : source;\n    var handlers = (_options$handlers = options === null || options === void 0 ? void 0 : options.handlers) !== null && _options$handlers !== void 0 ? _options$handlers : [];\n    var operationAvailability = DataChecker.check(source, target, selector, handlers, this._operationLoader, this._getDataID);\n    return getAvailabilityStatus(operationAvailability, operationLastWrittenAt, rootEntry === null || rootEntry === void 0 ? void 0 : rootEntry.fetchTime, this._queryCacheExpirationTime);\n  };\n\n  _proto.retain = function retain(operation) {\n    var _this2 = this;\n\n    var id = operation.request.identifier;\n    var disposed = false;\n\n    var dispose = function dispose() {\n      // Ensure each retain can only dispose once\n      if (disposed) {\n        return;\n      }\n\n      disposed = true; // For Flow: guard against the entry somehow not existing\n\n      var rootEntry = _this2._roots.get(id);\n\n      if (rootEntry == null) {\n        return;\n      } // Decrement the ref count: if it becomes zero it is eligible\n      // for release.\n\n\n      rootEntry.refCount--;\n\n      if (rootEntry.refCount === 0) {\n        var _queryCacheExpirationTime = _this2._queryCacheExpirationTime;\n\n        var rootEntryIsStale = rootEntry.fetchTime != null && _queryCacheExpirationTime != null && rootEntry.fetchTime <= Date.now() - _queryCacheExpirationTime;\n\n        if (rootEntryIsStale) {\n          _this2._roots[\"delete\"](id);\n\n          _this2.scheduleGC();\n        } else {\n          _this2._releaseBuffer.push(id); // If the release buffer is now over-full, remove the least-recently\n          // added entry and schedule a GC. Note that all items in the release\n          // buffer have a refCount of 0.\n\n\n          if (_this2._releaseBuffer.length > _this2._gcReleaseBufferSize) {\n            var _id = _this2._releaseBuffer.shift();\n\n            _this2._roots[\"delete\"](_id);\n\n            _this2.scheduleGC();\n          }\n        }\n      }\n    };\n\n    var rootEntry = this._roots.get(id);\n\n    if (rootEntry != null) {\n      if (rootEntry.refCount === 0) {\n        // This entry should be in the release buffer, but it no longer belongs\n        // there since it's retained. Remove it to maintain the invariant that\n        // all release buffer entries have a refCount of 0.\n        this._releaseBuffer = this._releaseBuffer.filter(function (_id) {\n          return _id !== id;\n        });\n      } // If we've previously retained this operation, increment the refCount\n\n\n      rootEntry.refCount += 1;\n    } else {\n      // Otherwise create a new entry for the operation\n      this._roots.set(id, {\n        operation: operation,\n        refCount: 1,\n        epoch: null,\n        fetchTime: null\n      });\n    }\n\n    return {\n      dispose: dispose\n    };\n  };\n\n  _proto.lookup = function lookup(selector) {\n    var source = this.getSource();\n    var snapshot = RelayReader.read(source, selector);\n\n    if (process.env.NODE_ENV !== \"production\") {\n      deepFreeze(snapshot);\n    }\n\n    return snapshot;\n  } // This method will return a list of updated owners from the subscriptions\n  ;\n\n  _proto.notify = function notify(sourceOperation, invalidateStore) {\n    var _this3 = this;\n\n    var log = this.__log;\n\n    if (log != null) {\n      log({\n        name: 'store.notify.start'\n      });\n    } // Increment the current write when notifying after executing\n    // a set of changes to the store.\n\n\n    this._currentWriteEpoch++;\n\n    if (invalidateStore === true) {\n      this._globalInvalidationEpoch = this._currentWriteEpoch;\n    }\n\n    var source = this.getSource();\n    var updatedOwners = [];\n\n    this._storeSubscriptions.updateSubscriptions(source, this._updatedRecordIDs, updatedOwners);\n\n    this._invalidationSubscriptions.forEach(function (subscription) {\n      _this3._updateInvalidationSubscription(subscription, invalidateStore === true);\n    });\n\n    if (log != null) {\n      log({\n        name: 'store.notify.complete',\n        updatedRecordIDs: this._updatedRecordIDs,\n        invalidatedRecordIDs: this._invalidatedRecordIDs\n      });\n    }\n\n    this._updatedRecordIDs = {};\n\n    this._invalidatedRecordIDs.clear(); // If a source operation was provided (indicating the operation\n    // that produced this update to the store), record the current epoch\n    // at which this operation was written.\n\n\n    if (sourceOperation != null) {\n      // We only track the epoch at which the operation was written if\n      // it was previously retained, to keep the size of our operation\n      // epoch map bounded. If a query wasn't retained, we assume it can\n      // may be deleted at any moment and thus is not relevant for us to track\n      // for the purposes of invalidation.\n      var id = sourceOperation.request.identifier;\n\n      var rootEntry = this._roots.get(id);\n\n      if (rootEntry != null) {\n        rootEntry.epoch = this._currentWriteEpoch;\n        rootEntry.fetchTime = Date.now();\n      } else if (sourceOperation.request.node.params.operationKind === 'query' && this._gcReleaseBufferSize > 0 && this._releaseBuffer.length < this._gcReleaseBufferSize) {\n        // The operation isn't retained but there is space in the release buffer:\n        // temporarily track this operation in case the data can be reused soon.\n        var temporaryRootEntry = {\n          operation: sourceOperation,\n          refCount: 0,\n          epoch: this._currentWriteEpoch,\n          fetchTime: Date.now()\n        };\n\n        this._releaseBuffer.push(id);\n\n        this._roots.set(id, temporaryRootEntry);\n      }\n    }\n\n    return updatedOwners;\n  };\n\n  _proto.publish = function publish(source, idsMarkedForInvalidation) {\n    var _this$_optimisticSour3;\n\n    var target = (_this$_optimisticSour3 = this._optimisticSource) !== null && _this$_optimisticSour3 !== void 0 ? _this$_optimisticSour3 : this._recordSource;\n    updateTargetFromSource(target, source, // We increment the current epoch at the end of the set of updates,\n    // in notify(). Here, we pass what will be the incremented value of\n    // the epoch to use to write to invalidated records.\n    this._currentWriteEpoch + 1, idsMarkedForInvalidation, this._updatedRecordIDs, this._invalidatedRecordIDs); // NOTE: log *after* processing the source so that even if a bad log function\n    // mutates the source, it doesn't affect Relay processing of it.\n\n    var log = this.__log;\n\n    if (log != null) {\n      log({\n        name: 'store.publish',\n        source: source,\n        optimistic: target === this._optimisticSource\n      });\n    }\n  };\n\n  _proto.subscribe = function subscribe(snapshot, callback) {\n    return this._storeSubscriptions.subscribe(snapshot, callback);\n  };\n\n  _proto.holdGC = function holdGC() {\n    var _this4 = this;\n\n    if (this._gcRun) {\n      this._gcRun = null;\n      this._shouldScheduleGC = true;\n    }\n\n    this._gcHoldCounter++;\n\n    var dispose = function dispose() {\n      if (_this4._gcHoldCounter > 0) {\n        _this4._gcHoldCounter--;\n\n        if (_this4._gcHoldCounter === 0 && _this4._shouldScheduleGC) {\n          _this4.scheduleGC();\n\n          _this4._shouldScheduleGC = false;\n        }\n      }\n    };\n\n    return {\n      dispose: dispose\n    };\n  };\n\n  _proto.toJSON = function toJSON() {\n    return 'RelayModernStore()';\n  } // Internal API\n  ;\n\n  _proto.__getUpdatedRecordIDs = function __getUpdatedRecordIDs() {\n    return this._updatedRecordIDs;\n  };\n\n  _proto.lookupInvalidationState = function lookupInvalidationState(dataIDs) {\n    var _this5 = this;\n\n    var invalidations = new Map();\n    dataIDs.forEach(function (dataID) {\n      var _RelayModernRecord$ge;\n\n      var record = _this5.getSource().get(dataID);\n\n      invalidations.set(dataID, (_RelayModernRecord$ge = RelayModernRecord.getInvalidationEpoch(record)) !== null && _RelayModernRecord$ge !== void 0 ? _RelayModernRecord$ge : null);\n    });\n    invalidations.set('global', this._globalInvalidationEpoch);\n    return {\n      dataIDs: dataIDs,\n      invalidations: invalidations\n    };\n  };\n\n  _proto.checkInvalidationState = function checkInvalidationState(prevInvalidationState) {\n    var latestInvalidationState = this.lookupInvalidationState(prevInvalidationState.dataIDs);\n    var currentInvalidations = latestInvalidationState.invalidations;\n    var prevInvalidations = prevInvalidationState.invalidations; // Check if global invalidation has changed\n\n    if (currentInvalidations.get('global') !== prevInvalidations.get('global')) {\n      return true;\n    } // Check if the invalidation state for any of the ids has changed.\n\n\n    var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(prevInvalidationState.dataIDs),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var dataID = _step.value;\n\n        if (currentInvalidations.get(dataID) !== prevInvalidations.get(dataID)) {\n          return true;\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return false;\n  };\n\n  _proto.subscribeToInvalidationState = function subscribeToInvalidationState(invalidationState, callback) {\n    var _this6 = this;\n\n    var subscription = {\n      callback: callback,\n      invalidationState: invalidationState\n    };\n\n    var dispose = function dispose() {\n      _this6._invalidationSubscriptions[\"delete\"](subscription);\n    };\n\n    this._invalidationSubscriptions.add(subscription);\n\n    return {\n      dispose: dispose\n    };\n  };\n\n  _proto._updateInvalidationSubscription = function _updateInvalidationSubscription(subscription, invalidatedStore) {\n    var _this7 = this;\n\n    var callback = subscription.callback,\n        invalidationState = subscription.invalidationState;\n    var dataIDs = invalidationState.dataIDs;\n    var isSubscribedToInvalidatedIDs = invalidatedStore || dataIDs.some(function (dataID) {\n      return _this7._invalidatedRecordIDs.has(dataID);\n    });\n\n    if (!isSubscribedToInvalidatedIDs) {\n      return;\n    }\n\n    callback();\n  };\n\n  _proto.snapshot = function snapshot() {\n    !(this._optimisticSource == null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernStore: Unexpected call to snapshot() while a previous ' + 'snapshot exists.') : invariant(false) : void 0;\n    var log = this.__log;\n\n    if (log != null) {\n      log({\n        name: 'store.snapshot'\n      });\n    }\n\n    this._storeSubscriptions.snapshotSubscriptions(this.getSource());\n\n    if (this._gcRun) {\n      this._gcRun = null;\n      this._shouldScheduleGC = true;\n    }\n\n    this._optimisticSource = RelayOptimisticRecordSource.create(this.getSource());\n  };\n\n  _proto.restore = function restore() {\n    !(this._optimisticSource != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernStore: Unexpected call to restore(), expected a snapshot ' + 'to exist (make sure to call snapshot()).') : invariant(false) : void 0;\n    var log = this.__log;\n\n    if (log != null) {\n      log({\n        name: 'store.restore'\n      });\n    }\n\n    this._optimisticSource = null;\n\n    if (this._shouldScheduleGC) {\n      this.scheduleGC();\n    }\n\n    this._storeSubscriptions.restoreSubscriptions();\n  };\n\n  _proto.scheduleGC = function scheduleGC() {\n    if (this._gcHoldCounter > 0) {\n      this._shouldScheduleGC = true;\n      return;\n    }\n\n    if (this._gcRun) {\n      return;\n    }\n\n    this._gcRun = this._collect();\n\n    this._gcScheduler(this._gcStep);\n  }\n  /**\n   * Run a full GC synchronously.\n   */\n  ;\n\n  _proto.__gc = function __gc() {\n    // Don't run GC while there are optimistic updates applied\n    if (this._optimisticSource != null) {\n      return;\n    }\n\n    var gcRun = this._collect();\n\n    while (!gcRun.next().done) {}\n  };\n\n  _proto._collect = function* _collect() {\n    /* eslint-disable no-labels */\n    top: while (true) {\n      var startEpoch = this._currentWriteEpoch;\n      var references = new Set(); // Mark all records that are traversable from a root\n\n      var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(this._roots.values()),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var operation = _step2.value.operation;\n          var selector = operation.root;\n          RelayReferenceMarker.mark(this._recordSource, selector, references, this._operationLoader); // Yield for other work after each operation\n\n          yield; // If the store was updated, restart\n\n          if (startEpoch !== this._currentWriteEpoch) {\n            continue top;\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      var log = this.__log;\n\n      if (log != null) {\n        log({\n          name: 'store.gc',\n          references: references\n        });\n      } // Sweep records without references\n\n\n      if (references.size === 0) {\n        // Short-circuit if *nothing* is referenced\n        this._recordSource.clear();\n      } else {\n        // Evict any unreferenced nodes\n        var storeIDs = this._recordSource.getRecordIDs();\n\n        for (var ii = 0; ii < storeIDs.length; ii++) {\n          var dataID = storeIDs[ii];\n\n          if (!references.has(dataID)) {\n            this._recordSource.remove(dataID);\n          }\n        }\n      }\n\n      return;\n    }\n  };\n\n  return RelayModernStore;\n}();\n\nfunction initializeRecordSource(target) {\n  if (!target.has(ROOT_ID)) {\n    var rootRecord = RelayModernRecord.create(ROOT_ID, ROOT_TYPE);\n    target.set(ROOT_ID, rootRecord);\n  }\n}\n/**\n * Updates the target with information from source, also updating a mapping of\n * which records in the target were changed as a result.\n * Additionally, will mark records as invalidated at the current write epoch\n * given the set of record ids marked as stale in this update.\n */\n\n\nfunction updateTargetFromSource(target, source, currentWriteEpoch, idsMarkedForInvalidation, updatedRecordIDs, invalidatedRecordIDs) {\n  // First, update any records that were marked for invalidation.\n  // For each provided dataID that was invalidated, we write the\n  // INVALIDATED_AT_KEY on the record, indicating\n  // the epoch at which the record was invalidated.\n  if (idsMarkedForInvalidation) {\n    idsMarkedForInvalidation.forEach(function (dataID) {\n      var targetRecord = target.get(dataID);\n      var sourceRecord = source.get(dataID); // If record was deleted during the update (and also invalidated),\n      // we don't need to count it as an invalidated id\n\n      if (sourceRecord === null) {\n        return;\n      }\n\n      var nextRecord;\n\n      if (targetRecord != null) {\n        // If the target record exists, use it to set the epoch\n        // at which it was invalidated. This record will be updated with\n        // any changes from source in the section below\n        // where we update the target records based on the source.\n        nextRecord = RelayModernRecord.clone(targetRecord);\n      } else {\n        // If the target record doesn't exist, it means that a new record\n        // in the source was created (and also invalidated), so we use that\n        // record to set the epoch at which it was invalidated. This record\n        // will be updated with any changes from source in the section below\n        // where we update the target records based on the source.\n        nextRecord = sourceRecord != null ? RelayModernRecord.clone(sourceRecord) : null;\n      }\n\n      if (!nextRecord) {\n        return;\n      }\n\n      RelayModernRecord.setValue(nextRecord, RelayStoreUtils.INVALIDATED_AT_KEY, currentWriteEpoch);\n      invalidatedRecordIDs.add(dataID);\n      target.set(dataID, nextRecord);\n    });\n  } // Update the target based on the changes present in source\n\n\n  var dataIDs = source.getRecordIDs();\n\n  for (var ii = 0; ii < dataIDs.length; ii++) {\n    var dataID = dataIDs[ii];\n    var sourceRecord = source.get(dataID);\n    var targetRecord = target.get(dataID); // Prevent mutation of a record from outside the store.\n\n    if (process.env.NODE_ENV !== \"production\") {\n      if (sourceRecord) {\n        RelayModernRecord.freeze(sourceRecord);\n      }\n    }\n\n    if (sourceRecord && targetRecord) {\n      // ReactFlightClientResponses are lazy and only materialize when readRoot\n      // is called when we read the field, so if the record is a Flight field\n      // we always use the new record's data regardless of whether\n      // it actually changed. Let React take care of reconciliation instead.\n      var nextRecord = RelayModernRecord.getType(targetRecord) === RelayStoreReactFlightUtils.REACT_FLIGHT_TYPE_NAME ? sourceRecord : RelayModernRecord.update(targetRecord, sourceRecord);\n\n      if (nextRecord !== targetRecord) {\n        // Prevent mutation of a record from outside the store.\n        if (process.env.NODE_ENV !== \"production\") {\n          RelayModernRecord.freeze(nextRecord);\n        }\n\n        updatedRecordIDs[dataID] = true;\n        target.set(dataID, nextRecord);\n      }\n    } else if (sourceRecord === null) {\n      target[\"delete\"](dataID);\n\n      if (targetRecord !== null) {\n        updatedRecordIDs[dataID] = true;\n      }\n    } else if (sourceRecord) {\n      target.set(dataID, sourceRecord);\n      updatedRecordIDs[dataID] = true;\n    } // don't add explicit undefined\n\n  }\n}\n/**\n * Returns an OperationAvailability given the Availability returned\n * by checking an operation, and when that operation was last written to the store.\n * Specifically, the provided Availability of an operation will contain the\n * value of when a record referenced by the operation was most recently\n * invalidated; given that value, and given when this operation was last\n * written to the store, this function will return the overall\n * OperationAvailability for the operation.\n */\n\n\nfunction getAvailabilityStatus(operationAvailability, operationLastWrittenAt, operationFetchTime, queryCacheExpirationTime) {\n  var mostRecentlyInvalidatedAt = operationAvailability.mostRecentlyInvalidatedAt,\n      status = operationAvailability.status;\n\n  if (typeof mostRecentlyInvalidatedAt === 'number') {\n    // If some record referenced by this operation is stale, then the operation itself is stale\n    // if either the operation itself was never written *or* the operation was last written\n    // before the most recent invalidation of its reachable records.\n    if (operationLastWrittenAt == null || mostRecentlyInvalidatedAt > operationLastWrittenAt) {\n      return {\n        status: 'stale'\n      };\n    }\n  }\n\n  if (status === 'missing') {\n    return {\n      status: 'missing'\n    };\n  }\n\n  if (operationFetchTime != null && queryCacheExpirationTime != null) {\n    var isStale = operationFetchTime <= Date.now() - queryCacheExpirationTime;\n\n    if (isStale) {\n      return {\n        status: 'stale'\n      };\n    }\n  } // There were no invalidations of any reachable records *or* the operation is known to have\n  // been fetched after the most recent record invalidation.\n\n\n  return {\n    status: 'available',\n    fetchTime: operationFetchTime !== null && operationFetchTime !== void 0 ? operationFetchTime : null\n  };\n}\n\nRelayProfiler.instrumentMethods(RelayModernStore.prototype, {\n  lookup: 'RelayModernStore.prototype.lookup'\n});\nmodule.exports = RelayModernStore;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar RelayOperationTracker = /*#__PURE__*/function () {\n  function RelayOperationTracker() {\n    this._ownersToPendingOperations = new Map();\n    this._pendingOperationsToOwners = new Map();\n    this._ownersToPromise = new Map();\n  }\n  /**\n   * Update the map of current processing operations with the set of\n   * affected owners and notify subscribers\n   */\n\n\n  var _proto = RelayOperationTracker.prototype;\n\n  _proto.update = function update(pendingOperation, affectedOwners) {\n    if (affectedOwners.size === 0) {\n      return;\n    }\n\n    var newlyAffectedOwners = new Set();\n\n    var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(affectedOwners),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var owner = _step.value;\n\n        var pendingOperationsAffectingOwner = this._ownersToPendingOperations.get(owner);\n\n        if (pendingOperationsAffectingOwner != null) {\n          // In this case the `owner` already affected by some operations\n          // We just need to detect, is it the same operation that we already\n          // have in the list, or it's a new operation\n          if (!pendingOperationsAffectingOwner.has(pendingOperation)) {\n            pendingOperationsAffectingOwner.add(pendingOperation);\n            newlyAffectedOwners.add(owner);\n          }\n        } else {\n          // This is a new `owner` that is affected by the operation\n          this._ownersToPendingOperations.set(owner, new Set([pendingOperation]));\n\n          newlyAffectedOwners.add(owner);\n        }\n      } // No new owners were affected by this operation, we may stop here\n\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    if (newlyAffectedOwners.size === 0) {\n      return;\n    } // But, if some owners were affected we need to add them to\n    // the `_pendingOperationsToOwners` set\n\n\n    var ownersAffectedByOperation = this._pendingOperationsToOwners.get(pendingOperation) || new Set();\n\n    var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(newlyAffectedOwners),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var _owner = _step2.value;\n\n        this._resolveOwnerResolvers(_owner);\n\n        ownersAffectedByOperation.add(_owner);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    this._pendingOperationsToOwners.set(pendingOperation, ownersAffectedByOperation);\n  }\n  /**\n   * Once pending operation is completed we need to remove it\n   * from all tracking maps\n   */\n  ;\n\n  _proto.complete = function complete(pendingOperation) {\n    var affectedOwners = this._pendingOperationsToOwners.get(pendingOperation);\n\n    if (affectedOwners == null) {\n      return;\n    } // These were the owners affected only by `pendingOperation`\n\n\n    var completedOwners = new Set(); // These were the owners affected by `pendingOperation`\n    // and some other operations\n\n    var updatedOwners = new Set();\n\n    var _iterator3 = (0, _createForOfIteratorHelper2[\"default\"])(affectedOwners),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var owner = _step3.value;\n\n        var pendingOperationsAffectingOwner = this._ownersToPendingOperations.get(owner);\n\n        if (!pendingOperationsAffectingOwner) {\n          continue;\n        }\n\n        pendingOperationsAffectingOwner[\"delete\"](pendingOperation);\n\n        if (pendingOperationsAffectingOwner.size > 0) {\n          updatedOwners.add(owner);\n        } else {\n          completedOwners.add(owner);\n        }\n      } // Complete subscriptions for all owners, affected by `pendingOperation`\n\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n\n    var _iterator4 = (0, _createForOfIteratorHelper2[\"default\"])(completedOwners),\n        _step4;\n\n    try {\n      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n        var _owner2 = _step4.value;\n\n        this._resolveOwnerResolvers(_owner2);\n\n        this._ownersToPendingOperations[\"delete\"](_owner2);\n      } // Update all owner that were updated by `pendingOperation` but still\n      // are affected by other operations\n\n    } catch (err) {\n      _iterator4.e(err);\n    } finally {\n      _iterator4.f();\n    }\n\n    var _iterator5 = (0, _createForOfIteratorHelper2[\"default\"])(updatedOwners),\n        _step5;\n\n    try {\n      for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n        var _owner3 = _step5.value;\n\n        this._resolveOwnerResolvers(_owner3);\n      } // Finally, remove pending operation\n\n    } catch (err) {\n      _iterator5.e(err);\n    } finally {\n      _iterator5.f();\n    }\n\n    this._pendingOperationsToOwners[\"delete\"](pendingOperation);\n  };\n\n  _proto._resolveOwnerResolvers = function _resolveOwnerResolvers(owner) {\n    var promiseEntry = this._ownersToPromise.get(owner);\n\n    if (promiseEntry != null) {\n      promiseEntry.resolve();\n    }\n\n    this._ownersToPromise[\"delete\"](owner);\n  };\n\n  _proto.getPromiseForPendingOperationsAffectingOwner = function getPromiseForPendingOperationsAffectingOwner(owner) {\n    if (!this._ownersToPendingOperations.has(owner)) {\n      return null;\n    }\n\n    var cachedPromiseEntry = this._ownersToPromise.get(owner);\n\n    if (cachedPromiseEntry != null) {\n      return cachedPromiseEntry.promise;\n    }\n\n    var resolve;\n    var promise = new Promise(function (r) {\n      resolve = r;\n    });\n    !(resolve != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayOperationTracker: Expected resolver to be defined. If you' + 'are seeing this, it is likely a bug in Relay.') : invariant(false) : void 0;\n\n    this._ownersToPromise.set(owner, {\n      promise: promise,\n      resolve: resolve\n    });\n\n    return promise;\n  };\n\n  return RelayOperationTracker;\n}();\n\nmodule.exports = RelayOperationTracker;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar RelayRecordSource = require('./RelayRecordSource');\n\nvar UNPUBLISH_RECORD_SENTINEL = Object.freeze({\n  __UNPUBLISH_RECORD_SENTINEL: true\n});\n/**\n * An implementation of MutableRecordSource that represents a base RecordSource\n * with optimistic updates stacked on top: records with optimistic updates\n * shadow the base version of the record rather than updating/replacing them.\n */\n\nvar RelayOptimisticRecordSource = /*#__PURE__*/function () {\n  function RelayOptimisticRecordSource(base) {\n    this._base = base;\n    this._sink = RelayRecordSource.create();\n  }\n\n  var _proto = RelayOptimisticRecordSource.prototype;\n\n  _proto.has = function has(dataID) {\n    if (this._sink.has(dataID)) {\n      var sinkRecord = this._sink.get(dataID);\n\n      return sinkRecord !== UNPUBLISH_RECORD_SENTINEL;\n    } else {\n      return this._base.has(dataID);\n    }\n  };\n\n  _proto.get = function get(dataID) {\n    if (this._sink.has(dataID)) {\n      var sinkRecord = this._sink.get(dataID);\n\n      if (sinkRecord === UNPUBLISH_RECORD_SENTINEL) {\n        return undefined;\n      } else {\n        return sinkRecord;\n      }\n    } else {\n      return this._base.get(dataID);\n    }\n  };\n\n  _proto.getStatus = function getStatus(dataID) {\n    var record = this.get(dataID);\n\n    if (record === undefined) {\n      return 'UNKNOWN';\n    } else if (record === null) {\n      return 'NONEXISTENT';\n    } else {\n      return 'EXISTENT';\n    }\n  };\n\n  _proto.clear = function clear() {\n    this._base = RelayRecordSource.create();\n\n    this._sink.clear();\n  };\n\n  _proto[\"delete\"] = function _delete(dataID) {\n    this._sink[\"delete\"](dataID);\n  };\n\n  _proto.remove = function remove(dataID) {\n    this._sink.set(dataID, UNPUBLISH_RECORD_SENTINEL);\n  };\n\n  _proto.set = function set(dataID, record) {\n    this._sink.set(dataID, record);\n  };\n\n  _proto.getRecordIDs = function getRecordIDs() {\n    return Object.keys(this.toJSON());\n  };\n\n  _proto.size = function size() {\n    return Object.keys(this.toJSON()).length;\n  };\n\n  _proto.toJSON = function toJSON() {\n    var _this = this;\n\n    var merged = (0, _objectSpread2[\"default\"])({}, this._base.toJSON());\n\n    this._sink.getRecordIDs().forEach(function (dataID) {\n      var record = _this.get(dataID);\n\n      if (record === undefined) {\n        delete merged[dataID];\n      } else {\n        merged[dataID] = record;\n      }\n    });\n\n    return merged;\n  };\n\n  return RelayOptimisticRecordSource;\n}();\n\nfunction create(base) {\n  return new RelayOptimisticRecordSource(base);\n}\n\nmodule.exports = {\n  create: create\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar ErrorUtils = require(\"fbjs/lib/ErrorUtils\");\n\nvar RelayReader = require('./RelayReader');\n\nvar RelayRecordSource = require('./RelayRecordSource');\n\nvar RelayRecordSourceMutator = require('../mutations/RelayRecordSourceMutator');\n\nvar RelayRecordSourceProxy = require('../mutations/RelayRecordSourceProxy');\n\nvar RelayRecordSourceSelectorProxy = require('../mutations/RelayRecordSourceSelectorProxy');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar warning = require(\"fbjs/lib/warning\");\n\n/**\n * Coordinates the concurrent modification of a `Store` due to optimistic and\n * non-revertable client updates and server payloads:\n * - Applies optimistic updates.\n * - Reverts optimistic updates, rebasing any subsequent updates.\n * - Commits client updates (typically for client schema extensions).\n * - Commits server updates:\n *   - Normalizes query/mutation/subscription responses.\n *   - Executes handlers for \"handle\" fields.\n *   - Reverts and reapplies pending optimistic updates.\n */\nvar RelayPublishQueue = /*#__PURE__*/function () {\n  // True if the next `run()` should apply the backup and rerun all optimistic\n  // updates performing a rebase.\n  // Payloads to apply or Sources to publish to the store with the next `run()`.\n  // Optimistic updaters to add with the next `run()`.\n  // Optimistic updaters that are already added and might be rerun in order to\n  // rebase them.\n  // Garbage collection hold, should rerun gc on dispose\n  function RelayPublishQueue(store, handlerProvider, getDataID) {\n    this._hasStoreSnapshot = false;\n    this._handlerProvider = handlerProvider || null;\n    this._pendingBackupRebase = false;\n    this._pendingData = new Set();\n    this._pendingOptimisticUpdates = new Set();\n    this._store = store;\n    this._appliedOptimisticUpdates = new Set();\n    this._gcHold = null;\n    this._getDataID = getDataID;\n  }\n  /**\n   * Schedule applying an optimistic updates on the next `run()`.\n   */\n\n\n  var _proto = RelayPublishQueue.prototype;\n\n  _proto.applyUpdate = function applyUpdate(updater) {\n    !(!this._appliedOptimisticUpdates.has(updater) && !this._pendingOptimisticUpdates.has(updater)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayPublishQueue: Cannot apply the same update function more than ' + 'once concurrently.') : invariant(false) : void 0;\n\n    this._pendingOptimisticUpdates.add(updater);\n  }\n  /**\n   * Schedule reverting an optimistic updates on the next `run()`.\n   */\n  ;\n\n  _proto.revertUpdate = function revertUpdate(updater) {\n    if (this._pendingOptimisticUpdates.has(updater)) {\n      // Reverted before it was applied\n      this._pendingOptimisticUpdates[\"delete\"](updater);\n    } else if (this._appliedOptimisticUpdates.has(updater)) {\n      this._pendingBackupRebase = true;\n\n      this._appliedOptimisticUpdates[\"delete\"](updater);\n    }\n  }\n  /**\n   * Schedule a revert of all optimistic updates on the next `run()`.\n   */\n  ;\n\n  _proto.revertAll = function revertAll() {\n    this._pendingBackupRebase = true;\n\n    this._pendingOptimisticUpdates.clear();\n\n    this._appliedOptimisticUpdates.clear();\n  }\n  /**\n   * Schedule applying a payload to the store on the next `run()`.\n   */\n  ;\n\n  _proto.commitPayload = function commitPayload(operation, payload, updater) {\n    this._pendingBackupRebase = true;\n\n    this._pendingData.add({\n      kind: 'payload',\n      operation: operation,\n      payload: payload,\n      updater: updater\n    });\n  }\n  /**\n   * Schedule an updater to mutate the store on the next `run()` typically to\n   * update client schema fields.\n   */\n  ;\n\n  _proto.commitUpdate = function commitUpdate(updater) {\n    this._pendingBackupRebase = true;\n\n    this._pendingData.add({\n      kind: 'updater',\n      updater: updater\n    });\n  }\n  /**\n   * Schedule a publish to the store from the provided source on the next\n   * `run()`. As an example, to update the store with substituted fields that\n   * are missing in the store.\n   */\n  ;\n\n  _proto.commitSource = function commitSource(source) {\n    this._pendingBackupRebase = true;\n\n    this._pendingData.add({\n      kind: 'source',\n      source: source\n    });\n  }\n  /**\n   * Execute all queued up operations from the other public methods.\n   */\n  ;\n\n  _proto.run = function run(sourceOperation) {\n    if (process.env.NODE_ENV !== \"production\") {\n      process.env.NODE_ENV !== \"production\" ? warning(this._isRunning !== true, 'A store update was detected within another store update. Please ' + \"make sure new store updates aren't being executed within an \" + 'updater function for a different update.') : void 0;\n      this._isRunning = true;\n    }\n\n    if (this._pendingBackupRebase) {\n      if (this._hasStoreSnapshot) {\n        this._store.restore();\n\n        this._hasStoreSnapshot = false;\n      }\n    }\n\n    var invalidatedStore = this._commitData();\n\n    if (this._pendingOptimisticUpdates.size || this._pendingBackupRebase && this._appliedOptimisticUpdates.size) {\n      if (!this._hasStoreSnapshot) {\n        this._store.snapshot();\n\n        this._hasStoreSnapshot = true;\n      }\n\n      this._applyUpdates();\n    }\n\n    this._pendingBackupRebase = false;\n\n    if (this._appliedOptimisticUpdates.size > 0) {\n      if (!this._gcHold) {\n        this._gcHold = this._store.holdGC();\n      }\n    } else {\n      if (this._gcHold) {\n        this._gcHold.dispose();\n\n        this._gcHold = null;\n      }\n    }\n\n    if (process.env.NODE_ENV !== \"production\") {\n      this._isRunning = false;\n    }\n\n    return this._store.notify(sourceOperation, invalidatedStore);\n  }\n  /**\n   * _publishSourceFromPayload will return a boolean indicating if the\n   * publish caused the store to be globally invalidated.\n   */\n  ;\n\n  _proto._publishSourceFromPayload = function _publishSourceFromPayload(pendingPayload) {\n    var _this = this;\n\n    var payload = pendingPayload.payload,\n        operation = pendingPayload.operation,\n        updater = pendingPayload.updater;\n    var source = payload.source,\n        fieldPayloads = payload.fieldPayloads;\n    var mutator = new RelayRecordSourceMutator(this._store.getSource(), source);\n    var recordSourceProxy = new RelayRecordSourceProxy(mutator, this._getDataID);\n\n    if (fieldPayloads && fieldPayloads.length) {\n      fieldPayloads.forEach(function (fieldPayload) {\n        var handler = _this._handlerProvider && _this._handlerProvider(fieldPayload.handle);\n\n        !handler ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected a handler to be provided for ' + 'handle `%s`.', fieldPayload.handle) : invariant(false) : void 0;\n        handler.update(recordSourceProxy, fieldPayload);\n      });\n    }\n\n    if (updater) {\n      var selector = operation.fragment;\n      !(selector != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected a selector to be provided with updater function.') : invariant(false) : void 0;\n      var recordSourceSelectorProxy = new RelayRecordSourceSelectorProxy(mutator, recordSourceProxy, selector);\n      var selectorData = lookupSelector(source, selector);\n      updater(recordSourceSelectorProxy, selectorData);\n    }\n\n    var idsMarkedForInvalidation = recordSourceProxy.getIDsMarkedForInvalidation();\n\n    this._store.publish(source, idsMarkedForInvalidation);\n\n    return recordSourceProxy.isStoreMarkedForInvalidation();\n  }\n  /**\n   * _commitData will return a boolean indicating if any of\n   * the pending commits caused the store to be globally invalidated.\n   */\n  ;\n\n  _proto._commitData = function _commitData() {\n    var _this2 = this;\n\n    if (!this._pendingData.size) {\n      return false;\n    }\n\n    var invalidatedStore = false;\n\n    this._pendingData.forEach(function (data) {\n      if (data.kind === 'payload') {\n        var payloadInvalidatedStore = _this2._publishSourceFromPayload(data);\n\n        invalidatedStore = invalidatedStore || payloadInvalidatedStore;\n      } else if (data.kind === 'source') {\n        var source = data.source;\n\n        _this2._store.publish(source);\n      } else {\n        var updater = data.updater;\n        var sink = RelayRecordSource.create();\n        var mutator = new RelayRecordSourceMutator(_this2._store.getSource(), sink);\n        var recordSourceProxy = new RelayRecordSourceProxy(mutator, _this2._getDataID);\n        ErrorUtils.applyWithGuard(updater, null, [recordSourceProxy], null, 'RelayPublishQueue:commitData');\n        invalidatedStore = invalidatedStore || recordSourceProxy.isStoreMarkedForInvalidation();\n        var idsMarkedForInvalidation = recordSourceProxy.getIDsMarkedForInvalidation();\n\n        _this2._store.publish(sink, idsMarkedForInvalidation);\n      }\n    });\n\n    this._pendingData.clear();\n\n    return invalidatedStore;\n  }\n  /**\n   * Note that unlike _commitData, _applyUpdates will NOT return a boolean\n   * indicating if the store was globally invalidated, since invalidating the\n   * store during an optimistic update is a no-op.\n   */\n  ;\n\n  _proto._applyUpdates = function _applyUpdates() {\n    var _this3 = this;\n\n    var sink = RelayRecordSource.create();\n    var mutator = new RelayRecordSourceMutator(this._store.getSource(), sink);\n    var recordSourceProxy = new RelayRecordSourceProxy(mutator, this._getDataID, this._handlerProvider);\n\n    var processUpdate = function processUpdate(optimisticUpdate) {\n      if (optimisticUpdate.storeUpdater) {\n        var storeUpdater = optimisticUpdate.storeUpdater;\n        ErrorUtils.applyWithGuard(storeUpdater, null, [recordSourceProxy], null, 'RelayPublishQueue:applyUpdates');\n      } else {\n        var operation = optimisticUpdate.operation,\n            payload = optimisticUpdate.payload,\n            updater = optimisticUpdate.updater;\n        var source = payload.source,\n            fieldPayloads = payload.fieldPayloads;\n        var recordSourceSelectorProxy = new RelayRecordSourceSelectorProxy(mutator, recordSourceProxy, operation.fragment);\n        var selectorData;\n\n        if (source) {\n          recordSourceProxy.publishSource(source, fieldPayloads);\n          selectorData = lookupSelector(source, operation.fragment);\n        }\n\n        if (updater) {\n          ErrorUtils.applyWithGuard(updater, null, [recordSourceSelectorProxy, selectorData], null, 'RelayPublishQueue:applyUpdates');\n        }\n      }\n    }; // rerun all updaters in case we are running a rebase\n\n\n    if (this._pendingBackupRebase && this._appliedOptimisticUpdates.size) {\n      this._appliedOptimisticUpdates.forEach(processUpdate);\n    } // apply any new updaters\n\n\n    if (this._pendingOptimisticUpdates.size) {\n      this._pendingOptimisticUpdates.forEach(function (optimisticUpdate) {\n        processUpdate(optimisticUpdate);\n\n        _this3._appliedOptimisticUpdates.add(optimisticUpdate);\n      });\n\n      this._pendingOptimisticUpdates.clear();\n    }\n\n    this._store.publish(sink);\n  };\n\n  return RelayPublishQueue;\n}();\n\nfunction lookupSelector(source, selector) {\n  var selectorData = RelayReader.read(source, selector).data;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var deepFreeze = require('../util/deepFreeze');\n\n    if (selectorData) {\n      deepFreeze(selectorData);\n    }\n  }\n\n  return selectorData;\n}\n\nmodule.exports = RelayPublishQueue;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar RelayFeatureFlags = require('../util/RelayFeatureFlags');\n\nvar RelayModernRecord = require('./RelayModernRecord');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar _require = require('../util/RelayConcreteNode'),\n    CLIENT_EXTENSION = _require.CLIENT_EXTENSION,\n    CONDITION = _require.CONDITION,\n    DEFER = _require.DEFER,\n    FLIGHT_FIELD = _require.FLIGHT_FIELD,\n    FRAGMENT_SPREAD = _require.FRAGMENT_SPREAD,\n    INLINE_DATA_FRAGMENT_SPREAD = _require.INLINE_DATA_FRAGMENT_SPREAD,\n    INLINE_FRAGMENT = _require.INLINE_FRAGMENT,\n    LINKED_FIELD = _require.LINKED_FIELD,\n    MODULE_IMPORT = _require.MODULE_IMPORT,\n    REQUIRED_FIELD = _require.REQUIRED_FIELD,\n    SCALAR_FIELD = _require.SCALAR_FIELD,\n    STREAM = _require.STREAM;\n\nvar _require2 = require('./RelayStoreReactFlightUtils'),\n    getReactFlightClientResponse = _require2.getReactFlightClientResponse;\n\nvar _require3 = require('./RelayStoreUtils'),\n    FRAGMENTS_KEY = _require3.FRAGMENTS_KEY,\n    FRAGMENT_OWNER_KEY = _require3.FRAGMENT_OWNER_KEY,\n    FRAGMENT_PROP_NAME_KEY = _require3.FRAGMENT_PROP_NAME_KEY,\n    ID_KEY = _require3.ID_KEY,\n    IS_WITHIN_UNMATCHED_TYPE_REFINEMENT = _require3.IS_WITHIN_UNMATCHED_TYPE_REFINEMENT,\n    MODULE_COMPONENT_KEY = _require3.MODULE_COMPONENT_KEY,\n    ROOT_ID = _require3.ROOT_ID,\n    getArgumentValues = _require3.getArgumentValues,\n    getStorageKey = _require3.getStorageKey,\n    getModuleComponentKey = _require3.getModuleComponentKey;\n\nvar _require4 = require('./TypeID'),\n    generateTypeID = _require4.generateTypeID;\n\nfunction read(recordSource, selector) {\n  var reader = new RelayReader(recordSource, selector);\n  return reader.read();\n}\n/**\n * @private\n */\n\n\nvar RelayReader = /*#__PURE__*/function () {\n  function RelayReader(recordSource, selector) {\n    this._isMissingData = false;\n    this._isWithinUnmatchedTypeRefinement = false;\n    this._missingRequiredFields = null;\n    this._owner = selector.owner;\n    this._recordSource = recordSource;\n    this._seenRecords = {};\n    this._selector = selector;\n    this._variables = selector.variables;\n  }\n\n  var _proto = RelayReader.prototype;\n\n  _proto.read = function read() {\n    var _this$_selector = this._selector,\n        node = _this$_selector.node,\n        dataID = _this$_selector.dataID,\n        isWithinUnmatchedTypeRefinement = _this$_selector.isWithinUnmatchedTypeRefinement;\n    var abstractKey = node.abstractKey;\n\n    var record = this._recordSource.get(dataID); // Relay historically allowed child fragments to be read even if the root object\n    // did not match the type of the fragment: either the root object has a different\n    // concrete type than the fragment (for concrete fragments) or the root object does\n    // not conform to the interface/union for abstract fragments.\n    // For suspense purposes, however, we want to accurately compute whether any data\n    // is missing: but if the fragment type doesn't match (or a parent type didn't\n    // match), then no data is expected to be present.\n    // By default data is expected to be present unless this selector was read out\n    // from within a non-matching type refinement in a parent fragment:\n\n\n    var isDataExpectedToBePresent = !isWithinUnmatchedTypeRefinement; // If this is a concrete fragment and the concrete type of the record does not\n    // match, then no data is expected to be present.\n\n    if (isDataExpectedToBePresent && abstractKey == null && record != null) {\n      var recordType = RelayModernRecord.getType(record);\n\n      if (recordType !== node.type && dataID !== ROOT_ID) {\n        isDataExpectedToBePresent = false;\n      }\n    } // If this is an abstract fragment (and the precise refinement GK is enabled)\n    // then data is only expected to be present if the record type is known to\n    // implement the interface. If we aren't sure whether the record implements\n    // the interface, that itself constitutes \"expected\" data being missing.\n\n\n    if (isDataExpectedToBePresent && abstractKey != null && record != null && RelayFeatureFlags.ENABLE_PRECISE_TYPE_REFINEMENT) {\n      var _recordType = RelayModernRecord.getType(record);\n\n      var typeID = generateTypeID(_recordType);\n\n      var typeRecord = this._recordSource.get(typeID);\n\n      var implementsInterface = typeRecord != null ? RelayModernRecord.getValue(typeRecord, abstractKey) : null;\n\n      if (implementsInterface === false) {\n        // Type known to not implement the interface\n        isDataExpectedToBePresent = false;\n      } else if (implementsInterface == null) {\n        // Don't know if the type implements the interface or not\n        this._isMissingData = true;\n      }\n    }\n\n    this._isWithinUnmatchedTypeRefinement = !isDataExpectedToBePresent;\n\n    var data = this._traverse(node, dataID, null);\n\n    return {\n      data: data,\n      isMissingData: this._isMissingData && isDataExpectedToBePresent,\n      seenRecords: this._seenRecords,\n      selector: this._selector,\n      missingRequiredFields: this._missingRequiredFields\n    };\n  };\n\n  _proto._traverse = function _traverse(node, dataID, prevData) {\n    var record = this._recordSource.get(dataID);\n\n    this._seenRecords[dataID] = record;\n\n    if (record == null) {\n      if (record === undefined) {\n        this._isMissingData = true;\n      }\n\n      return record;\n    }\n\n    var data = prevData || {};\n\n    var hadRequiredData = this._traverseSelections(node.selections, record, data);\n\n    return hadRequiredData ? data : null;\n  };\n\n  _proto._getVariableValue = function _getVariableValue(name) {\n    !this._variables.hasOwnProperty(name) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReader(): Undefined variable `%s`.', name) : invariant(false) : void 0;\n    return this._variables[name];\n  };\n\n  _proto._maybeReportUnexpectedNull = function _maybeReportUnexpectedNull(fieldPath, action, record) {\n    var _this$_missingRequire;\n\n    if (((_this$_missingRequire = this._missingRequiredFields) === null || _this$_missingRequire === void 0 ? void 0 : _this$_missingRequire.action) === 'THROW') {\n      // Chained @required directives may cause a parent `@required(action:\n      // THROW)` field to become null, so the first missing field we\n      // encounter is likely to be the root cause of the error.\n      return;\n    }\n\n    var owner = this._selector.node.name;\n\n    switch (action) {\n      case 'THROW':\n        this._missingRequiredFields = {\n          action: action,\n          field: {\n            path: fieldPath,\n            owner: owner\n          }\n        };\n        return;\n\n      case 'LOG':\n        if (this._missingRequiredFields == null) {\n          this._missingRequiredFields = {\n            action: action,\n            fields: []\n          };\n        }\n\n        this._missingRequiredFields.fields.push({\n          path: fieldPath,\n          owner: owner\n        });\n\n        return;\n\n      default:\n        action;\n    }\n  };\n\n  _proto._traverseSelections = function _traverseSelections(selections, record, data)\n  /* had all expected data */\n  {\n    for (var i = 0; i < selections.length; i++) {\n      var selection = selections[i];\n\n      switch (selection.kind) {\n        case REQUIRED_FIELD:\n          !RelayFeatureFlags.ENABLE_REQUIRED_DIRECTIVES ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReader(): Encountered a `@required` directive at path \"%s\" in `%s` without the `ENABLE_REQUIRED_DIRECTIVES` feature flag enabled.', selection.path, this._selector.node.name) : invariant(false) : void 0;\n\n          var fieldValue = this._readRequiredField(selection, record, data);\n\n          if (fieldValue == null) {\n            var action = selection.action;\n\n            if (action !== 'NONE') {\n              this._maybeReportUnexpectedNull(selection.path, action, record);\n            } // We are going to throw, or our parent is going to get nulled out.\n            // Either way, sibling values are going to be ignored, so we can\n            // bail early here as an optimization.\n\n\n            return false;\n          }\n\n          break;\n\n        case SCALAR_FIELD:\n          this._readScalar(selection, record, data);\n\n          break;\n\n        case LINKED_FIELD:\n          if (selection.plural) {\n            this._readPluralLink(selection, record, data);\n          } else {\n            this._readLink(selection, record, data);\n          }\n\n          break;\n\n        case CONDITION:\n          var conditionValue = this._getVariableValue(selection.condition);\n\n          if (conditionValue === selection.passingValue) {\n            var hasExpectedData = this._traverseSelections(selection.selections, record, data);\n\n            if (!hasExpectedData) {\n              return false;\n            }\n          }\n\n          break;\n\n        case INLINE_FRAGMENT:\n          {\n            var abstractKey = selection.abstractKey;\n\n            if (abstractKey == null) {\n              // concrete type refinement: only read data if the type exactly matches\n              var typeName = RelayModernRecord.getType(record);\n\n              if (typeName != null && typeName === selection.type) {\n                var _hasExpectedData = this._traverseSelections(selection.selections, record, data);\n\n                if (!_hasExpectedData) {\n                  return false;\n                }\n              }\n            } else if (RelayFeatureFlags.ENABLE_PRECISE_TYPE_REFINEMENT) {\n              // Similar to the logic in read(): data is only expected to be present\n              // if the record is known to conform to the interface. If we don't know\n              // whether the type conforms or not, that constitutes missing data.\n              // store flags to reset after reading\n              var parentIsMissingData = this._isMissingData;\n              var parentIsWithinUnmatchedTypeRefinement = this._isWithinUnmatchedTypeRefinement;\n\n              var _typeName = RelayModernRecord.getType(record);\n\n              var typeID = generateTypeID(_typeName);\n\n              var typeRecord = this._recordSource.get(typeID);\n\n              var implementsInterface = typeRecord != null ? RelayModernRecord.getValue(typeRecord, abstractKey) : null;\n              this._isWithinUnmatchedTypeRefinement = parentIsWithinUnmatchedTypeRefinement || implementsInterface === false;\n\n              this._traverseSelections(selection.selections, record, data);\n\n              this._isWithinUnmatchedTypeRefinement = parentIsWithinUnmatchedTypeRefinement;\n\n              if (implementsInterface === false) {\n                // Type known to not implement the interface, no data expected\n                this._isMissingData = parentIsMissingData;\n              } else if (implementsInterface == null) {\n                // Don't know if the type implements the interface or not\n                this._isMissingData = true;\n              }\n            } else {\n              // legacy behavior for abstract refinements: always read even\n              // if the type doesn't conform and don't reset isMissingData\n              this._traverseSelections(selection.selections, record, data);\n            }\n\n            break;\n          }\n\n        case FRAGMENT_SPREAD:\n          this._createFragmentPointer(selection, record, data);\n\n          break;\n\n        case MODULE_IMPORT:\n          this._readModuleImport(selection, record, data);\n\n          break;\n\n        case INLINE_DATA_FRAGMENT_SPREAD:\n          this._createInlineDataFragmentPointer(selection, record, data);\n\n          break;\n\n        case DEFER:\n        case CLIENT_EXTENSION:\n          {\n            var isMissingData = this._isMissingData;\n\n            var _hasExpectedData2 = this._traverseSelections(selection.selections, record, data);\n\n            this._isMissingData = isMissingData;\n\n            if (!_hasExpectedData2) {\n              return false;\n            }\n\n            break;\n          }\n\n        case STREAM:\n          {\n            var _hasExpectedData3 = this._traverseSelections(selection.selections, record, data);\n\n            if (!_hasExpectedData3) {\n              return false;\n            }\n\n            break;\n          }\n\n        case FLIGHT_FIELD:\n          if (RelayFeatureFlags.ENABLE_REACT_FLIGHT_COMPONENT_FIELD) {\n            this._readFlightField(selection, record, data);\n          } else {\n            throw new Error('Flight fields are not yet supported.');\n          }\n\n          break;\n\n        default:\n          selection;\n          !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReader(): Unexpected ast kind `%s`.', selection.kind) : invariant(false) : void 0;\n      }\n    }\n\n    return true;\n  };\n\n  _proto._readRequiredField = function _readRequiredField(selection, record, data) {\n    switch (selection.field.kind) {\n      case SCALAR_FIELD:\n        return this._readScalar(selection.field, record, data);\n\n      case LINKED_FIELD:\n        if (selection.field.plural) {\n          return this._readPluralLink(selection.field, record, data);\n        } else {\n          return this._readLink(selection.field, record, data);\n        }\n\n      default:\n        selection.field.kind;\n        !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReader(): Unexpected ast kind `%s`.', selection.kind) : invariant(false) : void 0;\n    }\n  };\n\n  _proto._readFlightField = function _readFlightField(field, record, data) {\n    var _field$alias;\n\n    var applicationName = (_field$alias = field.alias) !== null && _field$alias !== void 0 ? _field$alias : field.name;\n    var storageKey = getStorageKey(field, this._variables);\n    var reactFlightClientResponseRecordID = RelayModernRecord.getLinkedRecordID(record, storageKey);\n\n    if (reactFlightClientResponseRecordID == null) {\n      data[applicationName] = reactFlightClientResponseRecordID;\n\n      if (reactFlightClientResponseRecordID === undefined) {\n        this._isMissingData = true;\n      }\n\n      return reactFlightClientResponseRecordID;\n    }\n\n    var reactFlightClientResponseRecord = this._recordSource.get(reactFlightClientResponseRecordID);\n\n    this._seenRecords[reactFlightClientResponseRecordID] = reactFlightClientResponseRecord;\n\n    if (reactFlightClientResponseRecord == null) {\n      data[applicationName] = reactFlightClientResponseRecord;\n\n      if (reactFlightClientResponseRecord === undefined) {\n        this._isMissingData = true;\n      }\n\n      return reactFlightClientResponseRecord;\n    }\n\n    var clientResponse = getReactFlightClientResponse(reactFlightClientResponseRecord);\n    data[applicationName] = clientResponse;\n    return clientResponse;\n  };\n\n  _proto._readScalar = function _readScalar(field, record, data) {\n    var _field$alias2;\n\n    var applicationName = (_field$alias2 = field.alias) !== null && _field$alias2 !== void 0 ? _field$alias2 : field.name;\n    var storageKey = getStorageKey(field, this._variables);\n    var value = RelayModernRecord.getValue(record, storageKey);\n\n    if (value === undefined) {\n      this._isMissingData = true;\n    }\n\n    data[applicationName] = value;\n    return value;\n  };\n\n  _proto._readLink = function _readLink(field, record, data) {\n    var _field$alias3;\n\n    var applicationName = (_field$alias3 = field.alias) !== null && _field$alias3 !== void 0 ? _field$alias3 : field.name;\n    var storageKey = getStorageKey(field, this._variables);\n    var linkedID = RelayModernRecord.getLinkedRecordID(record, storageKey);\n\n    if (linkedID == null) {\n      data[applicationName] = linkedID;\n\n      if (linkedID === undefined) {\n        this._isMissingData = true;\n      }\n\n      return linkedID;\n    }\n\n    var prevData = data[applicationName];\n    !(prevData == null || typeof prevData === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReader(): Expected data for field `%s` on record `%s` ' + 'to be an object, got `%s`.', applicationName, RelayModernRecord.getDataID(record), prevData) : invariant(false) : void 0; // $FlowFixMe[incompatible-variance]\n\n    var value = this._traverse(field, linkedID, prevData);\n\n    data[applicationName] = value;\n    return value;\n  };\n\n  _proto._readPluralLink = function _readPluralLink(field, record, data) {\n    var _this = this;\n\n    var _field$alias4;\n\n    var applicationName = (_field$alias4 = field.alias) !== null && _field$alias4 !== void 0 ? _field$alias4 : field.name;\n    var storageKey = getStorageKey(field, this._variables);\n    var linkedIDs = RelayModernRecord.getLinkedRecordIDs(record, storageKey);\n\n    if (linkedIDs == null) {\n      data[applicationName] = linkedIDs;\n\n      if (linkedIDs === undefined) {\n        this._isMissingData = true;\n      }\n\n      return linkedIDs;\n    }\n\n    var prevData = data[applicationName];\n    !(prevData == null || Array.isArray(prevData)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReader(): Expected data for field `%s` on record `%s` ' + 'to be an array, got `%s`.', applicationName, RelayModernRecord.getDataID(record), prevData) : invariant(false) : void 0;\n    var linkedArray = prevData || [];\n    linkedIDs.forEach(function (linkedID, nextIndex) {\n      if (linkedID == null) {\n        if (linkedID === undefined) {\n          _this._isMissingData = true;\n        } // $FlowFixMe[cannot-write]\n\n\n        linkedArray[nextIndex] = linkedID;\n        return;\n      }\n\n      var prevItem = linkedArray[nextIndex];\n      !(prevItem == null || typeof prevItem === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReader(): Expected data for field `%s` on record `%s` ' + 'to be an object, got `%s`.', applicationName, RelayModernRecord.getDataID(record), prevItem) : invariant(false) : void 0; // $FlowFixMe[cannot-write]\n      // $FlowFixMe[incompatible-variance]\n\n      linkedArray[nextIndex] = _this._traverse(field, linkedID, prevItem);\n    });\n    data[applicationName] = linkedArray;\n    return linkedArray;\n  }\n  /**\n   * Reads a ReaderModuleImport, which was generated from using the @module\n   * directive.\n   */\n  ;\n\n  _proto._readModuleImport = function _readModuleImport(moduleImport, record, data) {\n    // Determine the component module from the store: if the field is missing\n    // it means we don't know what component to render the match with.\n    var componentKey = getModuleComponentKey(moduleImport.documentName);\n    var component = RelayModernRecord.getValue(record, componentKey);\n\n    if (component == null) {\n      if (component === undefined) {\n        this._isMissingData = true;\n      }\n\n      return;\n    } // Otherwise, read the fragment and module associated to the concrete\n    // type, and put that data with the result:\n    // - For the matched fragment, create the relevant fragment pointer and add\n    //   the expected fragmentPropName\n    // - For the matched module, create a reference to the module\n\n\n    this._createFragmentPointer({\n      kind: 'FragmentSpread',\n      name: moduleImport.fragmentName,\n      args: null\n    }, record, data);\n\n    data[FRAGMENT_PROP_NAME_KEY] = moduleImport.fragmentPropName;\n    data[MODULE_COMPONENT_KEY] = component;\n  };\n\n  _proto._createFragmentPointer = function _createFragmentPointer(fragmentSpread, record, data) {\n    var fragmentPointers = data[FRAGMENTS_KEY];\n\n    if (fragmentPointers == null) {\n      fragmentPointers = data[FRAGMENTS_KEY] = {};\n    }\n\n    !(typeof fragmentPointers === 'object' && fragmentPointers != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReader: Expected fragment spread data to be an object, got `%s`.', fragmentPointers) : invariant(false) : void 0;\n\n    if (data[ID_KEY] == null) {\n      data[ID_KEY] = RelayModernRecord.getDataID(record);\n    } // $FlowFixMe[cannot-write] - writing into read-only field\n\n\n    fragmentPointers[fragmentSpread.name] = fragmentSpread.args ? getArgumentValues(fragmentSpread.args, this._variables) : {};\n    data[FRAGMENT_OWNER_KEY] = this._owner;\n\n    if (RelayFeatureFlags.ENABLE_PRECISE_TYPE_REFINEMENT) {\n      data[IS_WITHIN_UNMATCHED_TYPE_REFINEMENT] = this._isWithinUnmatchedTypeRefinement;\n    }\n  };\n\n  _proto._createInlineDataFragmentPointer = function _createInlineDataFragmentPointer(inlineDataFragmentSpread, record, data) {\n    var fragmentPointers = data[FRAGMENTS_KEY];\n\n    if (fragmentPointers == null) {\n      fragmentPointers = data[FRAGMENTS_KEY] = {};\n    }\n\n    !(typeof fragmentPointers === 'object' && fragmentPointers != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReader: Expected fragment spread data to be an object, got `%s`.', fragmentPointers) : invariant(false) : void 0;\n\n    if (data[ID_KEY] == null) {\n      data[ID_KEY] = RelayModernRecord.getDataID(record);\n    }\n\n    var inlineData = {};\n\n    this._traverseSelections(inlineDataFragmentSpread.selections, record, inlineData); // $FlowFixMe[cannot-write] - writing into read-only field\n\n\n    fragmentPointers[inlineDataFragmentSpread.name] = inlineData;\n  };\n\n  return RelayReader;\n}();\n\nmodule.exports = {\n  read: read\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar RelayRecordSourceMapImpl = require('./RelayRecordSourceMapImpl');\n\nvar RelayRecordSource = /*#__PURE__*/function () {\n  function RelayRecordSource(records) {\n    return RelayRecordSource.create(records);\n  }\n\n  RelayRecordSource.create = function create(records) {\n    return new RelayRecordSourceMapImpl(records);\n  };\n\n  return RelayRecordSource;\n}();\n\nmodule.exports = RelayRecordSource;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\n\nvar RelayRecordState = require('./RelayRecordState');\n\nvar EXISTENT = RelayRecordState.EXISTENT,\n    NONEXISTENT = RelayRecordState.NONEXISTENT,\n    UNKNOWN = RelayRecordState.UNKNOWN;\n/**\n * An implementation of the `MutableRecordSource` interface (defined in\n * `RelayStoreTypes`) that holds all records in memory (JS Map).\n */\n\nvar RelayMapRecordSourceMapImpl = /*#__PURE__*/function () {\n  function RelayMapRecordSourceMapImpl(records) {\n    var _this = this;\n\n    this._records = new Map();\n\n    if (records != null) {\n      Object.keys(records).forEach(function (key) {\n        _this._records.set(key, records[key]);\n      });\n    }\n  }\n\n  var _proto = RelayMapRecordSourceMapImpl.prototype;\n\n  _proto.clear = function clear() {\n    this._records = new Map();\n  };\n\n  _proto[\"delete\"] = function _delete(dataID) {\n    this._records.set(dataID, null);\n  };\n\n  _proto.get = function get(dataID) {\n    return this._records.get(dataID);\n  };\n\n  _proto.getRecordIDs = function getRecordIDs() {\n    return Array.from(this._records.keys());\n  };\n\n  _proto.getStatus = function getStatus(dataID) {\n    if (!this._records.has(dataID)) {\n      return UNKNOWN;\n    }\n\n    return this._records.get(dataID) == null ? NONEXISTENT : EXISTENT;\n  };\n\n  _proto.has = function has(dataID) {\n    return this._records.has(dataID);\n  };\n\n  _proto.remove = function remove(dataID) {\n    this._records[\"delete\"](dataID);\n  };\n\n  _proto.set = function set(dataID, record) {\n    this._records.set(dataID, record);\n  };\n\n  _proto.size = function size() {\n    return this._records.size;\n  };\n\n  _proto.toJSON = function toJSON() {\n    var obj = {};\n\n    var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(this._records),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _step$value = _step.value,\n            key = _step$value[0],\n            value = _step$value[1];\n        obj[key] = value;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return obj;\n  };\n\n  return RelayMapRecordSourceMapImpl;\n}();\n\nmodule.exports = RelayMapRecordSourceMapImpl;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar RelayRecordState = {\n  /**\n   * Record exists (either fetched from the server or produced by a local,\n   * optimistic update).\n   */\n  EXISTENT: 'EXISTENT',\n\n  /**\n   * Record is known not to exist (either as the result of a mutation, or\n   * because the server returned `null` when queried for the record).\n   */\n  NONEXISTENT: 'NONEXISTENT',\n\n  /**\n   * Record State is unknown because it has not yet been fetched from the\n   * server.\n   */\n  UNKNOWN: 'UNKNOWN'\n};\nmodule.exports = RelayRecordState;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\n\nvar RelayConcreteNode = require('../util/RelayConcreteNode');\n\nvar RelayFeatureFlags = require('../util/RelayFeatureFlags');\n\nvar RelayModernRecord = require('./RelayModernRecord');\n\nvar RelayStoreReactFlightUtils = require('./RelayStoreReactFlightUtils');\n\nvar RelayStoreUtils = require('./RelayStoreUtils');\n\nvar cloneRelayHandleSourceField = require('./cloneRelayHandleSourceField');\n\nvar getOperation = require('../util/getOperation');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar _require = require('./TypeID'),\n    generateTypeID = _require.generateTypeID;\n\nvar CONDITION = RelayConcreteNode.CONDITION,\n    CLIENT_EXTENSION = RelayConcreteNode.CLIENT_EXTENSION,\n    DEFER = RelayConcreteNode.DEFER,\n    FLIGHT_FIELD = RelayConcreteNode.FLIGHT_FIELD,\n    FRAGMENT_SPREAD = RelayConcreteNode.FRAGMENT_SPREAD,\n    INLINE_FRAGMENT = RelayConcreteNode.INLINE_FRAGMENT,\n    LINKED_FIELD = RelayConcreteNode.LINKED_FIELD,\n    MODULE_IMPORT = RelayConcreteNode.MODULE_IMPORT,\n    LINKED_HANDLE = RelayConcreteNode.LINKED_HANDLE,\n    SCALAR_FIELD = RelayConcreteNode.SCALAR_FIELD,\n    SCALAR_HANDLE = RelayConcreteNode.SCALAR_HANDLE,\n    STREAM = RelayConcreteNode.STREAM,\n    TYPE_DISCRIMINATOR = RelayConcreteNode.TYPE_DISCRIMINATOR;\nvar ROOT_ID = RelayStoreUtils.ROOT_ID,\n    getStorageKey = RelayStoreUtils.getStorageKey,\n    getModuleOperationKey = RelayStoreUtils.getModuleOperationKey;\n\nfunction mark(recordSource, selector, references, operationLoader) {\n  var dataID = selector.dataID,\n      node = selector.node,\n      variables = selector.variables;\n  var marker = new RelayReferenceMarker(recordSource, variables, references, operationLoader);\n  marker.mark(node, dataID);\n}\n/**\n * @private\n */\n\n\nvar RelayReferenceMarker = /*#__PURE__*/function () {\n  function RelayReferenceMarker(recordSource, variables, references, operationLoader) {\n    this._operationLoader = operationLoader !== null && operationLoader !== void 0 ? operationLoader : null;\n    this._operationName = null;\n    this._recordSource = recordSource;\n    this._references = references;\n    this._variables = variables;\n  }\n\n  var _proto = RelayReferenceMarker.prototype;\n\n  _proto.mark = function mark(node, dataID) {\n    if (node.kind === 'Operation' || node.kind === 'SplitOperation') {\n      this._operationName = node.name;\n    }\n\n    this._traverse(node, dataID);\n  };\n\n  _proto._traverse = function _traverse(node, dataID) {\n    this._references.add(dataID);\n\n    var record = this._recordSource.get(dataID);\n\n    if (record == null) {\n      return;\n    }\n\n    this._traverseSelections(node.selections, record);\n  };\n\n  _proto._getVariableValue = function _getVariableValue(name) {\n    !this._variables.hasOwnProperty(name) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReferenceMarker(): Undefined variable `%s`.', name) : invariant(false) : void 0;\n    return this._variables[name];\n  };\n\n  _proto._traverseSelections = function _traverseSelections(selections, record) {\n    var _this = this;\n\n    selections.forEach(function (selection) {\n      /* eslint-disable no-fallthrough */\n      switch (selection.kind) {\n        case LINKED_FIELD:\n          if (selection.plural) {\n            _this._traversePluralLink(selection, record);\n          } else {\n            _this._traverseLink(selection, record);\n          }\n\n          break;\n\n        case CONDITION:\n          var conditionValue = _this._getVariableValue(selection.condition);\n\n          if (conditionValue === selection.passingValue) {\n            _this._traverseSelections(selection.selections, record);\n          }\n\n          break;\n\n        case INLINE_FRAGMENT:\n          if (selection.abstractKey == null) {\n            var typeName = RelayModernRecord.getType(record);\n\n            if (typeName != null && typeName === selection.type) {\n              _this._traverseSelections(selection.selections, record);\n            }\n          } else if (RelayFeatureFlags.ENABLE_PRECISE_TYPE_REFINEMENT) {\n            var _typeName = RelayModernRecord.getType(record);\n\n            var typeID = generateTypeID(_typeName);\n\n            _this._references.add(typeID);\n\n            _this._traverseSelections(selection.selections, record);\n          } else {\n            _this._traverseSelections(selection.selections, record);\n          }\n\n          break;\n        // $FlowFixMe[incompatible-type]\n\n        case FRAGMENT_SPREAD:\n          !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReferenceMarker(): Unexpected fragment spread `...%s`, ' + 'expected all fragments to be inlined.', selection.name) : invariant(false) : void 0;\n\n        case LINKED_HANDLE:\n          // The selections for a \"handle\" field are the same as those of the\n          // original linked field where the handle was applied. Reference marking\n          // therefore requires traversing the original field selections against\n          // the synthesized client field.\n          //\n          // TODO: Instead of finding the source field in `selections`, change\n          // the concrete structure to allow shared subtrees, and have the linked\n          // handle directly refer to the same selections as the LinkedField that\n          // it was split from.\n          var handleField = cloneRelayHandleSourceField(selection, selections, _this._variables);\n\n          if (handleField.plural) {\n            _this._traversePluralLink(handleField, record);\n          } else {\n            _this._traverseLink(handleField, record);\n          }\n\n          break;\n\n        case DEFER:\n        case STREAM:\n          _this._traverseSelections(selection.selections, record);\n\n          break;\n\n        case SCALAR_FIELD:\n        case SCALAR_HANDLE:\n          break;\n\n        case TYPE_DISCRIMINATOR:\n          {\n            if (RelayFeatureFlags.ENABLE_PRECISE_TYPE_REFINEMENT) {\n              var _typeName2 = RelayModernRecord.getType(record);\n\n              var _typeID = generateTypeID(_typeName2);\n\n              _this._references.add(_typeID);\n            }\n\n            break;\n          }\n\n        case MODULE_IMPORT:\n          _this._traverseModuleImport(selection, record);\n\n          break;\n\n        case CLIENT_EXTENSION:\n          _this._traverseSelections(selection.selections, record);\n\n          break;\n\n        case FLIGHT_FIELD:\n          if (RelayFeatureFlags.ENABLE_REACT_FLIGHT_COMPONENT_FIELD) {\n            _this._traverseFlightField(selection, record);\n          } else {\n            throw new Error('Flight fields are not yet supported.');\n          }\n\n          break;\n\n        default:\n          selection;\n          !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReferenceMarker: Unknown AST node `%s`.', selection) : invariant(false) : void 0;\n      }\n    });\n  };\n\n  _proto._traverseModuleImport = function _traverseModuleImport(moduleImport, record) {\n    var _this$_operationName;\n\n    var operationLoader = this._operationLoader;\n    !(operationLoader !== null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReferenceMarker: Expected an operationLoader to be configured when using `@module`. ' + 'Could not load fragment `%s` in operation `%s`.', moduleImport.fragmentName, (_this$_operationName = this._operationName) !== null && _this$_operationName !== void 0 ? _this$_operationName : '(unknown)') : invariant(false) : void 0;\n    var operationKey = getModuleOperationKey(moduleImport.documentName);\n    var operationReference = RelayModernRecord.getValue(record, operationKey);\n\n    if (operationReference == null) {\n      return;\n    }\n\n    var normalizationRootNode = operationLoader.get(operationReference);\n\n    if (normalizationRootNode != null) {\n      var selections = getOperation(normalizationRootNode).selections;\n\n      this._traverseSelections(selections, record);\n    } // Otherwise, if the operation is not available, we assume that the data\n    // cannot have been processed yet and therefore isn't in the store to\n    // begin with.\n\n  };\n\n  _proto._traverseLink = function _traverseLink(field, record) {\n    var storageKey = getStorageKey(field, this._variables);\n    var linkedID = RelayModernRecord.getLinkedRecordID(record, storageKey);\n\n    if (linkedID == null) {\n      return;\n    }\n\n    this._traverse(field, linkedID);\n  };\n\n  _proto._traversePluralLink = function _traversePluralLink(field, record) {\n    var _this2 = this;\n\n    var storageKey = getStorageKey(field, this._variables);\n    var linkedIDs = RelayModernRecord.getLinkedRecordIDs(record, storageKey);\n\n    if (linkedIDs == null) {\n      return;\n    }\n\n    linkedIDs.forEach(function (linkedID) {\n      if (linkedID != null) {\n        _this2._traverse(field, linkedID);\n      }\n    });\n  };\n\n  _proto._traverseFlightField = function _traverseFlightField(field, record) {\n    var storageKey = getStorageKey(field, this._variables);\n    var linkedID = RelayModernRecord.getLinkedRecordID(record, storageKey);\n\n    if (linkedID == null) {\n      return;\n    }\n\n    this._references.add(linkedID);\n\n    var reactFlightClientResponseRecord = this._recordSource.get(linkedID);\n\n    if (reactFlightClientResponseRecord == null) {\n      return;\n    }\n\n    var reachableQueries = RelayModernRecord.getValue(reactFlightClientResponseRecord, RelayStoreReactFlightUtils.REACT_FLIGHT_QUERIES_STORAGE_KEY);\n\n    if (!Array.isArray(reachableQueries)) {\n      return;\n    }\n\n    var operationLoader = this._operationLoader;\n    !(operationLoader !== null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'DataChecker: Expected an operationLoader to be configured when using ' + 'React Flight') : invariant(false) : void 0; // In Flight, the variables that are in scope for reachable queries aren't\n    // the same as what's in scope for the outer query.\n\n    var prevVariables = this._variables; // $FlowFixMe[incompatible-cast]\n\n    var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(reachableQueries),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var query = _step.value;\n        this._variables = query.variables;\n        var operationReference = query.module;\n        var normalizationRootNode = operationLoader.get(operationReference);\n\n        if (normalizationRootNode != null) {\n          var operation = getOperation(normalizationRootNode);\n\n          this._traverse(operation, ROOT_ID);\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    this._variables = prevVariables;\n  };\n\n  return RelayReferenceMarker;\n}();\n\nmodule.exports = {\n  mark: mark\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar RelayFeatureFlags = require('../util/RelayFeatureFlags');\n\nvar RelayModernRecord = require('./RelayModernRecord');\n\nvar RelayProfiler = require('../util/RelayProfiler');\n\nvar areEqual = require(\"fbjs/lib/areEqual\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar warning = require(\"fbjs/lib/warning\");\n\nvar _require = require('../util/RelayConcreteNode'),\n    CONDITION = _require.CONDITION,\n    CLIENT_EXTENSION = _require.CLIENT_EXTENSION,\n    DEFER = _require.DEFER,\n    FLIGHT_FIELD = _require.FLIGHT_FIELD,\n    INLINE_FRAGMENT = _require.INLINE_FRAGMENT,\n    LINKED_FIELD = _require.LINKED_FIELD,\n    LINKED_HANDLE = _require.LINKED_HANDLE,\n    MODULE_IMPORT = _require.MODULE_IMPORT,\n    SCALAR_FIELD = _require.SCALAR_FIELD,\n    SCALAR_HANDLE = _require.SCALAR_HANDLE,\n    STREAM = _require.STREAM,\n    TYPE_DISCRIMINATOR = _require.TYPE_DISCRIMINATOR;\n\nvar _require2 = require('./ClientID'),\n    generateClientID = _require2.generateClientID,\n    isClientID = _require2.isClientID;\n\nvar _require3 = require('./RelayModernSelector'),\n    createNormalizationSelector = _require3.createNormalizationSelector;\n\nvar _require4 = require('./RelayStoreReactFlightUtils'),\n    refineToReactFlightPayloadData = _require4.refineToReactFlightPayloadData,\n    REACT_FLIGHT_QUERIES_STORAGE_KEY = _require4.REACT_FLIGHT_QUERIES_STORAGE_KEY,\n    REACT_FLIGHT_TREE_STORAGE_KEY = _require4.REACT_FLIGHT_TREE_STORAGE_KEY,\n    REACT_FLIGHT_TYPE_NAME = _require4.REACT_FLIGHT_TYPE_NAME;\n\nvar _require5 = require('./RelayStoreUtils'),\n    getArgumentValues = _require5.getArgumentValues,\n    getHandleStorageKey = _require5.getHandleStorageKey,\n    getModuleComponentKey = _require5.getModuleComponentKey,\n    getModuleOperationKey = _require5.getModuleOperationKey,\n    getStorageKey = _require5.getStorageKey,\n    TYPENAME_KEY = _require5.TYPENAME_KEY,\n    ROOT_ID = _require5.ROOT_ID,\n    ROOT_TYPE = _require5.ROOT_TYPE;\n\nvar _require6 = require('./TypeID'),\n    generateTypeID = _require6.generateTypeID,\n    TYPE_SCHEMA_TYPE = _require6.TYPE_SCHEMA_TYPE;\n\n/**\n * Normalizes the results of a query and standard GraphQL response, writing the\n * normalized records/fields into the given MutableRecordSource.\n */\nfunction normalize(recordSource, selector, response, options) {\n  var dataID = selector.dataID,\n      node = selector.node,\n      variables = selector.variables;\n  var normalizer = new RelayResponseNormalizer(recordSource, variables, options);\n  return normalizer.normalizeResponse(node, dataID, response);\n}\n/**\n * @private\n *\n * Helper for handling payloads.\n */\n\n\nvar RelayResponseNormalizer = /*#__PURE__*/function () {\n  function RelayResponseNormalizer(recordSource, variables, options) {\n    this._getDataId = options.getDataID;\n    this._handleFieldPayloads = [];\n    this._treatMissingFieldsAsNull = options.treatMissingFieldsAsNull;\n    this._incrementalPlaceholders = [];\n    this._isClientExtension = false;\n    this._isUnmatchedAbstractType = false;\n    this._moduleImportPayloads = [];\n    this._path = options.path ? (0, _toConsumableArray2[\"default\"])(options.path) : [];\n    this._recordSource = recordSource;\n    this._variables = variables;\n    this._reactFlightPayloadDeserializer = options.reactFlightPayloadDeserializer;\n  }\n\n  var _proto = RelayResponseNormalizer.prototype;\n\n  _proto.normalizeResponse = function normalizeResponse(node, dataID, data) {\n    var record = this._recordSource.get(dataID);\n\n    !record ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer(): Expected root record `%s` to exist.', dataID) : invariant(false) : void 0;\n\n    this._traverseSelections(node, record, data);\n\n    return {\n      errors: null,\n      fieldPayloads: this._handleFieldPayloads,\n      incrementalPlaceholders: this._incrementalPlaceholders,\n      moduleImportPayloads: this._moduleImportPayloads,\n      source: this._recordSource,\n      isFinal: false\n    };\n  };\n\n  _proto._getVariableValue = function _getVariableValue(name) {\n    !this._variables.hasOwnProperty(name) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer(): Undefined variable `%s`.', name) : invariant(false) : void 0;\n    return this._variables[name];\n  };\n\n  _proto._getRecordType = function _getRecordType(data) {\n    var typeName = data[TYPENAME_KEY];\n    !(typeName != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer(): Expected a typename for record `%s`.', JSON.stringify(data, null, 2)) : invariant(false) : void 0;\n    return typeName;\n  };\n\n  _proto._traverseSelections = function _traverseSelections(node, record, data) {\n    for (var i = 0; i < node.selections.length; i++) {\n      var selection = node.selections[i];\n\n      switch (selection.kind) {\n        case SCALAR_FIELD:\n        case LINKED_FIELD:\n          this._normalizeField(node, selection, record, data);\n\n          break;\n\n        case CONDITION:\n          var conditionValue = this._getVariableValue(selection.condition);\n\n          if (conditionValue === selection.passingValue) {\n            this._traverseSelections(selection, record, data);\n          }\n\n          break;\n\n        case INLINE_FRAGMENT:\n          {\n            var abstractKey = selection.abstractKey;\n\n            if (abstractKey == null) {\n              var _typeName = RelayModernRecord.getType(record);\n\n              if (_typeName === selection.type) {\n                this._traverseSelections(selection, record, data);\n              }\n            } else if (RelayFeatureFlags.ENABLE_PRECISE_TYPE_REFINEMENT) {\n              var implementsInterface = data.hasOwnProperty(abstractKey);\n\n              var _typeName2 = RelayModernRecord.getType(record);\n\n              var typeID = generateTypeID(_typeName2);\n\n              var typeRecord = this._recordSource.get(typeID);\n\n              if (typeRecord == null) {\n                typeRecord = RelayModernRecord.create(typeID, TYPE_SCHEMA_TYPE);\n\n                this._recordSource.set(typeID, typeRecord);\n              }\n\n              RelayModernRecord.setValue(typeRecord, abstractKey, implementsInterface);\n\n              if (implementsInterface) {\n                this._traverseSelections(selection, record, data);\n              }\n            } else {\n              // legacy behavior for abstract refinements: always normalize even\n              // if the type doesn't conform, but track if the type matches or not\n              // for determining whether response fields are expected to be present\n              var _implementsInterface = data.hasOwnProperty(abstractKey);\n\n              var parentIsUnmatchedAbstractType = this._isUnmatchedAbstractType;\n              this._isUnmatchedAbstractType = this._isUnmatchedAbstractType || !_implementsInterface;\n\n              this._traverseSelections(selection, record, data);\n\n              this._isUnmatchedAbstractType = parentIsUnmatchedAbstractType;\n            }\n\n            break;\n          }\n\n        case TYPE_DISCRIMINATOR:\n          {\n            if (RelayFeatureFlags.ENABLE_PRECISE_TYPE_REFINEMENT) {\n              var _abstractKey = selection.abstractKey;\n\n              var _implementsInterface2 = data.hasOwnProperty(_abstractKey);\n\n              var _typeName3 = RelayModernRecord.getType(record);\n\n              var _typeID = generateTypeID(_typeName3);\n\n              var _typeRecord = this._recordSource.get(_typeID);\n\n              if (_typeRecord == null) {\n                _typeRecord = RelayModernRecord.create(_typeID, TYPE_SCHEMA_TYPE);\n\n                this._recordSource.set(_typeID, _typeRecord);\n              }\n\n              RelayModernRecord.setValue(_typeRecord, _abstractKey, _implementsInterface2);\n            }\n\n            break;\n          }\n\n        case LINKED_HANDLE:\n        case SCALAR_HANDLE:\n          var args = selection.args ? getArgumentValues(selection.args, this._variables) : {};\n          var fieldKey = getStorageKey(selection, this._variables);\n          var handleKey = getHandleStorageKey(selection, this._variables);\n\n          this._handleFieldPayloads.push({\n            args: args,\n            dataID: RelayModernRecord.getDataID(record),\n            fieldKey: fieldKey,\n            handle: selection.handle,\n            handleKey: handleKey,\n            handleArgs: selection.handleArgs ? getArgumentValues(selection.handleArgs, this._variables) : {}\n          });\n\n          break;\n\n        case MODULE_IMPORT:\n          this._normalizeModuleImport(node, selection, record, data);\n\n          break;\n\n        case DEFER:\n          this._normalizeDefer(selection, record, data);\n\n          break;\n\n        case STREAM:\n          this._normalizeStream(selection, record, data);\n\n          break;\n\n        case CLIENT_EXTENSION:\n          var isClientExtension = this._isClientExtension;\n          this._isClientExtension = true;\n\n          this._traverseSelections(selection, record, data);\n\n          this._isClientExtension = isClientExtension;\n          break;\n\n        case FLIGHT_FIELD:\n          if (RelayFeatureFlags.ENABLE_REACT_FLIGHT_COMPONENT_FIELD) {\n            this._normalizeFlightField(node, selection, record, data);\n          } else {\n            throw new Error('Flight fields are not yet supported.');\n          }\n\n          break;\n\n        default:\n          selection;\n          !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer(): Unexpected ast kind `%s`.', selection.kind) : invariant(false) : void 0;\n      }\n    }\n  };\n\n  _proto._normalizeDefer = function _normalizeDefer(defer, record, data) {\n    var isDeferred = defer[\"if\"] === null || this._getVariableValue(defer[\"if\"]);\n\n    if (process.env.NODE_ENV !== \"production\") {\n      process.env.NODE_ENV !== \"production\" ? warning(typeof isDeferred === 'boolean', 'RelayResponseNormalizer: Expected value for @defer `if` argument to ' + 'be a boolean, got `%s`.', isDeferred) : void 0;\n    }\n\n    if (isDeferred === false) {\n      // If defer is disabled there will be no additional response chunk:\n      // normalize the data already present.\n      this._traverseSelections(defer, record, data);\n    } else {\n      // Otherwise data *for this selection* should not be present: enqueue\n      // metadata to process the subsequent response chunk.\n      this._incrementalPlaceholders.push({\n        kind: 'defer',\n        data: data,\n        label: defer.label,\n        path: (0, _toConsumableArray2[\"default\"])(this._path),\n        selector: createNormalizationSelector(defer, RelayModernRecord.getDataID(record), this._variables),\n        typeName: RelayModernRecord.getType(record)\n      });\n    }\n  };\n\n  _proto._normalizeStream = function _normalizeStream(stream, record, data) {\n    // Always normalize regardless of whether streaming is enabled or not,\n    // this populates the initial array value (including any items when\n    // initial_count > 0).\n    this._traverseSelections(stream, record, data);\n\n    var isStreamed = stream[\"if\"] === null || this._getVariableValue(stream[\"if\"]);\n\n    if (process.env.NODE_ENV !== \"production\") {\n      process.env.NODE_ENV !== \"production\" ? warning(typeof isStreamed === 'boolean', 'RelayResponseNormalizer: Expected value for @stream `if` argument ' + 'to be a boolean, got `%s`.', isStreamed) : void 0;\n    }\n\n    if (isStreamed === true) {\n      // If streaming is enabled, *also* emit metadata to process any\n      // response chunks that may be delivered.\n      this._incrementalPlaceholders.push({\n        kind: 'stream',\n        label: stream.label,\n        path: (0, _toConsumableArray2[\"default\"])(this._path),\n        parentID: RelayModernRecord.getDataID(record),\n        node: stream,\n        variables: this._variables\n      });\n    }\n  };\n\n  _proto._normalizeModuleImport = function _normalizeModuleImport(parent, moduleImport, record, data) {\n    !(typeof data === 'object' && data) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer: Expected data for @module to be an object.') : invariant(false) : void 0;\n    var typeName = RelayModernRecord.getType(record);\n    var componentKey = getModuleComponentKey(moduleImport.documentName);\n    var componentReference = data[componentKey];\n    RelayModernRecord.setValue(record, componentKey, componentReference !== null && componentReference !== void 0 ? componentReference : null);\n    var operationKey = getModuleOperationKey(moduleImport.documentName);\n    var operationReference = data[operationKey];\n    RelayModernRecord.setValue(record, operationKey, operationReference !== null && operationReference !== void 0 ? operationReference : null);\n\n    if (operationReference != null) {\n      this._moduleImportPayloads.push({\n        data: data,\n        dataID: RelayModernRecord.getDataID(record),\n        operationReference: operationReference,\n        path: (0, _toConsumableArray2[\"default\"])(this._path),\n        typeName: typeName,\n        variables: this._variables\n      });\n    }\n  };\n\n  _proto._normalizeField = function _normalizeField(parent, selection, record, data) {\n    !(typeof data === 'object' && data) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'writeField(): Expected data for field `%s` to be an object.', selection.name) : invariant(false) : void 0;\n    var responseKey = selection.alias || selection.name;\n    var storageKey = getStorageKey(selection, this._variables);\n    var fieldValue = data[responseKey];\n\n    if (fieldValue == null) {\n      if (fieldValue === undefined) {\n        // Fields may be missing in the response in two main cases:\n        // - Inside a client extension: the server will not generally return\n        //   values for these fields, but a local update may provide them.\n        // - Inside an abstract type refinement where the concrete type does\n        //   not conform to the interface/union.\n        // However an otherwise-required field may also be missing if the server\n        // is configured to skip fields with `null` values, in which case the\n        // client is assumed to be correctly configured with\n        // treatMissingFieldsAsNull=true.\n        var isOptionalField = this._isClientExtension || this._isUnmatchedAbstractType;\n\n        if (isOptionalField) {\n          // Field not expected to exist regardless of whether the server is pruning null\n          // fields or not.\n          return;\n        } else if (!this._treatMissingFieldsAsNull) {\n          // Not optional and the server is not pruning null fields: field is expected\n          // to be present\n          if (process.env.NODE_ENV !== \"production\") {\n            process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayResponseNormalizer: Payload did not contain a value ' + 'for field `%s: %s`. Check that you are parsing with the same ' + 'query that was used to fetch the payload.', responseKey, storageKey) : void 0;\n          }\n\n          return;\n        }\n      }\n\n      if (process.env.NODE_ENV !== \"production\") {\n        if (selection.kind === SCALAR_FIELD) {\n          this._validateConflictingFieldsWithIdenticalId(record, storageKey, fieldValue);\n        }\n      }\n\n      RelayModernRecord.setValue(record, storageKey, null);\n      return;\n    }\n\n    if (selection.kind === SCALAR_FIELD) {\n      if (process.env.NODE_ENV !== \"production\") {\n        this._validateConflictingFieldsWithIdenticalId(record, storageKey, fieldValue);\n      }\n\n      RelayModernRecord.setValue(record, storageKey, fieldValue);\n    } else if (selection.kind === LINKED_FIELD) {\n      this._path.push(responseKey);\n\n      if (selection.plural) {\n        this._normalizePluralLink(selection, record, storageKey, fieldValue);\n      } else {\n        this._normalizeLink(selection, record, storageKey, fieldValue);\n      }\n\n      this._path.pop();\n    } else {\n      selection;\n      !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer(): Unexpected ast kind `%s` during normalization.', selection.kind) : invariant(false) : void 0;\n    }\n  };\n\n  _proto._normalizeFlightField = function _normalizeFlightField(parent, selection, record, data) {\n    var responseKey = selection.alias || selection.name;\n    var storageKey = getStorageKey(selection, this._variables);\n    var fieldValue = data[responseKey];\n\n    if (fieldValue == null) {\n      RelayModernRecord.setValue(record, storageKey, null);\n      return;\n    }\n\n    var reactFlightPayload = refineToReactFlightPayloadData(fieldValue);\n    !(reactFlightPayload != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer(): Expected React Flight payload data ' + 'to be an object with `tree` and `queries` properties, got `%s`.', fieldValue) : invariant(false) : void 0;\n    !(typeof this._reactFlightPayloadDeserializer === 'function') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer: Expected reactFlightPayloadDeserializer to ' + 'be a function, got `%s`.', this._reactFlightPayloadDeserializer) : invariant(false) : void 0; // We store the deserialized reactFlightClientResponse in a separate\n    // record and link it to the parent record. This is so we can GC the Flight\n    // tree later even if the parent record is still reachable.\n\n    var reactFlightClientResponse = this._reactFlightPayloadDeserializer(reactFlightPayload.tree);\n\n    var reactFlightID = generateClientID(RelayModernRecord.getDataID(record), getStorageKey(selection, this._variables));\n\n    var reactFlightClientResponseRecord = this._recordSource.get(reactFlightID);\n\n    if (reactFlightClientResponseRecord == null) {\n      reactFlightClientResponseRecord = RelayModernRecord.create(reactFlightID, REACT_FLIGHT_TYPE_NAME);\n\n      this._recordSource.set(reactFlightID, reactFlightClientResponseRecord);\n    }\n\n    RelayModernRecord.setValue(reactFlightClientResponseRecord, REACT_FLIGHT_TREE_STORAGE_KEY, reactFlightClientResponse);\n    var reachableQueries = [];\n\n    var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(reactFlightPayload.queries),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var query = _step.value;\n\n        if (query.response.data != null) {\n          this._moduleImportPayloads.push({\n            data: query.response.data,\n            dataID: ROOT_ID,\n            operationReference: query.module,\n            path: [],\n            typeName: ROOT_TYPE,\n            variables: query.variables\n          });\n        }\n\n        reachableQueries.push({\n          module: query.module,\n          variables: query.variables\n        });\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    RelayModernRecord.setValue(reactFlightClientResponseRecord, REACT_FLIGHT_QUERIES_STORAGE_KEY, reachableQueries);\n    RelayModernRecord.setLinkedRecordID(record, storageKey, reactFlightID);\n  };\n\n  _proto._normalizeLink = function _normalizeLink(field, record, storageKey, fieldValue) {\n    var _field$concreteType;\n\n    !(typeof fieldValue === 'object' && fieldValue) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer: Expected data for field `%s` to be an object.', storageKey) : invariant(false) : void 0;\n    var nextID = this._getDataId( // $FlowFixMe[incompatible-variance]\n    fieldValue, // $FlowFixMe[incompatible-variance]\n    (_field$concreteType = field.concreteType) !== null && _field$concreteType !== void 0 ? _field$concreteType : this._getRecordType(fieldValue)) || // Reuse previously generated client IDs\n    RelayModernRecord.getLinkedRecordID(record, storageKey) || generateClientID(RelayModernRecord.getDataID(record), storageKey);\n    !(typeof nextID === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer: Expected id on field `%s` to be a string.', storageKey) : invariant(false) : void 0;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      this._validateConflictingLinkedFieldsWithIdenticalId(record, RelayModernRecord.getLinkedRecordID(record, storageKey), nextID, storageKey);\n    }\n\n    RelayModernRecord.setLinkedRecordID(record, storageKey, nextID);\n\n    var nextRecord = this._recordSource.get(nextID);\n\n    if (!nextRecord) {\n      // $FlowFixMe[incompatible-variance]\n      var _typeName4 = field.concreteType || this._getRecordType(fieldValue);\n\n      nextRecord = RelayModernRecord.create(nextID, _typeName4);\n\n      this._recordSource.set(nextID, nextRecord);\n    } else if (process.env.NODE_ENV !== \"production\") {\n      this._validateRecordType(nextRecord, field, fieldValue);\n    } // $FlowFixMe[incompatible-variance]\n\n\n    this._traverseSelections(field, nextRecord, fieldValue);\n  };\n\n  _proto._normalizePluralLink = function _normalizePluralLink(field, record, storageKey, fieldValue) {\n    var _this = this;\n\n    !Array.isArray(fieldValue) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer: Expected data for field `%s` to be an array ' + 'of objects.', storageKey) : invariant(false) : void 0;\n    var prevIDs = RelayModernRecord.getLinkedRecordIDs(record, storageKey);\n    var nextIDs = [];\n    fieldValue.forEach(function (item, nextIndex) {\n      var _field$concreteType2;\n\n      // validate response data\n      if (item == null) {\n        nextIDs.push(item);\n        return;\n      }\n\n      _this._path.push(String(nextIndex));\n\n      !(typeof item === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer: Expected elements for field `%s` to be ' + 'objects.', storageKey) : invariant(false) : void 0;\n      var nextID = _this._getDataId( // $FlowFixMe[incompatible-variance]\n      item, // $FlowFixMe[incompatible-variance]\n      (_field$concreteType2 = field.concreteType) !== null && _field$concreteType2 !== void 0 ? _field$concreteType2 : _this._getRecordType(item)) || prevIDs && prevIDs[nextIndex] || // Reuse previously generated client IDs:\n      generateClientID(RelayModernRecord.getDataID(record), storageKey, nextIndex);\n      !(typeof nextID === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer: Expected id of elements of field `%s` to ' + 'be strings.', storageKey) : invariant(false) : void 0;\n      nextIDs.push(nextID);\n\n      var nextRecord = _this._recordSource.get(nextID);\n\n      if (!nextRecord) {\n        // $FlowFixMe[incompatible-variance]\n        var _typeName5 = field.concreteType || _this._getRecordType(item);\n\n        nextRecord = RelayModernRecord.create(nextID, _typeName5);\n\n        _this._recordSource.set(nextID, nextRecord);\n      } else if (process.env.NODE_ENV !== \"production\") {\n        _this._validateRecordType(nextRecord, field, item);\n      } // NOTE: the check to strip __DEV__ code only works for simple\n      // `if (__DEV__)`\n\n\n      if (process.env.NODE_ENV !== \"production\") {\n        if (prevIDs) {\n          _this._validateConflictingLinkedFieldsWithIdenticalId(record, prevIDs[nextIndex], nextID, storageKey);\n        }\n      } // $FlowFixMe[incompatible-variance]\n\n\n      _this._traverseSelections(field, nextRecord, item);\n\n      _this._path.pop();\n    });\n    RelayModernRecord.setLinkedRecordIDs(record, storageKey, nextIDs);\n  }\n  /**\n   * Warns if the type of the record does not match the type of the field/payload.\n   */\n  ;\n\n  _proto._validateRecordType = function _validateRecordType(record, field, payload) {\n    var _field$concreteType3;\n\n    var typeName = (_field$concreteType3 = field.concreteType) !== null && _field$concreteType3 !== void 0 ? _field$concreteType3 : this._getRecordType(payload);\n    var dataID = RelayModernRecord.getDataID(record);\n    process.env.NODE_ENV !== \"production\" ? warning(isClientID(dataID) && dataID !== ROOT_ID || RelayModernRecord.getType(record) === typeName, 'RelayResponseNormalizer: Invalid record `%s`. Expected %s to be ' + 'consistent, but the record was assigned conflicting types `%s` ' + 'and `%s`. The GraphQL server likely violated the globally unique ' + 'id requirement by returning the same id for different objects.', dataID, TYPENAME_KEY, RelayModernRecord.getType(record), typeName) : void 0;\n  }\n  /**\n   * Warns if a single response contains conflicting fields with the same id\n   */\n  ;\n\n  _proto._validateConflictingFieldsWithIdenticalId = function _validateConflictingFieldsWithIdenticalId(record, storageKey, fieldValue) {\n    // NOTE: Only call this function in DEV\n    if (process.env.NODE_ENV !== \"production\") {\n      var dataID = RelayModernRecord.getDataID(record);\n      var previousValue = RelayModernRecord.getValue(record, storageKey);\n      process.env.NODE_ENV !== \"production\" ? warning(storageKey === TYPENAME_KEY || previousValue === undefined || areEqual(previousValue, fieldValue), 'RelayResponseNormalizer: Invalid record. The record contains two ' + 'instances of the same id: `%s` with conflicting field, %s and its values: %s and %s. ' + 'If two fields are different but share ' + 'the same id, one field will overwrite the other.', dataID, storageKey, previousValue, fieldValue) : void 0;\n    }\n  }\n  /**\n   * Warns if a single response contains conflicting fields with the same id\n   */\n  ;\n\n  _proto._validateConflictingLinkedFieldsWithIdenticalId = function _validateConflictingLinkedFieldsWithIdenticalId(record, prevID, nextID, storageKey) {\n    // NOTE: Only call this function in DEV\n    if (process.env.NODE_ENV !== \"production\") {\n      process.env.NODE_ENV !== \"production\" ? warning(prevID === undefined || prevID === nextID, 'RelayResponseNormalizer: Invalid record. The record contains ' + 'references to the conflicting field, %s and its id values: %s and %s. ' + 'We need to make sure that the record the field points ' + 'to remains consistent or one field will overwrite the other.', storageKey, prevID, nextID) : void 0;\n    }\n  };\n\n  return RelayResponseNormalizer;\n}();\n\nvar instrumentedNormalize = RelayProfiler.instrument('RelayResponseNormalizer.normalize', normalize);\nmodule.exports = {\n  normalize: instrumentedNormalize\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar _require = require('./RelayModernRecord'),\n    getType = _require.getType;\n\nvar REACT_FLIGHT_QUERIES_STORAGE_KEY = 'queries';\nvar REACT_FLIGHT_TREE_STORAGE_KEY = 'tree';\nvar REACT_FLIGHT_TYPE_NAME = 'ReactFlightComponent';\n\nfunction refineToReactFlightPayloadData(payload) {\n  if (payload == null || typeof payload !== 'object' || !Array.isArray(payload.tree) || !Array.isArray(payload.queries)) {\n    return null;\n  }\n\n  return payload;\n}\n\nfunction getReactFlightClientResponse(record) {\n  !(getType(record) === REACT_FLIGHT_TYPE_NAME) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'getReactFlightClientResponse(): Expected a ReactFlightComponentRecord, ' + 'got %s.', record) : invariant(false) : void 0;\n  var response = record[REACT_FLIGHT_TREE_STORAGE_KEY];\n\n  if (response != null) {\n    return response;\n  }\n\n  return null;\n}\n\nmodule.exports = {\n  REACT_FLIGHT_QUERIES_STORAGE_KEY: REACT_FLIGHT_QUERIES_STORAGE_KEY,\n  REACT_FLIGHT_TREE_STORAGE_KEY: REACT_FLIGHT_TREE_STORAGE_KEY,\n  REACT_FLIGHT_TYPE_NAME: REACT_FLIGHT_TYPE_NAME,\n  getReactFlightClientResponse: getReactFlightClientResponse,\n  refineToReactFlightPayloadData: refineToReactFlightPayloadData\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar RelayReader = require('./RelayReader');\n\nvar deepFreeze = require('../util/deepFreeze');\n\nvar hasOverlappingIDs = require('./hasOverlappingIDs');\n\nvar isEmptyObject = require('../util/isEmptyObject');\n\nvar recycleNodesInto = require('../util/recycleNodesInto');\n\nvar RelayStoreSubscriptions = /*#__PURE__*/function () {\n  function RelayStoreSubscriptions() {\n    this._subscriptions = new Set();\n  }\n\n  var _proto = RelayStoreSubscriptions.prototype;\n\n  _proto.subscribe = function subscribe(snapshot, callback) {\n    var _this = this;\n\n    var subscription = {\n      backup: null,\n      callback: callback,\n      snapshot: snapshot,\n      stale: false\n    };\n\n    var dispose = function dispose() {\n      _this._subscriptions[\"delete\"](subscription);\n    };\n\n    this._subscriptions.add(subscription);\n\n    return {\n      dispose: dispose\n    };\n  };\n\n  _proto.snapshotSubscriptions = function snapshotSubscriptions(source) {\n    this._subscriptions.forEach(function (subscription) {\n      // Backup occurs after writing a new \"final\" payload(s) and before (re)applying\n      // optimistic changes. Each subscription's `snapshot` represents what was *last\n      // published to the subscriber*, which notably may include previous optimistic\n      // updates. Therefore a subscription can be in any of the following states:\n      // - stale=true: This subscription was restored to a different value than\n      //   `snapshot`. That means this subscription has changes relative to its base,\n      //   but its base has changed (we just applied a final payload): recompute\n      //   a backup so that we can later restore to the state the subscription\n      //   should be in.\n      // - stale=false: This subscription was restored to the same value than\n      //   `snapshot`. That means this subscription does *not* have changes relative\n      //   to its base, so the current `snapshot` is valid to use as a backup.\n      if (!subscription.stale) {\n        subscription.backup = subscription.snapshot;\n        return;\n      }\n\n      var snapshot = subscription.snapshot;\n      var backup = RelayReader.read(source, snapshot.selector);\n      var nextData = recycleNodesInto(snapshot.data, backup.data);\n      backup.data = nextData; // backup owns the snapshot and can safely mutate\n\n      subscription.backup = backup;\n    });\n  };\n\n  _proto.restoreSubscriptions = function restoreSubscriptions() {\n    this._subscriptions.forEach(function (subscription) {\n      var backup = subscription.backup;\n      subscription.backup = null;\n\n      if (backup) {\n        if (backup.data !== subscription.snapshot.data) {\n          subscription.stale = true;\n        }\n\n        subscription.snapshot = {\n          data: subscription.snapshot.data,\n          isMissingData: backup.isMissingData,\n          seenRecords: backup.seenRecords,\n          selector: backup.selector,\n          missingRequiredFields: backup.missingRequiredFields\n        };\n      } else {\n        subscription.stale = true;\n      }\n    });\n  };\n\n  _proto.updateSubscriptions = function updateSubscriptions(source, updatedRecordIDs, updatedOwners) {\n    var _this2 = this;\n\n    var hasUpdatedRecords = !isEmptyObject(updatedRecordIDs);\n\n    this._subscriptions.forEach(function (subscription) {\n      var owner = _this2._updateSubscription(source, subscription, updatedRecordIDs, hasUpdatedRecords);\n\n      if (owner != null) {\n        updatedOwners.push(owner);\n      }\n    });\n  }\n  /**\n   * Notifies the callback for the subscription if the data for the associated\n   * snapshot has changed.\n   * Additionally, updates the subscription snapshot with the latest snapshot,\n   * and marks it as not stale.\n   * Returns the owner (RequestDescriptor) if the subscription was affected by the\n   * latest update, or null if it was not affected.\n   */\n  ;\n\n  _proto._updateSubscription = function _updateSubscription(source, subscription, updatedRecordIDs, hasUpdatedRecords) {\n    var backup = subscription.backup,\n        callback = subscription.callback,\n        snapshot = subscription.snapshot,\n        stale = subscription.stale;\n    var hasOverlappingUpdates = hasUpdatedRecords && hasOverlappingIDs(snapshot.seenRecords, updatedRecordIDs);\n\n    if (!stale && !hasOverlappingUpdates) {\n      return;\n    }\n\n    var nextSnapshot = hasOverlappingUpdates || !backup ? RelayReader.read(source, snapshot.selector) : backup;\n    var nextData = recycleNodesInto(snapshot.data, nextSnapshot.data);\n    nextSnapshot = {\n      data: nextData,\n      isMissingData: nextSnapshot.isMissingData,\n      seenRecords: nextSnapshot.seenRecords,\n      selector: nextSnapshot.selector,\n      missingRequiredFields: nextSnapshot.missingRequiredFields\n    };\n\n    if (process.env.NODE_ENV !== \"production\") {\n      deepFreeze(nextSnapshot);\n    }\n\n    subscription.snapshot = nextSnapshot;\n    subscription.stale = false;\n\n    if (nextSnapshot.data !== snapshot.data) {\n      callback(nextSnapshot);\n      return snapshot.selector.owner;\n    }\n  };\n\n  return RelayStoreSubscriptions;\n}();\n\nmodule.exports = RelayStoreSubscriptions;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar RelayReader = require('./RelayReader');\n\nvar deepFreeze = require('../util/deepFreeze');\n\nvar recycleNodesInto = require('../util/recycleNodesInto');\n\nvar RelayStoreSubscriptionsUsingMapByID = /*#__PURE__*/function () {\n  function RelayStoreSubscriptionsUsingMapByID() {\n    this._notifiedRevision = 0;\n    this._snapshotRevision = 0;\n    this._subscriptionsByDataId = new Map();\n    this._staleSubscriptions = new Set();\n  }\n\n  var _proto = RelayStoreSubscriptionsUsingMapByID.prototype;\n\n  _proto.subscribe = function subscribe(snapshot, callback) {\n    var _this = this;\n\n    var subscription = {\n      backup: null,\n      callback: callback,\n      notifiedRevision: this._notifiedRevision,\n      snapshotRevision: this._snapshotRevision,\n      snapshot: snapshot\n    };\n\n    var dispose = function dispose() {\n      for (var dataId in snapshot.seenRecords) {\n        var subscriptionsForDataId = _this._subscriptionsByDataId.get(dataId);\n\n        if (subscriptionsForDataId != null) {\n          subscriptionsForDataId[\"delete\"](subscription);\n\n          if (subscriptionsForDataId.size === 0) {\n            _this._subscriptionsByDataId[\"delete\"](dataId);\n          }\n        }\n      }\n    };\n\n    for (var dataId in snapshot.seenRecords) {\n      var subscriptionsForDataId = this._subscriptionsByDataId.get(dataId);\n\n      if (subscriptionsForDataId != null) {\n        subscriptionsForDataId.add(subscription);\n      } else {\n        this._subscriptionsByDataId.set(dataId, new Set([subscription]));\n      }\n    }\n\n    return {\n      dispose: dispose\n    };\n  };\n\n  _proto.snapshotSubscriptions = function snapshotSubscriptions(source) {\n    var _this2 = this;\n\n    this._snapshotRevision++;\n\n    this._subscriptionsByDataId.forEach(function (subscriptions) {\n      subscriptions.forEach(function (subscription) {\n        if (subscription.snapshotRevision === _this2._snapshotRevision) {\n          return;\n        }\n\n        subscription.snapshotRevision = _this2._snapshotRevision; // Backup occurs after writing a new \"final\" payload(s) and before (re)applying\n        // optimistic changes. Each subscription's `snapshot` represents what was *last\n        // published to the subscriber*, which notably may include previous optimistic\n        // updates. Therefore a subscription can be in any of the following states:\n        // - stale=true: This subscription was restored to a different value than\n        //   `snapshot`. That means this subscription has changes relative to its base,\n        //   but its base has changed (we just applied a final payload): recompute\n        //   a backup so that we can later restore to the state the subscription\n        //   should be in.\n        // - stale=false: This subscription was restored to the same value than\n        //   `snapshot`. That means this subscription does *not* have changes relative\n        //   to its base, so the current `snapshot` is valid to use as a backup.\n\n        if (!_this2._staleSubscriptions.has(subscription)) {\n          subscription.backup = subscription.snapshot;\n          return;\n        }\n\n        var snapshot = subscription.snapshot;\n        var backup = RelayReader.read(source, snapshot.selector);\n        var nextData = recycleNodesInto(snapshot.data, backup.data);\n        backup.data = nextData; // backup owns the snapshot and can safely mutate\n\n        subscription.backup = backup;\n      });\n    });\n  };\n\n  _proto.restoreSubscriptions = function restoreSubscriptions() {\n    var _this3 = this;\n\n    this._snapshotRevision++;\n\n    this._subscriptionsByDataId.forEach(function (subscriptions) {\n      subscriptions.forEach(function (subscription) {\n        if (subscription.snapshotRevision === _this3._snapshotRevision) {\n          return;\n        }\n\n        subscription.snapshotRevision = _this3._snapshotRevision;\n        var backup = subscription.backup;\n        subscription.backup = null;\n\n        if (backup) {\n          if (backup.data !== subscription.snapshot.data) {\n            _this3._staleSubscriptions.add(subscription);\n          }\n\n          var prevSeenRecords = subscription.snapshot.seenRecords;\n          subscription.snapshot = {\n            data: subscription.snapshot.data,\n            isMissingData: backup.isMissingData,\n            seenRecords: backup.seenRecords,\n            selector: backup.selector,\n            missingRequiredFields: backup.missingRequiredFields\n          };\n\n          _this3._updateSubscriptionsMap(subscription, prevSeenRecords);\n        } else {\n          _this3._staleSubscriptions.add(subscription);\n        }\n      });\n    });\n  };\n\n  _proto.updateSubscriptions = function updateSubscriptions(source, updatedRecordIDs, updatedOwners) {\n    var _this4 = this;\n\n    this._notifiedRevision++;\n    Object.keys(updatedRecordIDs).forEach(function (updatedRecordId) {\n      var subcriptionsForDataId = _this4._subscriptionsByDataId.get(updatedRecordId);\n\n      if (subcriptionsForDataId == null) {\n        return;\n      }\n\n      subcriptionsForDataId.forEach(function (subscription) {\n        if (subscription.notifiedRevision === _this4._notifiedRevision) {\n          return;\n        }\n\n        var owner = _this4._updateSubscription(source, subscription, false);\n\n        if (owner != null) {\n          updatedOwners.push(owner);\n        }\n      });\n    });\n\n    this._staleSubscriptions.forEach(function (subscription) {\n      if (subscription.notifiedRevision === _this4._notifiedRevision) {\n        return;\n      }\n\n      var owner = _this4._updateSubscription(source, subscription, true);\n\n      if (owner != null) {\n        updatedOwners.push(owner);\n      }\n    });\n\n    this._staleSubscriptions.clear();\n  }\n  /**\n   * Notifies the callback for the subscription if the data for the associated\n   * snapshot has changed.\n   * Additionally, updates the subscription snapshot with the latest snapshot,\n   * amarks it as not stale, and updates the subscription tracking for any\n   * any new ids observed in the latest data snapshot.\n   * Returns the owner (RequestDescriptor) if the subscription was affected by the\n   * latest update, or null if it was not affected.\n   */\n  ;\n\n  _proto._updateSubscription = function _updateSubscription(source, subscription, stale) {\n    var backup = subscription.backup,\n        callback = subscription.callback,\n        snapshot = subscription.snapshot;\n    var nextSnapshot = stale && backup != null ? backup : RelayReader.read(source, snapshot.selector);\n    var nextData = recycleNodesInto(snapshot.data, nextSnapshot.data);\n    nextSnapshot = {\n      data: nextData,\n      isMissingData: nextSnapshot.isMissingData,\n      seenRecords: nextSnapshot.seenRecords,\n      selector: nextSnapshot.selector,\n      missingRequiredFields: nextSnapshot.missingRequiredFields\n    };\n\n    if (process.env.NODE_ENV !== \"production\") {\n      deepFreeze(nextSnapshot);\n    }\n\n    var prevSeenRecords = subscription.snapshot.seenRecords;\n    subscription.snapshot = nextSnapshot;\n    subscription.notifiedRevision = this._notifiedRevision;\n\n    this._updateSubscriptionsMap(subscription, prevSeenRecords);\n\n    if (nextSnapshot.data !== snapshot.data) {\n      callback(nextSnapshot);\n      return snapshot.selector.owner;\n    }\n  }\n  /**\n   * Updates the Map that tracks subscriptions by id.\n   * Given an updated subscription and the records that where seen\n   * on the previous subscription snapshot, updates our tracking\n   * to track the subscription for the newly and no longer seen ids.\n   */\n  ;\n\n  _proto._updateSubscriptionsMap = function _updateSubscriptionsMap(subscription, prevSeenRecords) {\n    for (var dataId in prevSeenRecords) {\n      var subscriptionsForDataId = this._subscriptionsByDataId.get(dataId);\n\n      if (subscriptionsForDataId != null) {\n        subscriptionsForDataId[\"delete\"](subscription);\n\n        if (subscriptionsForDataId.size === 0) {\n          this._subscriptionsByDataId[\"delete\"](dataId);\n        }\n      }\n    }\n\n    for (var _dataId in subscription.snapshot.seenRecords) {\n      var _subscriptionsForDataId = this._subscriptionsByDataId.get(_dataId);\n\n      if (_subscriptionsForDataId != null) {\n        _subscriptionsForDataId.add(subscription);\n      } else {\n        this._subscriptionsByDataId.set(_dataId, new Set([subscription]));\n      }\n    }\n  };\n\n  return RelayStoreSubscriptionsUsingMapByID;\n}();\n\nmodule.exports = RelayStoreSubscriptionsUsingMapByID;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar RelayConcreteNode = require('../util/RelayConcreteNode');\n\nvar getRelayHandleKey = require('../util/getRelayHandleKey');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar stableCopy = require('../util/stableCopy');\n\nvar VARIABLE = RelayConcreteNode.VARIABLE,\n    LITERAL = RelayConcreteNode.LITERAL,\n    OBJECT_VALUE = RelayConcreteNode.OBJECT_VALUE,\n    LIST_VALUE = RelayConcreteNode.LIST_VALUE;\nvar MODULE_COMPONENT_KEY_PREFIX = '__module_component_';\nvar MODULE_OPERATION_KEY_PREFIX = '__module_operation_';\n\nfunction getArgumentValue(arg, variables) {\n  if (arg.kind === VARIABLE) {\n    // Variables are provided at runtime and are not guaranteed to be stable.\n    return getStableVariableValue(arg.variableName, variables);\n  } else if (arg.kind === LITERAL) {\n    // The Relay compiler generates stable ConcreteArgument values.\n    return arg.value;\n  } else if (arg.kind === OBJECT_VALUE) {\n    var value = {};\n    arg.fields.forEach(function (field) {\n      value[field.name] = getArgumentValue(field, variables);\n    });\n    return value;\n  } else if (arg.kind === LIST_VALUE) {\n    var _value = [];\n    arg.items.forEach(function (item) {\n      item != null ? _value.push(getArgumentValue(item, variables)) : null;\n    });\n    return _value;\n  }\n}\n/**\n * Returns the values of field/fragment arguments as an object keyed by argument\n * names. Guaranteed to return a result with stable ordered nested values.\n */\n\n\nfunction getArgumentValues(args, variables) {\n  var values = {};\n  args.forEach(function (arg) {\n    values[arg.name] = getArgumentValue(arg, variables);\n  });\n  return values;\n}\n/**\n * Given a handle field and variable values, returns a key that can be used to\n * uniquely identify the combination of the handle name and argument values.\n *\n * Note: the word \"storage\" here refers to the fact this key is primarily used\n * when writing the results of a key in a normalized graph or \"store\". This\n * name was used in previous implementations of Relay internals and is also\n * used here for consistency.\n */\n\n\nfunction getHandleStorageKey(handleField, variables) {\n  var dynamicKey = handleField.dynamicKey,\n      handle = handleField.handle,\n      key = handleField.key,\n      name = handleField.name,\n      args = handleField.args,\n      filters = handleField.filters;\n  var handleName = getRelayHandleKey(handle, key, name);\n  var filterArgs = null;\n\n  if (args && filters && args.length !== 0 && filters.length !== 0) {\n    filterArgs = args.filter(function (arg) {\n      return filters.indexOf(arg.name) > -1;\n    });\n  }\n\n  if (dynamicKey) {\n    // \"Sort\" the arguments by argument name: this is done by the compiler for\n    // user-supplied arguments but the dynamic argument must also be in sorted\n    // order.  Note that dynamic key argument name is double-underscore-\n    // -prefixed, and a double-underscore prefix is disallowed for user-supplied\n    // argument names, so there's no need to actually sort.\n    filterArgs = filterArgs != null ? [dynamicKey].concat((0, _toConsumableArray2[\"default\"])(filterArgs)) : [dynamicKey];\n  }\n\n  if (filterArgs === null) {\n    return handleName;\n  } else {\n    return formatStorageKey(handleName, getArgumentValues(filterArgs, variables));\n  }\n}\n/**\n * Given a field and variable values, returns a key that can be used to\n * uniquely identify the combination of the field name and argument values.\n *\n * Note: the word \"storage\" here refers to the fact this key is primarily used\n * when writing the results of a key in a normalized graph or \"store\". This\n * name was used in previous implementations of Relay internals and is also\n * used here for consistency.\n */\n\n\nfunction getStorageKey(field, variables) {\n  if (field.storageKey) {\n    // TODO T23663664: Handle nodes do not yet define a static storageKey.\n    return field.storageKey;\n  }\n\n  var args = field.args,\n      name = field.name;\n  return args && args.length !== 0 ? formatStorageKey(name, getArgumentValues(args, variables)) : name;\n}\n/**\n * Given a `name` (eg. \"foo\") and an object representing argument values\n * (eg. `{orberBy: \"name\", first: 10}`) returns a unique storage key\n * (ie. `foo{\"first\":10,\"orderBy\":\"name\"}`).\n *\n * This differs from getStorageKey which requires a ConcreteNode where arguments\n * are assumed to already be sorted into a stable order.\n */\n\n\nfunction getStableStorageKey(name, args) {\n  return formatStorageKey(name, stableCopy(args));\n}\n/**\n * Given a name and argument values, format a storage key.\n *\n * Arguments and the values within them are expected to be ordered in a stable\n * alphabetical ordering.\n */\n\n\nfunction formatStorageKey(name, argValues) {\n  if (!argValues) {\n    return name;\n  }\n\n  var values = [];\n\n  for (var argName in argValues) {\n    if (argValues.hasOwnProperty(argName)) {\n      var value = argValues[argName];\n\n      if (value != null) {\n        var _JSON$stringify;\n\n        values.push(argName + ':' + ((_JSON$stringify = JSON.stringify(value)) !== null && _JSON$stringify !== void 0 ? _JSON$stringify : 'undefined'));\n      }\n    }\n  }\n\n  return values.length === 0 ? name : name + \"(\".concat(values.join(','), \")\");\n}\n/**\n * Given Variables and a variable name, return a variable value with\n * all values in a stable order.\n */\n\n\nfunction getStableVariableValue(name, variables) {\n  !variables.hasOwnProperty(name) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'getVariableValue(): Undefined variable `%s`.', name) : invariant(false) : void 0;\n  return stableCopy(variables[name]);\n}\n\nfunction getModuleComponentKey(documentName) {\n  return \"\".concat(MODULE_COMPONENT_KEY_PREFIX).concat(documentName);\n}\n\nfunction getModuleOperationKey(documentName) {\n  return \"\".concat(MODULE_OPERATION_KEY_PREFIX).concat(documentName);\n}\n/**\n * Constants shared by all implementations of RecordSource/MutableRecordSource/etc.\n */\n\n\nvar RelayStoreUtils = {\n  FRAGMENTS_KEY: '__fragments',\n  FRAGMENT_OWNER_KEY: '__fragmentOwner',\n  FRAGMENT_PROP_NAME_KEY: '__fragmentPropName',\n  MODULE_COMPONENT_KEY: '__module_component',\n  // alias returned by Reader\n  ID_KEY: '__id',\n  REF_KEY: '__ref',\n  REFS_KEY: '__refs',\n  ROOT_ID: 'client:root',\n  ROOT_TYPE: '__Root',\n  TYPENAME_KEY: '__typename',\n  INVALIDATED_AT_KEY: '__invalidated_at',\n  IS_WITHIN_UNMATCHED_TYPE_REFINEMENT: '__isWithinUnmatchedTypeRefinement',\n  formatStorageKey: formatStorageKey,\n  getArgumentValue: getArgumentValue,\n  getArgumentValues: getArgumentValues,\n  getHandleStorageKey: getHandleStorageKey,\n  getStorageKey: getStorageKey,\n  getStableStorageKey: getStableStorageKey,\n  getModuleComponentKey: getModuleComponentKey,\n  getModuleOperationKey: getModuleOperationKey\n};\nmodule.exports = RelayStoreUtils;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar PREFIX = 'client:__type:';\nvar TYPE_SCHEMA_TYPE = '__TypeSchema';\n\nfunction generateTypeID(typeName) {\n  return PREFIX + typeName;\n}\n\nfunction isTypeID(id) {\n  return id.indexOf(PREFIX) === 0;\n}\n\nmodule.exports = {\n  generateTypeID: generateTypeID,\n  isTypeID: isTypeID,\n  TYPE_SCHEMA_TYPE: TYPE_SCHEMA_TYPE\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _require = require('./ClientID'),\n    generateClientID = _require.generateClientID;\n\nvar _require2 = require('./RelayStoreUtils'),\n    ROOT_ID = _require2.ROOT_ID;\n\nvar VIEWER_ID = generateClientID(ROOT_ID, 'viewer');\nvar VIEWER_TYPE = 'Viewer';\nmodule.exports = {\n  VIEWER_ID: VIEWER_ID,\n  VIEWER_TYPE: VIEWER_TYPE\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar areEqual = require(\"fbjs/lib/areEqual\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar _require = require('../util/RelayConcreteNode'),\n    LINKED_FIELD = _require.LINKED_FIELD;\n\nvar _require2 = require('./RelayStoreUtils'),\n    getHandleStorageKey = _require2.getHandleStorageKey;\n\n/**\n * @private\n *\n * Creates a clone of the supplied `handleField` by finding the original linked\n * field (on which the handle was declared) among the sibling `selections`, and\n * copying its selections into the clone.\n */\nfunction cloneRelayHandleSourceField(handleField, selections, variables) {\n  var sourceField = selections.find(function (source) {\n    return source.kind === LINKED_FIELD && source.name === handleField.name && source.alias === handleField.alias && areEqual(source.args, handleField.args);\n  });\n  !(sourceField && sourceField.kind === LINKED_FIELD) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'cloneRelayHandleSourceField: Expected a corresponding source field for ' + 'handle `%s`.', handleField.handle) : invariant(false) : void 0;\n  var handleKey = getHandleStorageKey(handleField, variables);\n  return {\n    kind: 'LinkedField',\n    alias: sourceField.alias,\n    name: handleKey,\n    storageKey: handleKey,\n    args: null,\n    concreteType: sourceField.concreteType,\n    plural: sourceField.plural,\n    selections: sourceField.selections\n  };\n}\n\nmodule.exports = cloneRelayHandleSourceField;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar areEqual = require(\"fbjs/lib/areEqual\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar _require = require('../util/RelayConcreteNode'),\n    SCALAR_FIELD = _require.SCALAR_FIELD;\n\nvar _require2 = require('./RelayStoreUtils'),\n    getHandleStorageKey = _require2.getHandleStorageKey;\n\n/**\n * @private\n *\n * Creates a clone of the supplied `handleField` by finding the original scalar\n * field (on which the handle was declared) among the sibling `selections`.\n */\nfunction cloneRelayScalarHandleSourceField(handleField, selections, variables) {\n  var sourceField = selections.find(function (source) {\n    return source.kind === SCALAR_FIELD && source.name === handleField.name && source.alias === handleField.alias && areEqual(source.args, handleField.args);\n  });\n  !(sourceField && sourceField.kind === SCALAR_FIELD) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'cloneRelayScalarHandleSourceField: Expected a corresponding source field for ' + 'handle `%s`.', handleField.handle) : invariant(false) : void 0;\n  var handleKey = getHandleStorageKey(handleField, variables);\n  return {\n    kind: 'ScalarField',\n    alias: sourceField.alias,\n    name: handleKey,\n    storageKey: handleKey,\n    args: null\n  };\n}\n\nmodule.exports = cloneRelayScalarHandleSourceField;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar RelayModernFragmentSpecResolver = require('./RelayModernFragmentSpecResolver');\n\nvar warning = require(\"fbjs/lib/warning\");\n\nfunction createFragmentSpecResolver(context, containerName, fragments, props, callback) {\n  if (process.env.NODE_ENV !== \"production\") {\n    var fragmentNames = Object.keys(fragments);\n    fragmentNames.forEach(function (fragmentName) {\n      var propValue = props[fragmentName];\n      process.env.NODE_ENV !== \"production\" ? warning(propValue !== undefined, 'createFragmentSpecResolver: Expected prop `%s` to be supplied to `%s`, but ' + 'got `undefined`. Pass an explicit `null` if this is intentional.', fragmentName, containerName) : void 0;\n    });\n  }\n\n  return new RelayModernFragmentSpecResolver(context, fragments, props, callback);\n}\n\nmodule.exports = createFragmentSpecResolver;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar relayContext;\nvar firstReact;\n\nfunction createRelayContext(react) {\n  if (!relayContext) {\n    relayContext = react.createContext(null);\n\n    if (process.env.NODE_ENV !== \"production\") {\n      relayContext.displayName = 'RelayContext';\n    }\n\n    firstReact = react;\n  }\n\n  !(react === firstReact) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '[createRelayContext]: You passing a different instance of React', react.version) : invariant(false) : void 0;\n  return relayContext;\n}\n\nmodule.exports = createRelayContext;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _require = require('./ViewerPattern'),\n    VIEWER_ID = _require.VIEWER_ID,\n    VIEWER_TYPE = _require.VIEWER_TYPE;\n\nfunction defaultGetDataID(fieldValue, typeName) {\n  if (typeName === VIEWER_TYPE) {\n    return fieldValue.id == null ? VIEWER_ID : fieldValue.id;\n  }\n\n  return fieldValue.id;\n}\n\nmodule.exports = defaultGetDataID;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n'use strict';\n\nvar defaultRequiredFieldLogger = function defaultRequiredFieldLogger(event) {\n  if (process.env.NODE_ENV !== \"production\" && event.kind === 'missing_field.log') {\n    throw new Error('Relay Environment Configuration Error (dev only): `@required(action: LOG)` requires that the Relay Environment be configured with a `requiredFieldLogger`.');\n  }\n};\n\nmodule.exports = defaultRequiredFieldLogger;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction hasOverlappingIDs(seenRecords, updatedRecordIDs) {\n  for (var key in seenRecords) {\n    if (hasOwnProperty.call(seenRecords, key) && hasOwnProperty.call(updatedRecordIDs, key)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nmodule.exports = hasOverlappingIDs;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n/**\n * Determine if a given value is an object that implements the `Environment`\n * interface defined in `RelayStoreTypes`.\n *\n * Use a sigil for detection to avoid a realm-specific instanceof check, and to\n * aid in module tree-shaking to avoid requiring all of RelayRuntime just to\n * detect its environment.\n */\n\nfunction isRelayModernEnvironment(environment) {\n  return Boolean(environment && environment['@@RelayModernEnvironment']);\n}\n\nmodule.exports = isRelayModernEnvironment;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar _require = require('../query/GraphQLTag'),\n    getInlineDataFragment = _require.getInlineDataFragment;\n\nvar _require2 = require('./RelayStoreUtils'),\n    FRAGMENTS_KEY = _require2.FRAGMENTS_KEY;\n\nfunction readInlineData(fragment, fragmentRef) {\n  var _fragmentRef$FRAGMENT;\n\n  var inlineDataFragment = getInlineDataFragment(fragment);\n\n  if (fragmentRef == null) {\n    return fragmentRef;\n  }\n\n  !(typeof fragmentRef === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'readInlineData(): Expected an object, got `%s`.', typeof fragmentRef) : invariant(false) : void 0; // $FlowFixMe[incompatible-use]\n\n  var inlineData = (_fragmentRef$FRAGMENT = fragmentRef[FRAGMENTS_KEY]) === null || _fragmentRef$FRAGMENT === void 0 ? void 0 : _fragmentRef$FRAGMENT[inlineDataFragment.name];\n  !(inlineData != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'readInlineData(): Expected fragment `%s` to be spread in the parent ' + 'fragment.', inlineDataFragment.name) : invariant(false) : void 0;\n  return inlineData;\n}\n\nmodule.exports = readInlineData;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar RelayDeclarativeMutationConfig = require('../mutations/RelayDeclarativeMutationConfig');\n\nvar warning = require(\"fbjs/lib/warning\");\n\nvar _require = require('../query/GraphQLTag'),\n    getRequest = _require.getRequest;\n\nvar _require2 = require('../store/RelayModernOperationDescriptor'),\n    createOperationDescriptor = _require2.createOperationDescriptor;\n\nfunction requestSubscription(environment, config) {\n  var subscription = getRequest(config.subscription);\n\n  if (subscription.params.operationKind !== 'subscription') {\n    throw new Error('requestSubscription: Must use Subscription operation');\n  }\n\n  var configs = config.configs,\n      onCompleted = config.onCompleted,\n      onError = config.onError,\n      onNext = config.onNext,\n      variables = config.variables,\n      cacheConfig = config.cacheConfig;\n  var operation = createOperationDescriptor(subscription, variables, cacheConfig);\n  process.env.NODE_ENV !== \"production\" ? warning(!(config.updater && configs), 'requestSubscription: Expected only one of `updater` and `configs` to be provided') : void 0;\n\n  var _ref = configs ? RelayDeclarativeMutationConfig.convert(configs, subscription, null\n  /* optimisticUpdater */\n  , config.updater) : config,\n      updater = _ref.updater;\n\n  var sub = environment.execute({\n    operation: operation,\n    updater: updater\n  }).map(function () {\n    var data = environment.lookup(operation.fragment).data; // $FlowFixMe[incompatible-cast]\n\n    return data;\n  }).subscribe({\n    next: onNext,\n    error: onError,\n    complete: onCompleted\n  });\n  return {\n    dispose: sub.unsubscribe\n  };\n}\n\nmodule.exports = requestSubscription;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\n/**\n * Represents a common GraphQL request that can be executed, an `operation`\n * containing information to normalize the results, and a `fragment` derived\n * from that operation to read the response data (masking data from child\n * fragments).\n */\n\n/**\n * Contains the parameters required for executing a GraphQL request.\n * The operation can either be provided as a persisted `id` or `text`. If given\n * in `text` format, a `cacheID` as a hash of the text should be set to be used\n * for local caching.\n */\nvar RelayConcreteNode = {\n  CONDITION: 'Condition',\n  CLIENT_EXTENSION: 'ClientExtension',\n  DEFER: 'Defer',\n  CONNECTION: 'Connection',\n  FLIGHT_FIELD: 'FlightField',\n  FRAGMENT: 'Fragment',\n  FRAGMENT_SPREAD: 'FragmentSpread',\n  INLINE_DATA_FRAGMENT_SPREAD: 'InlineDataFragmentSpread',\n  INLINE_DATA_FRAGMENT: 'InlineDataFragment',\n  INLINE_FRAGMENT: 'InlineFragment',\n  LINKED_FIELD: 'LinkedField',\n  LINKED_HANDLE: 'LinkedHandle',\n  LITERAL: 'Literal',\n  LIST_VALUE: 'ListValue',\n  LOCAL_ARGUMENT: 'LocalArgument',\n  MODULE_IMPORT: 'ModuleImport',\n  REQUIRED_FIELD: 'RequiredField',\n  OBJECT_VALUE: 'ObjectValue',\n  OPERATION: 'Operation',\n  REQUEST: 'Request',\n  ROOT_ARGUMENT: 'RootArgument',\n  SCALAR_FIELD: 'ScalarField',\n  SCALAR_HANDLE: 'ScalarHandle',\n  SPLIT_OPERATION: 'SplitOperation',\n  STREAM: 'Stream',\n  TYPE_DISCRIMINATOR: 'TypeDiscriminator',\n  VARIABLE: 'Variable'\n};\nmodule.exports = RelayConcreteNode;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nmodule.exports = {\n  DEFAULT_HANDLE_KEY: ''\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n/**\n * @private\n */\n\nfunction createError(type, name, messageFormat) {\n  for (var _len = arguments.length, messageParams = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    messageParams[_key - 3] = arguments[_key];\n  }\n\n  var index = 0;\n  var message = messageFormat.replace(/%s/g, function () {\n    return String(messageParams[index++]);\n  });\n  var err = new Error(message);\n  var error = Object.assign(err, {\n    name: name,\n    messageFormat: messageFormat,\n    messageParams: messageParams,\n    type: type,\n    taalOpcodes: [2, 2] // skip frame (code=2) twice\n\n  }); // In V8, Error objects keep the closure scope chain alive until the\n  // err.stack property is accessed.\n\n  if (error.stack === undefined) {\n    // IE sets the stack only if error is thrown\n    try {\n      throw error;\n    } catch (_unused) {}\n  }\n\n  return error;\n}\n\nmodule.exports = {\n  create: function create(name, messageFormat) {\n    for (var _len2 = arguments.length, messageParams = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n      messageParams[_key2 - 2] = arguments[_key2];\n    }\n\n    return createError.apply(void 0, ['error', name, messageFormat].concat(messageParams));\n  },\n  createWarning: function createWarning(name, messageFormat) {\n    for (var _len3 = arguments.length, messageParams = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n      messageParams[_key3 - 2] = arguments[_key3];\n    }\n\n    return createError.apply(void 0, ['warn', name, messageFormat].concat(messageParams));\n  }\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar RelayFeatureFlags = {\n  ENABLE_VARIABLE_CONNECTION_KEY: false,\n  ENABLE_PARTIAL_RENDERING_DEFAULT: false,\n  ENABLE_RELAY_CONTAINERS_SUSPENSE: false,\n  ENABLE_PRECISE_TYPE_REFINEMENT: false,\n  ENABLE_REACT_FLIGHT_COMPONENT_FIELD: false,\n  ENABLE_REQUIRED_DIRECTIVES: false,\n  ENABLE_GETFRAGMENTIDENTIFIER_OPTIMIZATION: false,\n  ENABLE_FRIENDLY_QUERY_NAME_GQL_URL: false,\n  ENABLE_STORE_SUBSCRIPTIONS_REFACTOR: false,\n  ENABLE_LOAD_QUERY_REQUEST_DEDUPING: true\n};\nmodule.exports = RelayFeatureFlags;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nfunction emptyFunction() {}\n\nvar aggregateHandlersByName = {\n  '*': []\n};\nvar profileHandlersByName = {\n  '*': []\n};\nvar NOT_INVOKED = {};\nvar defaultProfiler = {\n  stop: emptyFunction\n};\n\nvar shouldInstrument = function shouldInstrument(name) {\n  if (process.env.NODE_ENV !== \"production\") {\n    return true;\n  }\n\n  return name.charAt(0) !== '@';\n};\n/**\n * @public\n *\n * Instruments methods to allow profiling various parts of Relay. Profiling code\n * in Relay consists of three steps:\n *\n *  - Instrument the function to be profiled.\n *  - Attach handlers to the instrumented function.\n *  - Run the code which triggers the handlers.\n *\n * Handlers attached to instrumented methods are called with an instrumentation\n * name and a callback that must be synchronously executed:\n *\n *   instrumentedMethod.attachHandler(function(name, callback) {\n *     const start = performance.now();\n *     callback();\n *     console.log('Duration', performance.now() - start);\n *   });\n *\n * Handlers for profiles are callbacks that return a stop method:\n *\n *   RelayProfiler.attachProfileHandler('profileName', (name, state) => {\n *     const start = performance.now();\n *     return function stop(name, state) {\n *       console.log(`Duration (${name})`, performance.now() - start);\n *     }\n *   });\n *\n * In order to reduce the impact on performance in production, instrumented\n * methods and profilers with names that begin with `@` will only be measured\n * if `__DEV__` is true. This should be used for very hot functions.\n */\n\n\nvar RelayProfiler = {\n  /**\n   * Instruments methods on a class or object. This re-assigns the method in\n   * order to preserve function names in stack traces (which are detected by\n   * modern debuggers via heuristics). Example usage:\n   *\n   *   const RelayStore = { primeCache: function() {...} };\n   *   RelayProfiler.instrumentMethods(RelayStore, {\n   *     primeCache: 'RelayStore.primeCache'\n   *   });\n   *\n   *   RelayStore.primeCache.attachHandler(...);\n   *\n   * As a result, the methods will be replaced by wrappers that provide the\n   * `attachHandler` and `detachHandler` methods.\n   */\n  instrumentMethods: function instrumentMethods(object, names) {\n    for (var _key in names) {\n      if (names.hasOwnProperty(_key)) {\n        if (typeof object[_key] === 'function') {\n          object[_key] = RelayProfiler.instrument(names[_key], object[_key]);\n        }\n      }\n    }\n  },\n\n  /**\n   * Wraps the supplied function with one that provides the `attachHandler` and\n   * `detachHandler` methods. Example usage:\n   *\n   *   const printRelayQuery =\n   *     RelayProfiler.instrument('printRelayQuery', printRelayQuery);\n   *\n   *   printRelayQuery.attachHandler(...);\n   *\n   * NOTE: The instrumentation assumes that no handlers are attached or detached\n   * in the course of executing another handler.\n   */\n  instrument: function instrument(name, originalFunction) {\n    if (!shouldInstrument(name)) {\n      originalFunction.attachHandler = emptyFunction;\n      originalFunction.detachHandler = emptyFunction;\n      return originalFunction;\n    }\n\n    if (!aggregateHandlersByName.hasOwnProperty(name)) {\n      aggregateHandlersByName[name] = [];\n    }\n\n    var catchallHandlers = aggregateHandlersByName['*'];\n    var aggregateHandlers = aggregateHandlersByName[name];\n    var handlers = [];\n    var contexts = [];\n\n    var invokeHandlers = function invokeHandlers() {\n      var context = contexts[contexts.length - 1];\n\n      if (context[0]) {\n        context[0]--;\n        catchallHandlers[context[0]](name, invokeHandlers);\n      } else if (context[1]) {\n        context[1]--;\n        aggregateHandlers[context[1]](name, invokeHandlers);\n      } else if (context[2]) {\n        context[2]--;\n        handlers[context[2]](name, invokeHandlers);\n      } else {\n        context[5] = originalFunction.apply(context[3], context[4]);\n      }\n    };\n\n    var instrumentedCallback = function instrumentedCallback() {\n      var returnValue;\n\n      if (aggregateHandlers.length === 0 && handlers.length === 0 && catchallHandlers.length === 0) {\n        returnValue = originalFunction.apply(this, arguments);\n      } else {\n        contexts.push([catchallHandlers.length, aggregateHandlers.length, handlers.length, this, arguments, NOT_INVOKED]);\n        invokeHandlers();\n        var context = contexts.pop();\n        returnValue = context[5];\n\n        if (returnValue === NOT_INVOKED) {\n          throw new Error('RelayProfiler: Handler did not invoke original function.');\n        }\n      }\n\n      return returnValue;\n    };\n\n    instrumentedCallback.attachHandler = function (handler) {\n      handlers.push(handler);\n    };\n\n    instrumentedCallback.detachHandler = function (handler) {\n      removeFromArray(handlers, handler);\n    };\n\n    instrumentedCallback.displayName = '(instrumented ' + name + ')';\n    return instrumentedCallback;\n  },\n\n  /**\n   * Attaches a handler to all methods instrumented with the supplied name.\n   *\n   *   function createRenderer() {\n   *     return RelayProfiler.instrument('render', function() {...});\n   *   }\n   *   const renderA = createRenderer();\n   *   const renderB = createRenderer();\n   *\n   *   // Only profiles `renderA`.\n   *   renderA.attachHandler(...);\n   *\n   *   // Profiles both `renderA` and `renderB`.\n   *   RelayProfiler.attachAggregateHandler('render', ...);\n   *\n   */\n  attachAggregateHandler: function attachAggregateHandler(name, handler) {\n    if (shouldInstrument(name)) {\n      if (!aggregateHandlersByName.hasOwnProperty(name)) {\n        aggregateHandlersByName[name] = [];\n      }\n\n      aggregateHandlersByName[name].push(handler);\n    }\n  },\n\n  /**\n   * Detaches a handler attached via `attachAggregateHandler`.\n   */\n  detachAggregateHandler: function detachAggregateHandler(name, handler) {\n    if (shouldInstrument(name)) {\n      if (aggregateHandlersByName.hasOwnProperty(name)) {\n        removeFromArray(aggregateHandlersByName[name], handler);\n      }\n    }\n  },\n\n  /**\n   * Instruments profiling for arbitrarily asynchronous code by a name.\n   *\n   *   const timerProfiler = RelayProfiler.profile('timeout');\n   *   setTimeout(function() {\n   *     timerProfiler.stop();\n   *   }, 1000);\n   *\n   *   RelayProfiler.attachProfileHandler('timeout', ...);\n   *\n   * Arbitrary state can also be passed into `profile` as a second argument. The\n   * attached profile handlers will receive this as the second argument.\n   */\n  profile: function profile(name, state) {\n    var hasCatchAllHandlers = profileHandlersByName['*'].length > 0;\n    var hasNamedHandlers = profileHandlersByName.hasOwnProperty(name);\n\n    if (hasNamedHandlers || hasCatchAllHandlers) {\n      var profileHandlers = hasNamedHandlers && hasCatchAllHandlers ? profileHandlersByName[name].concat(profileHandlersByName['*']) : hasNamedHandlers ? profileHandlersByName[name] : profileHandlersByName['*'];\n      var stopHandlers;\n\n      for (var ii = profileHandlers.length - 1; ii >= 0; ii--) {\n        var profileHandler = profileHandlers[ii];\n        var stopHandler = profileHandler(name, state);\n        stopHandlers = stopHandlers || [];\n        stopHandlers.unshift(stopHandler);\n      }\n\n      return {\n        stop: function stop(error) {\n          if (stopHandlers) {\n            stopHandlers.forEach(function (stopHandler) {\n              return stopHandler(error);\n            });\n          }\n        }\n      };\n    }\n\n    return defaultProfiler;\n  },\n\n  /**\n   * Attaches a handler to profiles with the supplied name. You can also\n   * attach to the special name '*' which is a catch all.\n   */\n  attachProfileHandler: function attachProfileHandler(name, handler) {\n    if (shouldInstrument(name)) {\n      if (!profileHandlersByName.hasOwnProperty(name)) {\n        profileHandlersByName[name] = [];\n      }\n\n      profileHandlersByName[name].push(handler);\n    }\n  },\n\n  /**\n   * Detaches a handler attached via `attachProfileHandler`.\n   */\n  detachProfileHandler: function detachProfileHandler(name, handler) {\n    if (shouldInstrument(name)) {\n      if (profileHandlersByName.hasOwnProperty(name)) {\n        removeFromArray(profileHandlersByName[name], handler);\n      }\n    }\n  }\n};\n\nfunction removeFromArray(array, element) {\n  var index = array.indexOf(element);\n\n  if (index !== -1) {\n    array.splice(index, 1);\n  }\n}\n\nmodule.exports = RelayProfiler;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar RelayObservable = require('../network/RelayObservable');\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\n/**\n * An implementation of a `ReplaySubject` for Relay Observables.\n *\n * Records events provided and synchronously plays them back to new subscribers,\n * as well as forwarding new asynchronous events.\n */\nvar RelayReplaySubject = /*#__PURE__*/function () {\n  function RelayReplaySubject() {\n    var _this = this;\n\n    (0, _defineProperty2[\"default\"])(this, \"_complete\", false);\n    (0, _defineProperty2[\"default\"])(this, \"_events\", []);\n    (0, _defineProperty2[\"default\"])(this, \"_sinks\", new Set());\n    (0, _defineProperty2[\"default\"])(this, \"_subscription\", null);\n    this._observable = RelayObservable.create(function (sink) {\n      _this._sinks.add(sink);\n\n      var events = _this._events;\n\n      for (var i = 0; i < events.length; i++) {\n        if (sink.closed) {\n          // Bail if an event made the observer unsubscribe.\n          break;\n        }\n\n        var event = events[i];\n\n        switch (event.kind) {\n          case 'complete':\n            sink.complete();\n            break;\n\n          case 'error':\n            sink.error(event.error);\n            break;\n\n          case 'next':\n            sink.next(event.data);\n            break;\n\n          default:\n            event.kind;\n            !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReplaySubject: Unknown event kind `%s`.', event.kind) : invariant(false) : void 0;\n        }\n      }\n\n      return function () {\n        _this._sinks[\"delete\"](sink);\n      };\n    });\n  }\n\n  var _proto = RelayReplaySubject.prototype;\n\n  _proto.complete = function complete() {\n    if (this._complete === true) {\n      return;\n    }\n\n    this._complete = true;\n\n    this._events.push({\n      kind: 'complete'\n    });\n\n    this._sinks.forEach(function (sink) {\n      return sink.complete();\n    });\n  };\n\n  _proto.error = function error(_error) {\n    if (this._complete === true) {\n      return;\n    }\n\n    this._complete = true;\n\n    this._events.push({\n      kind: 'error',\n      error: _error\n    });\n\n    this._sinks.forEach(function (sink) {\n      return sink.error(_error);\n    });\n  };\n\n  _proto.next = function next(data) {\n    if (this._complete === true) {\n      return;\n    }\n\n    this._events.push({\n      kind: 'next',\n      data: data\n    });\n\n    this._sinks.forEach(function (sink) {\n      return sink.next(data);\n    });\n  };\n\n  _proto.subscribe = function subscribe(observer) {\n    this._subscription = this._observable.subscribe(observer);\n    return this._subscription;\n  };\n\n  _proto.unsubscribe = function unsubscribe() {\n    if (this._subscription) {\n      this._subscription.unsubscribe();\n\n      this._subscription = null;\n    }\n  };\n\n  _proto.getObserverCount = function getObserverCount() {\n    return this._sinks.size;\n  };\n\n  return RelayReplaySubject;\n}();\n\nmodule.exports = RelayReplaySubject;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @emails oncall+relay\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _require = require('../store/RelayStoreUtils'),\n    getModuleComponentKey = _require.getModuleComponentKey,\n    getModuleOperationKey = _require.getModuleOperationKey;\n\nfunction createPayloadFor3DField(name, operation, component, response) {\n  var data = (0, _objectSpread2[\"default\"])({}, response);\n  data[getModuleComponentKey(name)] = component;\n  data[getModuleOperationKey(name)] = operation;\n  return data;\n}\n\nmodule.exports = createPayloadFor3DField;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n/**\n * Recursively \"deep\" freezes the supplied object.\n *\n * For convenience, and for consistency with the behavior of `Object.freeze`,\n * returns the now-frozen original object.\n */\n\nfunction deepFreeze(object) {\n  Object.freeze(object);\n  Object.getOwnPropertyNames(object).forEach(function (name) {\n    var property = object[name];\n\n    if (property && typeof property === 'object' && !Object.isFrozen(property)) {\n      deepFreeze(property);\n    }\n  });\n  return object;\n}\n\nmodule.exports = deepFreeze;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar id = 100000;\n\nfunction generateID() {\n  return id++;\n}\n\nmodule.exports = generateID;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @emails oncall+relay\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar RelayFeatureFlags = require('./RelayFeatureFlags');\n\nvar isEmptyObject = require('./isEmptyObject');\n\nvar stableCopy = require('./stableCopy');\n\nvar _require = require('../store/RelayModernSelector'),\n    getDataIDsFromFragment = _require.getDataIDsFromFragment,\n    getVariablesFromFragment = _require.getVariablesFromFragment,\n    getSelector = _require.getSelector;\n\nfunction getFragmentIdentifier(fragmentNode, fragmentRef) {\n  var selector = getSelector(fragmentNode, fragmentRef);\n  var fragmentOwnerIdentifier = selector == null ? 'null' : selector.kind === 'SingularReaderSelector' ? selector.owner.identifier : '[' + selector.selectors.map(function (sel) {\n    return sel.owner.identifier;\n  }).join(',') + ']';\n  var fragmentVariables = getVariablesFromFragment(fragmentNode, fragmentRef);\n  var dataIDs = getDataIDsFromFragment(fragmentNode, fragmentRef);\n\n  if (RelayFeatureFlags.ENABLE_GETFRAGMENTIDENTIFIER_OPTIMIZATION) {\n    return fragmentOwnerIdentifier + '/' + fragmentNode.name + '/' + (fragmentVariables == null || isEmptyObject(fragmentVariables) ? '{}' : JSON.stringify(stableCopy(fragmentVariables))) + '/' + (typeof dataIDs === 'undefined' ? 'missing' : dataIDs == null ? 'null' : Array.isArray(dataIDs) ? '[' + dataIDs.join(',') + ']' : dataIDs);\n  } else {\n    var _JSON$stringify;\n\n    return fragmentOwnerIdentifier + '/' + fragmentNode.name + '/' + JSON.stringify(stableCopy(fragmentVariables)) + '/' + ((_JSON$stringify = JSON.stringify(dataIDs)) !== null && _JSON$stringify !== void 0 ? _JSON$stringify : 'missing');\n  }\n}\n\nmodule.exports = getFragmentIdentifier;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @emails oncall+relay\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _require = require('./RelayConcreteNode'),\n    REQUEST = _require.REQUEST,\n    SPLIT_OPERATION = _require.SPLIT_OPERATION;\n\n/**\n * OperationLoaders can return either a NormalizationSplitOperation or\n * ConcreteRequest.\n */\nfunction getOperation(node) {\n  switch (node.kind) {\n    case REQUEST:\n      return node.operation;\n\n    case SPLIT_OPERATION:\n    default:\n      return node;\n  }\n}\n\nmodule.exports = getOperation;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar _require = require('./RelayDefaultHandleKey'),\n    DEFAULT_HANDLE_KEY = _require.DEFAULT_HANDLE_KEY;\n/**\n * @internal\n *\n * Helper to create a unique name for a handle field based on the handle name, handle key and\n * source field.\n */\n\n\nfunction getRelayHandleKey(handleName, key, fieldName) {\n  if (key && key !== DEFAULT_HANDLE_KEY) {\n    return \"__\".concat(key, \"_\").concat(handleName);\n  }\n\n  !(fieldName != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'getRelayHandleKey: Expected either `fieldName` or `key` in `handle` to be provided') : invariant(false) : void 0;\n  return \"__\".concat(fieldName, \"_\").concat(handleName);\n}\n\nmodule.exports = getRelayHandleKey;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar stableCopy = require('./stableCopy');\n\n/**\n * Returns a stable identifier for the given pair of `RequestParameters` +\n * variables.\n */\nfunction getRequestIdentifier(parameters, variables) {\n  var requestID = parameters.cacheID != null ? parameters.cacheID : parameters.id;\n  !(requestID != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'getRequestIdentifier: Expected request `%s` to have either a ' + 'valid `id` or `cacheID` property', parameters.name) : invariant(false) : void 0;\n  return requestID + JSON.stringify(stableCopy(variables));\n}\n\nmodule.exports = getRequestIdentifier;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @emails oncall+relay\n */\n'use strict';\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isEmptyObject(obj) {\n  for (var _key in obj) {\n    if (hasOwnProperty.call(obj, _key)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = isEmptyObject;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nfunction isPromise(p) {\n  return !!p && typeof p.then === 'function';\n}\n\nmodule.exports = isPromise;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n/**\n * A fast test to determine if two values are equal scalars:\n * - compares scalars such as booleans, strings, numbers by value\n * - compares functions by identity\n * - returns false for complex values, since these cannot be cheaply tested for\n *   equality (use `areEquals` instead)\n */\n\nfunction isScalarAndEqual(valueA, valueB) {\n  return valueA === valueB && (valueA === null || typeof valueA !== 'object');\n}\n\nmodule.exports = isScalarAndEqual;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar hasWeakSetDefined = typeof WeakSet !== 'undefined';\nvar hasWeakMapDefined = typeof WeakMap !== 'undefined';\n/**\n * Recycles subtrees from `prevData` by replacing equal subtrees in `nextData`.\n */\n\nfunction recycleNodesInto(prevData, nextData) {\n  if (prevData === nextData || typeof prevData !== 'object' || prevData instanceof Set || prevData instanceof Map || hasWeakSetDefined && prevData instanceof WeakSet || hasWeakMapDefined && prevData instanceof WeakMap || !prevData || typeof nextData !== 'object' || nextData instanceof Set || nextData instanceof Map || hasWeakSetDefined && nextData instanceof WeakSet || hasWeakMapDefined && nextData instanceof WeakMap || !nextData) {\n    return nextData;\n  }\n\n  var canRecycle = false; // Assign local variables to preserve Flow type refinement.\n\n  var prevArray = Array.isArray(prevData) ? prevData : null;\n  var nextArray = Array.isArray(nextData) ? nextData : null;\n\n  if (prevArray && nextArray) {\n    canRecycle = nextArray.reduce(function (wasEqual, nextItem, ii) {\n      var prevValue = prevArray[ii];\n      var nextValue = recycleNodesInto(prevValue, nextItem);\n\n      if (nextValue !== nextArray[ii]) {\n        if (process.env.NODE_ENV !== \"production\") {\n          if (!Object.isFrozen(nextArray)) {\n            nextArray[ii] = nextValue;\n          }\n        } else {\n          nextArray[ii] = nextValue;\n        }\n      }\n\n      return wasEqual && nextValue === prevArray[ii];\n    }, true) && prevArray.length === nextArray.length;\n  } else if (!prevArray && !nextArray) {\n    // Assign local variables to preserve Flow type refinement.\n    var prevObject = prevData;\n    var nextObject = nextData;\n    var prevKeys = Object.keys(prevObject);\n    var nextKeys = Object.keys(nextObject);\n    canRecycle = nextKeys.reduce(function (wasEqual, key) {\n      var prevValue = prevObject[key];\n      var nextValue = recycleNodesInto(prevValue, nextObject[key]);\n\n      if (nextValue !== nextObject[key]) {\n        if (process.env.NODE_ENV !== \"production\") {\n          if (!Object.isFrozen(nextObject)) {\n            // $FlowFixMe[cannot-write]\n            nextObject[key] = nextValue;\n          }\n        } else {\n          // $FlowFixMe[cannot-write]\n          nextObject[key] = nextValue;\n        }\n      }\n\n      return wasEqual && nextValue === prevObject[key];\n    }, true) && prevKeys.length === nextKeys.length;\n  }\n\n  return canRecycle ? prevData : nextData;\n}\n\nmodule.exports = recycleNodesInto;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @emails oncall+relay\n * @format\n */\n'use strict';\n\nfunction reportMissingRequiredFields(environment, missingRequiredFields) {\n  switch (missingRequiredFields.action) {\n    case 'THROW':\n      {\n        var _missingRequiredField = missingRequiredFields.field,\n            path = _missingRequiredField.path,\n            owner = _missingRequiredField.owner; // This gives the consumer the chance to throw their own error if they so wish.\n\n        environment.requiredFieldLogger({\n          kind: 'missing_field.throw',\n          owner: owner,\n          fieldPath: path\n        });\n        throw new Error(\"Relay: Missing @required value at path '\".concat(path, \"' in '\").concat(owner, \"'.\"));\n      }\n\n    case 'LOG':\n      missingRequiredFields.fields.forEach(function (_ref) {\n        var path = _ref.path,\n            owner = _ref.owner;\n        environment.requiredFieldLogger({\n          kind: 'missing_field.log',\n          owner: owner,\n          fieldPath: path\n        });\n      });\n      break;\n\n    default:\n      {\n        missingRequiredFields.action;\n      }\n  }\n}\n\nmodule.exports = reportMissingRequiredFields;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar resolvedPromise = Promise.resolve();\n/**\n * An alternative to setImmediate based on Promise.\n */\n\nfunction resolveImmediate(callback) {\n  resolvedPromise.then(callback)[\"catch\"](throwNext);\n}\n\nfunction throwNext(error) {\n  setTimeout(function () {\n    throw error;\n  }, 0);\n}\n\nmodule.exports = resolveImmediate;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n/**\n * Creates a copy of the provided value, ensuring any nested objects have their\n * keys sorted such that equivalent values would have identical JSON.stringify\n * results.\n */\n\nfunction stableCopy(value) {\n  if (!value || typeof value !== 'object') {\n    return value;\n  }\n\n  if (Array.isArray(value)) {\n    return value.map(stableCopy);\n  }\n\n  var keys = Object.keys(value).sort();\n  var stable = {};\n\n  for (var i = 0; i < keys.length; i++) {\n    stable[keys[i]] = stableCopy(value[keys[i]]);\n  }\n\n  return stable;\n}\n\nmodule.exports = stableCopy;","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","module.exports = __WEBPACK_EXTERNAL_MODULE__9297__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import * as React from 'react';\nimport {generateDefaultElement, generateSpecifiedElement} from './functions';\n\nconst PeriqlesField = ({\n  field,\n  specs,\n  formState,\n  setFormState,\n  handleChange,\n}: PeriqlesFieldProps) => {\n  // console.log(`Rendering PeriqlesField for ${field.name}`);\n  const renderField = () => {\n    if (!specs) {\n      return generateDefaultElement(field, formState, handleChange);\n    }\n\n    return generateSpecifiedElement(\n      field,\n      specs,\n      formState,\n      setFormState,\n      handleChange,\n    );\n  };\n\n  return renderField();\n};\n\nexport default PeriqlesField;\n","import * as React from 'react';\n\nexport const introspect = (\n  mutationName: string, \n  setFields: React.Dispatch<React.SetStateAction<PeriqlesField[]>>, \n  args: PeriqlesMutationArgs): void => {\n  const inputTypeName: string = mutationName + 'Input';\n\n  fetch('/graphql', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      query: `query typeQuery($inputType: String!)\n        {\n      __type(name: $inputType) {\n          name\n          inputFields {\n              name\n              type {\n                  name\n                  kind\n                  ofType {\n                      name\n                      kind\n                      enumValues {\n                          name\n                          description\n                      }\n                  }\n                }\n            }\n        }\n      }`,\n      variables: {\n        inputType: inputTypeName,\n      },\n    }),\n  })\n    .then((res) => res.json())\n    .then(({data}) => {\n      if (!data) {\n        return console.error(\n          'ERROR at periqles: Failed to introspect. No data received.',\n        );\n      }\n      if (!data.__type) {\n        return console.error(\n          'ERROR at periqles: Failed to introspect. No __type property on received data.',\n        );\n      }\n      const typeSchema = data.__type;\n      // intuit fields off the schema\n      const fieldsArr: PeriqlesField[] = fieldsArrayGenerator(typeSchema, args);\n      setFields(fieldsArr);\n    })\n    .catch((err) => {\n      console.error('ERROR at periqles: Failed to introspect.', err);\n    });\n};\n\nexport const fieldsArrayGenerator = (\n  inputType: InputType,\n  args: PeriqlesMutationArgs = {},\n): PeriqlesField[] => {\n  if (!inputType || !inputType.inputFields) {\n    console.error('ERROR at PeriqlesForm: mutation input type is undefined.');\n    return [];\n  }\n\n  const fieldsArray: Array<PeriqlesField> = [];\n\n  inputType.inputFields.forEach((field) => {\n    // exclude from the form any inputs accounted for by args\n    if (args[field.name]) return;\n\n    const fieldObj: PeriqlesField = {\n      name: field.name,\n    };\n\n    //check the field.type.kind to see if the field is NON_NULL (required)\n    //if so, set fieldObj.required to true\n    fieldObj.required = field.type.kind === 'NON_NULL';\n\n    // the input field is a scalar, nullable type\n    if (field.type.name && field.type.kind === 'SCALAR') {\n      fieldObj.type = field.type.name;\n    }\n\n    // the input field is an enumerated type (whether or not wrapped in a NON_NULL type)\n    else if (field.type.kind === 'ENUM' || field.type.ofType?.kind === 'ENUM') {\n      fieldObj.type = 'Enum';\n      try {\n        const optionsArr =\n          field.type.enumValues || field.type.ofType?.enumValues || [];\n        // provide each option a type property\n        fieldObj.options = optionsArr.map((option: EnumValue) => {\n          let value, type;\n\n          switch (typeof option.name) {\n            case 'number':\n            case 'bigint':\n              value = option.name;\n              type = 'Int';\n              break;\n            case 'boolean':\n              // stringify booleans b/c HTML typing doesn't allow for boolean value attributes\n              value = `${option.name}`;\n              type = 'Boolean';\n              break;\n            default:\n              value = option.name;\n              type = 'String';\n          }\n\n          const mappedOption: PeriqlesFieldOption = {\n            name: `${option.name}`,\n            label: `${option.name}`,\n            value,\n            type,\n          };\n\n          return mappedOption;\n        });\n      } catch (err) {\n        console.error(\n          'ERROR at PeriqlesForm: Failure to assign enumerated field.',\n          err,\n        );\n      }\n    }\n    // the input field is a scalar wrapped in a NON_NULL type\n    else if (field.type.ofType?.name && field.type.ofType?.kind === 'SCALAR') {\n      // TODO\n      fieldObj.type = field.type.ofType.name;\n    }\n    // TODO: the input field is not a scalar or enum type\n    else {\n      console.warn(\n        `The '${field.name}' input field is of a complex type not currently supported by PeriqlesForm. It will default to a 'String'. Type:`,\n        field,\n      );\n      fieldObj.type = 'String';\n    }\n\n    fieldsArray.push(fieldObj);\n  });\n\n  return fieldsArray;\n};\n\n/**\n * Builds an HTML element to collect user input for a GraphQL mutation based on user-provided instructions.\n * @param {Object} field An object representing an input field for a GraphQL mutation. Example: {name: \"name\", type: \"String\"}\n * @param {Object} specs An object representing developer-specified information to use for an HTML element representing this field. Example: {label: \"Name\", element: \"textarea\", options: []}\n * @return  Returns the specified HTML input element with the specified label and specified sub-options, if any.\n */\n\nexport const generateSpecifiedElement = (\n  field: PeriqlesField,\n  specs: PeriqlesFieldSpecs,\n  formState: FormState,\n  handleChange: (e) => void,\n  setFormState: React.Dispatch<React.SetStateAction<FormState>>,\n): JSX.Element => {\n  let element: JSX.Element;\n\n  //If label isn't given, set it as field.name w/ spaces & 1st letter capitalized\n  if (!specs.label) {\n    specs.label = field.name.replace(/([a-z])([A-Z])/g, '$1 $2');\n    specs.label = specs.label[0].toUpperCase() + specs.label.slice(1);\n  }\n  if (specs.render) {\n    element = specs.render(formState, setFormState, handleChange);\n    return element;\n  }\n\n  switch (specs.element) {\n    case 'range':\n      element = (\n        <label>\n          {specs.label}\n          <input\n            type=\"range\"\n            className={field.name + '-range periqles-range'}\n            name={field.name}\n            min={specs.min || 0}\n            max={specs.max || Infinity}\n            value={formState[field.name]}\n            onChange={handleChange}\n          />\n        </label>\n      );\n      break;\n\n    case 'image':\n      element = (\n        <label>\n          {specs.label}\n          <input\n            type=\"image\"\n            className={field.name + '-image periqles-image'}\n            name={field.name}\n            src={specs.src}\n            alt={specs.label}\n            value={formState[field.name]}\n            onChange={handleChange}\n          />\n        </label>\n      );\n      break;\n\n    case 'radio':\n      //if options aren't given, use field.options\n      const radioOptions: Array<PeriqlesFieldOption> = [];\n      if (specs.options) {\n        specs.options.forEach((spec) => {\n          let name, type;\n\n          field.options?.forEach((option) => {\n            if (option.label === spec.label) {\n              name = option.name;\n              type = option.type;\n            }\n          });\n\n          const newOption: PeriqlesFieldOption = {\n            name,\n            label: spec.label,\n            value: spec.value,\n            type,\n          };\n\n          radioOptions.push(newOption);\n        });\n      } else field.options?.forEach((option) => radioOptions.push(option));\n\n      element = (\n        <div className={field.name + '-radio periqles-radio'}>\n          <label className=\"periqles-radio-div-label\">{specs.label}</label>\n          {radioOptions.map((option, index) => {\n            return (\n              <label\n                key={`${field.name}radio-label${index}`}\n                className=\"periqles-radio-option-label\">\n                <input\n                  key={`${field.name}radio-btn${index}`}\n                  type=\"radio\"\n                  name={field.name}\n                  className={field.name + '-radio-option periqles-radio-option'}\n                  value={option.value}\n                  onChange={handleChange}\n                  // dynamically set initial \"checked\" attribute based on whether this option's value matches the div's value\n                  defaultChecked={option.value === formState[field.name]}\n                />\n                {option.label}\n              </label>\n            );\n          })}\n        </div>\n      );\n      break;\n\n    // TODO: handle non-null/non-null-default selects\n    case 'select':\n      const selectOptions: Array<PeriqlesFieldOption> = [];\n      if (specs.options) {\n        specs.options.forEach((spec) => {\n          let name, type;\n\n          field.options?.forEach((option) => {\n            if (option.label === spec.label) {\n              name = option.name;\n              type = option.type;\n            }\n          });\n\n          const newOption: PeriqlesFieldOption = {\n            name,\n            label: spec.label,\n            value: spec.value,\n            type,\n          };\n\n          selectOptions.push(newOption);\n        });\n      } else field.options?.forEach((option) => selectOptions.push(option));\n\n      element = (\n        <label>\n          {specs.label}\n          <select\n            className={field.name + '-select periqles-select'}\n            name={field.name}\n            defaultValue={formState[field.name]}\n            onChange={handleChange}>\n            {selectOptions.map((option, index) => {\n              return (\n                <option\n                  key={`${field.name}select${index}`}\n                  value={option.value}\n                  className={\n                    field.name + '-select-option periqles-select-option'\n                  }>\n                  {option.label}\n                </option>\n              );\n            })}\n          </select>\n        </label>\n      );\n      break;\n\n    case 'textarea':\n      element = (\n        <label>\n          {specs.label}\n          <textarea\n            className={field.name + '-textarea periqles-textarea'}\n            name={field.name}\n            value={formState[field.name]}\n            onChange={handleChange}\n          />\n        </label>\n      );\n      break;\n\n    default:\n      const elementType: string = specs.element || 'text';\n\n      element = (\n        <label>\n          {specs.label}\n          <input\n            type={elementType}\n            className={`${field.name}-${elementType} periqles-${elementType}`}\n            name={field.name}\n            value={formState[field.name]}\n            onChange={handleChange}></input>\n        </label>\n      );\n  }\n\n  return element;\n};\n\nexport const generateDefaultElement = (\n  field: PeriqlesField,\n  formState: FormState,\n  handleChange,\n): JSX.Element => {\n  // assign a label that matches name but w/ spaces between words and first char uppercased\n  field.label = field.name.replace(/([a-z])([A-Z])/g, '$1 $2');\n  field.label = field.label[0].toUpperCase() + field.label.slice(1);\n\n  let element: JSX.Element;\n\n  switch (field.type) {\n    case 'Int':\n      element = (\n        <label>\n          {field.label}\n          <input\n            type=\"number\"\n            className={field.name + '-number periqles-number'}\n            name={field.name}\n            value={formState[field.name]}\n            onChange={handleChange}></input>\n        </label>\n      );\n      break;\n\n    // TODO: test that this works with formState values restricted only to numbers or strings\n    case 'Boolean':\n      element = (\n        <label>\n          {field.label}\n          <input\n            type=\"checkbox\"\n            className={field.name + '-checkbox periqles-checkbox'}\n            name={field.name}\n            value={formState[field.name]}\n            onChange={handleChange}></input>\n        </label>\n      );\n      break;\n\n    case 'Enum':\n      // TODO: new select options logic\n      const selectOptions: Array<PeriqlesFieldOption> = [];\n      field.options?.forEach((option) => selectOptions.push(option));\n\n      element = (\n        <label>\n          {field.label}\n          <select\n            className={field.name + '-select periqles-select'}\n            name={field.name}\n            defaultValue={formState[field.name]}\n            onChange={handleChange}>\n            {selectOptions.map((option, index) => {\n              return (\n                <option\n                  key={`${field.name}select${index}`}\n                  value={option.name}\n                  className={\n                    field.name + '-select-option periqles-select-option'\n                  }>\n                  {option.name}\n                </option>\n              );\n            })}\n          </select>\n        </label>\n      );\n      break;\n\n    default:\n      const elementLookup = {\n        pass: 'password',\n        password: 'password',\n        color: 'color',\n        colour: 'color',\n        url: 'url',\n        link: 'url',\n        date: 'date',\n        time: 'time',\n        file: 'file',\n        datetime: 'datetime',\n        timestamp: 'datetime',\n        telephone: 'tel',\n        phone: 'tel',\n        mobile: 'tel',\n        phonenumber: 'tel',\n        cell: 'tel',\n      };\n      const textFieldName: string = field.name.toLowerCase();\n      const elementType: string = elementLookup[textFieldName] || 'text';\n\n      element = (\n        <label>\n          {field.label}\n          <input\n            type={elementType}\n            className={`${field.name}-${elementType} periqles-${elementType}`}\n            name={field.name}\n            value={formState[field.name]}\n            onChange={handleChange}></input>\n        </label>\n      );\n  }\n\n  return element;\n};\n","import api from \"!./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!./node_modules/css-loader/dist/cjs.js!./periqles.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import * as React from 'react';\nimport PeriqlesField from './PeriqlesField';\nimport {introspect} from './functions';\n// can we avoid having react-relay as a dependency?\nimport {commitMutation} from 'react-relay';\nimport '../periqles.css'\n\nconst {useState, useEffect} = React;\n\n/**\n * Higher-order component that performs an introspection query then returns a form component that renders dynamically based on an introspected input type.\n * @param {Object} environment (REQUIRED) The RelayEnvironment instance shared by this application's components, containing the network layer and store.\n * @param {String} mutationName (REQUIRED) The name of a mutation exactly as written on the Relay schema.\n * @param {String|Object} mutationGQL (REQUIRED) A GraphQˀL mutation string or GraphQLTaggedNode request object.\n * @param {Object} specifications Optional parameters to specify the form's appearance and behavior, including a \"fields\" property that is an array of objects matching field names to specifed HTML input element types.\n * @param {[Object]} args Optional arguments to be passed to the mutation, represented as an array of objects with the shape {name, value}. Input fields represented here will be excluded from the form.\n * @return {Function} PeriqlesField, a React functional component\n *\n */\n\nconst PeriqlesForm = ({\n  environment,\n  mutationName,\n  mutationGQL,\n  specifications,\n  args = {},\n  callbacks,\n}: PeriqlesFormProps): JSX.Element => {\n  const [formState, setFormState] = useState<FormState>({});\n  const [fields, setFields] = useState<PeriqlesField[]>([]);\n\n  useEffect(() => {\n    introspect(mutationName, setFields, args);\n  }, [mutationName]);\n\n  // HANDLERS\n  const handleSubmit = (e, fields): void => {\n    if (e.key === 'Enter' || e.type === 'click') {\n      e.preventDefault(); // prevent page refesh\n    }\n\n    // validate non-null text fields\n    const fieldNames = Object.keys(formState);\n    for (let i = 0; i < fieldNames.length; i += 1) {\n      const fieldObj = fields.filter(\n        (fieldObj) => fieldObj.name === fieldNames[i],\n      )[0];\n      if (fieldObj.required && formState[fieldNames[i]] === '') {\n        window.alert(`The following field is REQUIRED: ${fieldObj.label}`);\n        return;\n      }\n    }\n\n    const input: Input = {...formState, ...args};\n    const variables: Variables = {\n      input,\n    };\n    commitMutation(environment, {\n      mutation: mutationGQL,\n      variables,\n      onCompleted: (response, errors): void => {\n        if (callbacks?.onSuccess) callbacks.onSuccess(response);\n        setFormState({});\n      },\n      onError: (err): void => {\n        if (callbacks?.onFailure) callbacks.onFailure(err);\n      },\n    });\n  };\n\n  const handleChange = (e): void => {\n    console.log('Handling change');\n    const {name, value, type} = e.target;\n    let useValue = value;\n    // type-coerce values from number input elements before storing in state\n    if (type === 'number') {\n      useValue -= 0;\n    }\n\n    setFormState({...formState, [name]: useValue});\n  };\n\n  const renderFields = (fields: PeriqlesField[]) => {\n    // add each field to formState\n    // const startingValues = {};\n    // fields.forEach((field: PeriqlesField) => {\n    //   let initialValue;\n    //   switch (field.type) {\n    //     case 'String':\n    //       initialValue = '';\n    //       break;\n    //     case 'Int':\n    //       initialValue = 0;\n    //       break;\n    //     case 'Boolean':\n    //       initialValue = false;\n    //       break;\n    //     case 'Enum':\n    //       if (!field.options) {\n    //         initialValue = '';\n    //       } else initialValue = field.options[0].name;\n    //       break;\n    //     default:\n    //       initialValue = '';\n    //   }\n    //   startingValues[field.name] = initialValue;\n    // });\n    // console.log('Setting initial form state');\n    // setFormState(startingValues);    // infinite loop\n\n    return fields.map((field: PeriqlesField, index: number) => {\n      const specs = specifications\n        ? specifications.fields[field.name]\n        : undefined;\n      return (\n        <PeriqlesField\n          key={`Periqles${mutationName}Field${index}`}\n          field={field}\n          specs={specs}\n          formState={formState}\n          setFormState={setFormState}\n          handleChange={handleChange}\n        />\n      );\n    });\n  };\n\n  let headerText: string = mutationName\n    .replace('Mutation', '') //remove 'Mutation'\n    .replace(/([a-z])([A-Z])/g, '$1 $2'); // add spaces before capital letters\n  headerText = headerText[0].toUpperCase() + headerText.slice(1); // capitalize first letter\n\n  return (\n    <form\n      className=\"PeriqlesForm\"\n      aria-labelledby=\"form\"\n      onSubmit={(e) => handleSubmit(e, fields)}>\n      <h2>{headerText}</h2>\n      {fields.length ? renderFields(fields) : <p>Loading form...</p>}\n      <button\n        className=\"periqles-submit\"\n        onClick={(e) => handleSubmit(e, fields)}>\n        Submit\n      </button>\n    </form>\n  );\n};\n\nexport default PeriqlesForm;\n","import PeriqlesForm from './PeriqlesForm';\nexport default PeriqlesForm;"],"sourceRoot":""}